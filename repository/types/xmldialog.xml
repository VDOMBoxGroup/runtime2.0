<?xml version="1.0" encoding="utf-8"?>
<Type>
	<Information>
		<ID>887e2a68-4cb0-e28a-6d7b-4dd41c35ca6a</ID>
		<Name>xmldialog</Name>
		<DisplayName>#Lang(001)</DisplayName>
		<ClassName>VDOM_xmldialog</ClassName>
		<Description>#Lang(002)</Description>
		<Version>1.189.93</Version>
		<Category>Additional</Category>
		<InterfaceType>1</InterfaceType>
		<Icon>#Res(723723b4-c8f4-5e4a-b02c-16fa8e0d53f7)</Icon>
		<EditorIcon>#Res(37abe2ec-e61a-8981-e929-16faba369563)</EditorIcon>
		<StructureIcon>#Res(9f1c05cd-fee2-6055-2ef4-16fae6375ed7)</StructureIcon>
		<Dynamic>1</Dynamic>
		<Moveable>1</Moveable>
		<Resizable>3</Resizable>
		<OptimizationPriority>1</OptimizationPriority>
		<Container>1</Container>
		<Containers>htmlcontainer, container</Containers>
		<Handlers>on_update</Handlers>
		<Languages>en_US</Languages>
	</Information>
	<Attributes>
		<Attribute>
			<Name>stateful</Name>
			<DisplayName>#Lang(199)</DisplayName>
			<Description>#Lang(299)</Description>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^[01]$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(399)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(499)|0)|(#Lang(499)|1))</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>hierarchy</Name>
			<DisplayName>#Lang(101)</DisplayName>
			<Description>#Lang(201)</Description>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^\d+$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(301)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(2)</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>top</Name>
			<DisplayName>#Lang(102)</DisplayName>
			<Description>#Lang(202)</Description>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(302)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(4)</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>left</Name>
			<DisplayName>#Lang(103)</DisplayName>
			<Description>#Lang(203)</Description>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(303)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(4)</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>width</Name>
			<DisplayName>#Lang(104)</DisplayName>
			<Description>#Lang(204)</Description>
			<DefaultValue>400</DefaultValue>
			<RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(304)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(4)</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>height</Name>
			<DisplayName>#Lang(105)</DisplayName>
			<Description>#Lang(205)</Description>
			<DefaultValue>300</DefaultValue>
			<RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(305)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(4)</CodeInterface>
			<ColorGroup>1</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>title</Name>
			<DisplayName>#Lang(106)</DisplayName>
			<Description>#Lang(206)</Description>
			<DefaultValue></DefaultValue>
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(306)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(1000)</CodeInterface>
			<ColorGroup>2</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>xmldata</Name>
			<DisplayName>#Lang(107)</DisplayName>
			<Description>#Lang(207)</Description>
			<DefaultValue></DefaultValue>
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(307)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(50000)</CodeInterface>
			<ColorGroup>2</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>show</Name>
			<DisplayName>#Lang(108)</DisplayName>
			<Description>#Lang(208)</Description>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>[01]</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(308)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(401)|1)|(#Lang(402)|0))</CodeInterface>
			<ColorGroup>2</ColorGroup>
		</Attribute>
		<Attribute>
			<Name>modal</Name>
			<DisplayName>#Lang(109)</DisplayName>
			<Description>#Lang(209)</Description>
			<DefaultValue>1</DefaultValue>
			<RegularExpressionValidation>[01]</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(309)</ErrorValidationMessage>
			<Visible>1</Visible>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(403)|1)|(#Lang(404)|0))</CodeInterface>
			<ColorGroup>2</ColorGroup>
		</Attribute>
	</Attributes>
	<Languages>
		<Language Code="en_US">
			<Sentence ID="001">XML dialog</Sentence>
			<Sentence ID="002">The XML dialog type produces an object displayed as a dialog window. The content of the dialog is described in the &apos;XML data&apos; attribute ib XML format.</Sentence>
			<Sentence ID="003"></Sentence>
			<Sentence ID="101">Herarchy</Sentence>
			<Sentence ID="102">Top</Sentence>
			<Sentence ID="103">Left</Sentence>
			<Sentence ID="104">Width</Sentence>
			<Sentence ID="105">Height</Sentence>
			<Sentence ID="106">Title</Sentence>
			<Sentence ID="107">XML data</Sentence>
			<Sentence ID="108">Show</Sentence>
			<Sentence ID="109">Modal</Sentence>
			<Sentence ID="201">Hierarchy of the object</Sentence>
			<Sentence ID="202">Distance from the top edge of the parent in pixels</Sentence>
			<Sentence ID="203">Distance from the left edge of the parent in pixels</Sentence>
			<Sentence ID="204">Width in pixels</Sentence>
			<Sentence ID="205">Height in pixels</Sentence>
			<Sentence ID="206">Title of the object to display, HTML allowed</Sentence>
			<Sentence ID="207">XML data</Sentence>
			<Sentence ID="208">Show dialog after page load</Sentence>
			<Sentence ID="209">Open dialog in modal window</Sentence>
			<Sentence ID="301">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="302">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="303">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="304">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="305">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="306">Incorrect value</Sentence>
			<Sentence ID="307">Incorrect value</Sentence>
			<Sentence ID="308">Incorrect value</Sentence>
			<Sentence ID="309">Incorrect value</Sentence>
			<Sentence ID="401">Yes</Sentence>
			<Sentence ID="402">No</Sentence>
			<Sentence ID="403">Yes</Sentence>
			<Sentence ID="404">No</Sentence>
			<Sentence ID="501"></Sentence>
			<Sentence ID="502"></Sentence>
			<Sentence ID="503"></Sentence>
			<Sentence ID="504"></Sentence>
			<Sentence ID="505"></Sentence>
			<Sentence ID="506"></Sentence>
			<Sentence ID="507"></Sentence>
			<Sentence ID="508"></Sentence>
			<Sentence ID="509"></Sentence>
			<Sentence ID="601"></Sentence>
			<Sentence ID="602"></Sentence>
			<Sentence ID="603"></Sentence>
			<Sentence ID="604"></Sentence>
			<Sentence ID="605"></Sentence>
			<Sentence ID="701"></Sentence>
			<Sentence ID="702"></Sentence>
			<Sentence ID="703"></Sentence>
			<Sentence ID="704"></Sentence>
			<Sentence ID="705"></Sentence>
			<Sentence ID="706"></Sentence>
			<Sentence ID="707"></Sentence>
			<Sentence ID="801"></Sentence>
			<Sentence ID="802"></Sentence>
			<Sentence ID="803"></Sentence>
			<Sentence ID="804"></Sentence>
			<Sentence ID="805"></Sentence>
			<Sentence ID="806"></Sentence>
			<Sentence ID="807"></Sentence>
			<Sentence ID="901"></Sentence>
			<Sentence ID="902"></Sentence>
		</Language>
	</Languages>
	<Resources>
		<Resource ID="37abe2ec-e61a-8981-e929-16faba369563" Type="png" Name="Icon">
			iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACwklEQVR42m1TS08TURQ+Z2b6oIXW
			2gemhaamCzbs0KT9AYaNCXFpYmKMK124YGGMMZiACwxuXJjGxC0LF7Bwr24IaxIoIUQFpOXVlpnp
			Y/qYufd67gBViDe5c6e953zn+75zBhlzAFEBRVHg6hKCA+eCTgGapsHS0hKk02lYWVn5Mj4+fmd6
			evoZMsYeU2zoKoBMOtvcPWUyYxyOj48CuVz+eT6fDxUKBR273a5F6AO2bUOn03GTOeeXqsvfkoFc
			rVYLtre3IRgMWgsLC5+w1+vuUkxybW0NfD7ff2SI/omI0G63WSwW8+3u/poPBAZfkgRnv93ujKyv
			r8PY2Bg4juMGyn0VSBbY3Ny0E4mEBiheJeLD82hZVonopegC6vU6qKrqUj6TIS4xIL/A6/U62WxW
			q9UqM5FIdI4AWiXqQqpYLPYTPB5PH+hiyXfJigo6yWRSqzfMmej12By221bJtp0UtQb8fj9IMzOZ
			DBDNv3LOAfwDA1Dc2HBC4bAmuPP6WiT6BpvNRgkAU1tbW/0Edi7BpX6ppW5H7PToqEc3Tl9Eo/G3
			2GjUXQCZ6JBGQRvP9bNe78wL+b8EpgKKqjoMQDNN/cPQUPgjmqbhAnAK4jRM3DCgt7gIgpI98Thd
			IajkvtNsghoMArcsYKbZ9wYNQ+8DCDKue3ICe7OzYNdqkJichGguB82dHYhOTADrdqG6uirKy8vo
			DYddTajrp/vE1gWgcYPWwQGsPn0CPcOE7NQUhG5moFOpQvz2LWjs7QGSjN/fvoP+8wcqZLoEKMtJ
			lD1WCMAol+Hzw0fgUDWV2imrahTI5JiTRE8gACgLVSq2rRsWHh6V9zmDEU4POTM90l4uH7pDI6SB
			5AGXtiExpm+DywsA9aRafT8cj7/D+w/u3lNQuUHJitSkKIiRwYDbe/HvOIuLB8pPzBvweb+GIsMb
			fwCDLsCecWjaaQAAAABJRU5ErkJggg==
		</Resource>
		<Resource ID="723723b4-c8f4-5e4a-b02c-16fa8e0d53f7" Type="png" Name="Icon">
			iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ
			bWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdp
			bj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6
			eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0
			NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJo
			dHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlw
			dGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAv
			IiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RS
			ZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpD
			cmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNl
			SUQ9InhtcC5paWQ6MDg4OURDOEQwNjI5MTFFMkFGRTc5NzQxNzY5NDk4RjIiIHhtcE1NOkRvY3Vt
			ZW50SUQ9InhtcC5kaWQ6MDg4OURDOEUwNjI5MTFFMkFGRTc5NzQxNzY5NDk4RjIiPiA8eG1wTU06
			RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg5REM4QjA2MjkxMUUyQUZF
			Nzk3NDE3Njk0OThGMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg5REM4QzA2MjkxMUUy
			QUZFNzk3NDE3Njk0OThGMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1w
			bWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuGucnAAAAUWSURBVHja1FldSFtXHP/FZtb4May2XU2n
			smqn4MA5mKgtexjVrMUvXGnKvroXHwp7qjrtg0++TMRCHwbrg3sRIVMZ7RzOTDpEiMwwiXbi0PoS
			mpm1NHGiRpOo2f9cb9IYb25urs57/cPhnHPPuSfnl//H73/u0QQCARwHMRgMOqraqHxKJZvKMyp9
			VL4xm80bmuMAhEAkUzVaQWI0GpGVlQWn04n+/n5YLJYJGqvURns5GsDw58H23rkBwfdDc/nxYFVd
			+0FMIAk41VZeXl7R3NwcepadnY2mpia2bsXExMTXCUqCiMMaPmGaEBL++efaSkNp6qjZuqoUiJ8e
			jvH9/esE3zHeuAm9Xi+4L2ZmJG8y0zontlkpICKfHUYd3s7MzOR8gplTpLDnJH8z00pVMwgm5OMw
			mUyCGmEOT9KboHYQrK6trYXL5UJ3dzccDge2t7e5mvX5qNWpuVL1/ru/jkza1AoiWHu9XgwNDbGN
			w+12Y2vL7wA03wd5RBtt41arFQMDA4pzCNNGUVEREhMT0dDQwBW2v8++qKmh4engPG206MRAdHV1
			QUnC1Gg0aGlp4YAIR8pXohXjD7/fj42NDcWA6HQ6UXMUBCJk/8ypfD6fYkCYOQn5pBAQ0ailFokF
			IgREnLHVAyYu04qclJSUpCgAZl6xQISACE0qKytDe3u74pooKSk5mLPX19ejrq7uSMhOzphkZz8q
			xpY7JolHWD01NYXBwUHFTau6uhqFhYXSCTFyIgOhFmYvKCiQqhFh1amF2aX4iGj4Zcze0dHBtVtb
			W9HZ2SnY/r+ZXYqPJEidqCZ2j1sjkf94tPZRg4graqmJ2Q+kkdLSUlUwe3FxsXSNCE2soQMYi+FK
			kV08ZLgn+1UTY8sBkxD+8ey4gRj+7gdY7KlILvxQnkaUBhE9agUgC0TayopSuQvTBvcJa+WXHvGo
			JeUfdT94EP7RVlHRHsScvOzDhJqAyPWJTa83KpATaWnIuXsXO5R02ilfS6GT3vnGRqzQ8eBlfz/y
			+FzN2deHVYsFGXSQO11VhZ3NTSzeuYNcnsPsfK53YI2IjW3Qj0bVCI0tPXqE3Fu38DpxUgYdnX3L
			y3jW2/sqKaU5Jy9exIvHj5GUlxdyV7buDr8u9xsH1UgsgB6W4ouYlmdkBDo6S5y7epXrP+3pwerz
			59Cmp+9idbmQkp/PrZOk18PrduMEpe6sHwTikXiM4DUCWWF0PQYQJi9mZnCWtLFJm7QPDXHPXuPz
			N9fcHHIqK3HWaISWACzPz+MUAV8PA7IeDxC5XOCRACTv+nX42T+ekYELt29j9t49JCYnc2MvFxaQ
			dfkycgwGuAgE01Y6AWHrBuRoZM91Vxz+EgvIe21t0GVm4vf79/EGOfsF2rDDaoXLxlEAfFtb+Ndu
			xxk6kzufPEFiSgq3nmzTksvKHhFnzya/ePvaNSyOjWGOIhMrZ4aH8Q45/8jk5C4QdmEzPb0LZHYW
			5ynjZquxdXeozsjJwc3x8dCaNpMJNtKoIEeyi56HP/5m8/n8cTv9IIVLdREi5IVfMR5RFSHGMjWf
			6phdZhbrvnQlyl17RH9vNzxL3X8+39cIu6MPkz//mBrXBLQrhxJ+P2r8UvCiXzT1DuzdnNRL10jg
			Pz/969ul9ZT5qD4ST+QqzMs9tHNFLBCR7bdOBxaW1jFzKOFXKRBBuZS7xtWjZisHZK3h48qvqM7H
			8ZFFtu9IZ/+HipmK5RgBWeP3HZL/BBgAs5x/nssBafMAAAAASUVORK5CYII=
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae32145d0" Type="js" Name="vdom_xml_dialog">U3RyaW5nLnByb3RvdHlwZS5mbXQ9ZnVuY3Rpb24oKXsNCiAgdmFyIGEgPSBhcmd1bWVudHM7DQogIHJldHVybiB0aGlzLnJlcGxhY2UoL3soXGQrKX0vZywgZnVuY3Rpb24obSwgbikgew0KICAgIHJldHVybiB0eXBlb2YgYVtuXSAhPSAndW5kZWZpbmVkJyA/IGFbbl0gOiBtOw0KICB9KTsNCn07DQoNCmpRdWVyeS51aS5kaWFsb2cucHJvdG90eXBlLmN1c3RvbUV2ZW50ID0gZnVuY3Rpb24oYXJncyl7DQogIHZhciBvYmpJRCA9IHRoaXMuZWxlbWVudC5jb250ZXh0LmlkLnN1YnN0cmluZygyKTsNCiAgZXhlY0V2ZW50QmluZGVkKG9iaklELCAnY3VzdG9tRXZlbnQnLCBhcmdzKTsNCn07DQoNCmpRdWVyeS51aS5kaWFsb2cucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2tzID0gZnVuY3Rpb24oY2FsbGJhY2tzKXsNCiAgdGhpcy5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcyB8fCB7fTsNCiAgZm9yIChuYW1lIGluIGNhbGxiYWNrcyl7DQogICAgdGhpcy5jYWxsYmFja3NbbmFtZV0gPSBjYWxsYmFja3NbbmFtZV07DQogIH0NCn07DQoNCmpRdWVyeS51aS5kaWFsb2cucHJvdG90eXBlLmV4ZWN1dGVDYWxsYmFjayA9IGZ1bmN0aW9uKG5hbWUsIHBhcmFtcyl7DQogIHRoaXMuY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3MgfHwge307DQogIHZhciBjYWxsYmFjayA9IHRoaXMuY2FsbGJhY2tzW25hbWVdOw0KICBpZiAoY2FsbGJhY2spDQogICAgY2FsbGJhY2socGFyYW1zKTsNCn07DQoNCmZ1bmN0aW9uIHZkb21feGRfbG9hZChkaWFsb2dJRCwgeG1sRGF0YSl7DQoNCiAgLy8gcmVtb3ZlIENEQVRBIHNjcGVjaWFsIHdyYXBwZXINCiAgeG1sRGF0YSA9IGpRdWVyeS50cmltKHhtbERhdGEpLnNwbGl0KCc8IS0tW0NEQVRBWycpLmpvaW4oJzwhW0NEQVRBWycpLnNwbGl0KCddXS0tPicpLmpvaW4oJ10nKyddPicpOw0KICBpZiAoeG1sRGF0YSA9PT0gJycpDQogICAgcmV0dXJuOw0KDQogIHZhciBCT09MX01BUCA9IHsNCiAgICAiMCI6IGZhbHNlLA0KICAgICJmYWxzZSI6IGZhbHNlLA0KICAgICIxIjogdHJ1ZSwNCiAgICAidHJ1ZSI6IHRydWUNCiAgfTsNCg0KICAvL1NvcnQgYnkga2V5IGZ1bmN0aW9uDQogIHZhciBzb3J0X2J5X2tleSA9IGZ1bmN0aW9uKGEgLGIpew0KICAgIGEgPSBhWzBdLnRvTG93ZXJDYXNlKCk7DQogICAgYiA9IGJbMF0udG9Mb3dlckNhc2UoKTsNCiAgICBpZiAoYSA9PSBiKQ0KICAgICAgcmV0dXJuIDA7DQoNCiAgICBpZiAoYSA+IGIpDQogICAgICByZXR1cm4gMTsNCg0KICAgIHJldHVybiAtMTsNCiAgfTsNCg0KICAvLyBTb3J0IGJ5IHZhbHVlIGZ1bmN0aW9uDQogIHZhciBzb3J0X2J5X3ZhbCA9IGZ1bmN0aW9uKGEgLGIpew0KICAgIGEgPSBhWzFdLnRvTG93ZXJDYXNlKCk7DQogICAgYiA9IGJbMV0udG9Mb3dlckNhc2UoKTsNCiAgICBpZiAoYSA9PSBiKQ0KICAgICAgcmV0dXJuIDA7DQoNCiAgICBpZiAoYSA+IGIpDQogICAgICByZXR1cm4gMTsNCg0KICAgIHJldHVybiAtMTsNCiAgfTsNCg0KICAvLyBTb3J0aW5nIG1hcA0KICBTT1JUX01BUCA9IHsNCiAgICAiMCI6ICJkZWZhdWx0IiwNCiAgICAiMSI6IHNvcnRfYnlfa2V5LA0KICAgICIyIjogc29ydF9ieV92YWwsDQogICAgImtleSI6IHNvcnRfYnlfa2V5LA0KICAgICJ2YWx1ZSI6IHNvcnRfYnlfdmFsDQogIH07DQoNCiAgLy9Tb3J0aW5nIG9yZGVyIG1hcA0KICBTT1JUX09SREVSX01BUCA9IHsNCiAgICAiMCI6ICJkZWZhdWx0IiwNCiAgICAiMSI6ICJhc2MiLA0KICAgICIyIjogImRlc2MiLA0KICAgICJhc2MiOiAiYXNjIiwNCiAgICAiZGVzYyI6ICJkZXNjIg0KICB9Ow0KDQogIC8vQ29tcG9uZW50cyBDU1MgY2xhc3NlcyBtYXANCiAgdmFyIENPTVBPTkVOVFNfQ1NTX01BUCA9IHsNCiAgICAiaGVhZGluZyIgOiAiaGVhZGluZyIsDQogICAgInRleHRib3giIDogInRleHRib3giLA0KICAgICJwYXNzd29yZCIgOiAicGFzc3dvcmQiLA0KICAgICJkcm9wZG93biIgOiAiZHJvcGRvd24iLA0KICAgICJyYWRpb2J1dHRvbiIgOiAicmFkaW8iLA0KICAgICJjaGVja2JveCIgOiAiY2hlY2tib3giLA0KICAgICJ0ZXh0YXJlYSIgOiAidGV4dGFyZWEiLA0KICAgICJoeXBlcnRleHQiIDogImh5cGVydGV4dCIsDQogICAgImJ1dHRvbiIgOiAiYnV0dG9uIiwNCiAgICAiY29udGFpbmVyIjogImNvbnRhaW5lciIsDQogICAgImxpdmVzZWFyY2giOiAibGl2ZXNlYXJjaCIsDQogICAgInJpY2h0ZXh0YXJlYSI6ICJyaWNodGV4dGFyZWEiLA0KICAgICJmaWxldXBsb2FkIiA6ICJmaWxldXBsb2FkIiwNCiAgfTsNCg0KICB2YXIgZXNjYXBlX3F1b3RlID0gZnVuY3Rpb24odGV4dCl7DQogICAgcmV0dXJuIHRleHQucmVwbGFjZSgvIi9nLCAiJnF1b3Q7Iik7DQogIH07DQoNCiAgdmFyIGdldF9lbGVtX3Byb3AgPSBmdW5jdGlvbihlbGVtLCBwcm9wKXsNCiAgICByZXR1cm4gZWxlbS5maW5kKCc+UHJvcGVydGllcz5Qcm9wZXJ0eVtuYW1lPScgKyBwcm9wICsgJ10nKS50ZXh0KCk7DQogIH07DQoNCiAgdmFyIGdldF9lbGVtX2F0dHIgPSBmdW5jdGlvbihlbGVtLCBhdHRyKXsNCiAgICByZXR1cm4gZWxlbS5hdHRyKGF0dHIpIHx8ICcnOw0KICB9Ow0KDQogIHZhciBnZXRfZWxlbV9wcm9wcyA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIHZhciBwcm9wZXJ0aWVzID0ge307DQogICAgZWxlbS5maW5kKCc+UHJvcGVydGllcz5Qcm9wZXJ0eScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIHByb3BlcnR5KXsNCiAgICAgIHByb3BlcnR5ID0galF1ZXJ5KHByb3BlcnR5KTsNCiAgICAgIHByb3BlcnRpZXNbcHJvcGVydHkuYXR0cignbmFtZScpLnRvTG93ZXJDYXNlKCldID0gcHJvcGVydHkudGV4dCgpOw0KICAgIH0pOw0KDQogICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW0sIHByb3Apew0KICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcC50b0xvd2VyQ2FzZSgpXSB8fCAnJzsNCiAgICB9DQogIH07DQoNCiAgdmFyIGdldF9lbGVtX2F0dHJzID0gZnVuY3Rpb24oZWxlbSl7DQogICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTsNCiAgICAkLmVhY2goZWxlbVswXS5hdHRyaWJ1dGVzLCBmdW5jdGlvbihpbmRleCwgYXR0cmlidXRlKXsNCiAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWUudG9Mb3dlckNhc2UoKV0gPSBhdHRyaWJ1dGUudmFsdWU7DQogICAgfSk7DQoNCiAgICByZXR1cm4gZnVuY3Rpb24oZWxlbSwgYXR0cil7DQogICAgICByZXR1cm4gYXR0cmlidXRlc1thdHRyLnRvTG93ZXJDYXNlKCldIHx8ICcnOw0KICAgIH0NCiAgfTsNCg0KICB2YXIgZ2V0X2VsZW1fb3B0aW9ucyA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIHZhciBvcHRpb25zID0gW107DQogICAgZWxlbS5maW5kKCI+UHJvcGVydGllcz5Qcm9wZXJ0eVtuYW1lPW9wdGlvbnNdPm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXsNCiAgICAgIC8vIFRPRE8gLSByZXBsYWNlIGpxdWVyeSB3aXRoIGdldEF0dHJpYnV0ZSBjb2RlDQogICAgICB2YXIgb3B0aW9uID0galF1ZXJ5KHRoaXMpOw0KICAgICAgb3B0aW9ucy5wdXNoKFtnZXRfZWxlbV9hdHRyKG9wdGlvbiwgJ2lkJyksIG9wdGlvbi50ZXh0KCldKTsNCiAgICB9KTsNCiAgICByZXR1cm4gb3B0aW9uczsNCiAgfTsNCg0KICB2YXIgaXNfdmlzaWJsZSA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIC8vY2hlY2sgZWxlbWVudCdzIHZpc2liaWxpdHkNCiAgICByZXR1cm4gKEJPT0xfTUFQW2dldF9lbGVtX2F0dHIoZWxlbSwgJ3Zpc2libGUnKSB8fCAndHJ1ZSddKSA/ICcnIDogJ3N0eWxlPSJkaXNwbGF5OiBub25lIicgOyANCiAgfTsNCg0KICB2YXIgaXNfZnVsbHNpemUgPSBmdW5jdGlvbihlbGVtKXsNCiAgICAvL2NoZWNrIGlzIGVsZW1lbnQgZnVsbHNpemUgb3Igbm90DQogICAgcmV0dXJuIChCT09MX01BUFtnZXRfZWxlbV9hdHRyKGVsZW0sICdmdWxsc2l6ZScpXSB8fCBmYWxzZSkgPyAnZnVsbHNpemUnIDogJyc7IA0KICB9Ow0KDQogIHZhciBpc19tdWx0aXBsZSA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIC8vY2hlY2sgaXMgZWxlbWVudCBmdWxsc2l6ZSBvciBub3QNCiAgICByZXR1cm4gKEJPT0xfTUFQW2dldF9lbGVtX2F0dHIoZWxlbSwgJ211bHRpcGxlJyldIHx8IGZhbHNlKSA/ICdtdWx0aXBsZT0ibXVsdGlwbGUiJyA6ICcnOyANCiAgfTsNCg0KICB2YXIgaXNfZGlzYWJsZWQgPSBmdW5jdGlvbihlbGVtKXsNCiAgICAvL2NoZWNrIGlzIGVsZW1lbnQgZGlzYWJsZWQgb3Igbm90DQogICAgcmV0dXJuIChCT09MX01BUFtnZXRfZWxlbV9hdHRyKGVsZW0sICdkaXNhYmxlZCcpXSB8fCBmYWxzZSkgPyAnZGlzYWJsZWQ9ImRpc2FibGVkIicgOiAnJzsgDQogIH07DQoNCiAgdmFyIGlzX3JlYWRvbmx5ID0gZnVuY3Rpb24oZWxlbSl7DQogICAgLy9jaGVjayBpcyBlbGVtZW50IHJlYWRvbmx5IG9yIG5vdA0KICAgIHJldHVybiAoQk9PTF9NQVBbZ2V0X2VsZW1fYXR0cihlbGVtLCAncmVhZG9ubHknKV0gfHwgZmFsc2UpID8gJ3JlYWRvbmx5PSJyZWFkb25seSInIDogJyc7IA0KICB9Ow0KDQogIHZhciBtYWtlX2Rpdl9yb3cgPSBmdW5jdGlvbihodG1sLCBlbGVtLCBsYWJlbCwgb25seUZ1bGxzaXplKXsNCiAgICByZXR1cm4gIjxkaXYgY2xhc3M9J3JvdyB7MH0gezF9JyB7Mn0+PGxhYmVsIGNsYXNzPSd0aXRsZSc+ezN9PC9sYWJlbD48ZGl2IGNsYXNzPSdpdGVtIHs0fSc+ezV9PC9kaXY+PGJyIHN0eWxlPSdjbGVhcjogYm90aCcgLz48L2Rpdj4iLmZtdCgNCiAgICAgIChvbmx5RnVsbHNpemUgPyAiZnVsbHNpemUiIDogaXNfZnVsbHNpemUoZWxlbSkpLA0KICAgICAgZ2V0X2VsZW1fYXR0cihlbGVtLCAnY2xhc3MnKSwNCiAgICAgIGlzX3Zpc2libGUoZWxlbSksDQogICAgICBsYWJlbCwNCiAgICAgIENPTVBPTkVOVFNfQ1NTX01BUFtlbGVtWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0sDQogICAgICBodG1sDQogICAgKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX2hlYWRpbmcgPSBmdW5jdGlvbihlbGVtKXsNCiAgICBsZXZlbCA9IHBhcnNlSW50KGdldF9lbGVtX3Byb3AoZWxlbSwgJ2xldmVsJyksIDEwKSB8fCAzOw0KICAgIGxldmVsID0gbGV2ZWwgPj0gMSAmJiBsZXZlbCA8PTYgPyBsZXZlbCA6IDM7DQoNCiAgICByZXR1cm4gIjxoezB9IGNsYXNzPSd7MX0nIGlkPSd7Mn0nIHszfT57NH08L2h7MH0+Ii5mbXQoDQogICAgICBsZXZlbCwNCiAgICAgIGdldF9lbGVtX2F0dHIoZWxlbSwgJ2NsYXNzJyksDQogICAgICBlc2NhcGVfcXVvdGUoZ2V0X2VsZW1fYXR0cihlbGVtLCAnaWQnKSksDQogICAgICBpc192aXNpYmxlKGVsZW0pLA0KICAgICAgZ2V0X2VsZW1fcHJvcChlbGVtLCAndGV4dCcpDQogICAgICApOw0KICB9Ow0KDQogIHZhciByZW5kZXJfdGV4dGJveCA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIHZhciBlbGVtX3Byb3BzID0gZ2V0X2VsZW1fcHJvcHMoZWxlbSk7DQogICAgdmFyIGVsZW1fYXR0cnMgPSBnZXRfZWxlbV9hdHRycyhlbGVtKTsNCg0KICAgIHZhciBodG1sID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd7MH0nIHZhbHVlPSd7MX0nIHsyfSB7M30gLz4iLmZtdCgNCiAgICAgIGVzY2FwZV9xdW90ZShlbGVtX2F0dHJzKGVsZW0sICdpZCcpKSwNCiAgICAgIGVzY2FwZV9xdW90ZShlbGVtX3Byb3BzKGVsZW0sICdkZWZhdWx0VmFsdWUnKSksDQogICAgICBpc19kaXNhYmxlZChlbGVtKSwNCiAgICAgIGlzX3JlYWRvbmx5KGVsZW0pDQogICAgKTsNCg0KICAgIHJldHVybiBtYWtlX2Rpdl9yb3coaHRtbCwgZWxlbSwgZWxlbV9wcm9wcyhlbGVtLCAnbGFiZWwnKSk7DQogIH07DQoNCiAgdmFyIHJlbmRlcl9wYXNzd29yZCA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIHZhciBlbGVtX3Byb3BzID0gZ2V0X2VsZW1fcHJvcHMoZWxlbSk7DQogICAgdmFyIGVsZW1fYXR0cnMgPSBnZXRfZWxlbV9hdHRycyhlbGVtKTsNCiAgICANCiAgICB2YXIgaHRtbCA9ICI8aW5wdXQgdHlwZT0ncGFzc3dvcmQnIG5hbWU9J3swfScgdmFsdWU9J3sxfScgezJ9IHszfSAvPiIuZm10KA0KICAgICAgZXNjYXBlX3F1b3RlKGVsZW1fYXR0cnMoZWxlbSwgJ2lkJykpLA0KICAgICAgZXNjYXBlX3F1b3RlKGVsZW1fcHJvcHMoZWxlbSwgJ2RlZmF1bHRWYWx1ZScpKSwNCiAgICAgIGlzX2Rpc2FibGVkKGVsZW0pLA0KICAgICAgaXNfcmVhZG9ubHkoZWxlbSkNCiAgICApOw0KDQogICAgcmV0dXJuIG1ha2VfZGl2X3JvdyhodG1sLCBlbGVtLCBlbGVtX3Byb3BzKGVsZW0sICdsYWJlbCcpKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX2Ryb3Bkb3duID0gZnVuY3Rpb24oZWxlbSl7DQogICAgdmFyIGVsZW1fcHJvcHMgPSBnZXRfZWxlbV9wcm9wcyhlbGVtKTsNCiAgICB2YXIgZWxlbV9hdHRycyA9IGdldF9lbGVtX2F0dHJzKGVsZW0pOw0KICAgIA0KICAgIHZhciByb3dzID0gcGFyc2VJbnQoZWxlbV9wcm9wcyhlbGVtLCAicm93cyIpLCAxMCkgfHwgMDsNCiAgICB2YXIgb3B0aW9ucyA9IGdldF9lbGVtX29wdGlvbnMoZWxlbSk7DQogICAgdmFyIHNvcnRfdHlwZSA9IFNPUlRfTUFQW2VsZW1fYXR0cnMoZWxlbSwgJ3NvcnQnKV0gfHwgJ2RlZmF1bHQnOw0KICAgIHZhciBzb3J0X29yZGVyID0gU09SVF9PUkRFUl9NQVBbZWxlbV9hdHRycyhlbGVtLCAnb3JkZXInKV0gfHwgJ2RlZmF1bHQnOw0KICAgIHZhciBzZWxlY3RlZF9rZXlzID0galF1ZXJ5Lm1hcChlbGVtX3Byb3BzKGVsZW0sICdzZWxlY3RlZCcpLnNwbGl0KCcsJyksIGpRdWVyeS50cmltKTsNCiAgICB2YXIgZGlzYWJsZWRfa2V5cyA9IGpRdWVyeS5tYXAoZWxlbV9wcm9wcyhlbGVtLCAnZGlzYWJsZWQnKS5zcGxpdCgnLCcpLCBqUXVlcnkudHJpbSk7DQoNCiAgICBpZiAoc29ydF90eXBlICE9ICdkZWZhdWx0Jyl7DQogICAgICBvcHRpb25zLnNvcnQoc29ydF90eXBlKTsNCg0KICAgICAgaWYgKHNvcnRfb3JkZXIgPT0gJ2Rlc2MnKQ0KICAgICAgICBvcHRpb25zLnJldmVyc2UoKTsNCiAgICB9DQoNCiAgICBpZiAoIWlzX211bHRpcGxlKGVsZW0pICYmIHNlbGVjdGVkX2tleXMubGVuZ3RoID4gMSl7DQogICAgICB2YXIgc2VsZWN0ZWRfa2V5cyA9IFtzZWxlY3RlZF9rZXlzW3NlbGVjdGVkX2tleXMubGVuZ3RoIC0gMV1dOw0KICAgIH0NCg0KICAgIHZhciBvcHRpb25zX3Jlc3VsdCA9IFtdOw0KICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucyl7DQogICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpXTsNCiAgICAgIHZhciBvcHRfaWQgPSBvcHRpb25bMF07DQogICAgICBvcHRpb25zX3Jlc3VsdC5wdXNoKCI8b3B0aW9uIHZhbHVlPSd7MH0nezF9ezJ9PnszfTwvb3B0aW9uPiIuZm10KA0KICAgICAgICBlc2NhcGVfcXVvdGUob3B0X2lkKSwNCiAgICAgICAgKGpRdWVyeS5pbkFycmF5KG9wdF9pZCwgc2VsZWN0ZWRfa2V5cykgPj0gMCAmJiBqUXVlcnkuaW5BcnJheShvcHRfaWQsIGRpc2FibGVkX2tleXMpID09IC0xKSA/ICIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyIgOiAiIiwNCiAgICAgICAgKGpRdWVyeS5pbkFycmF5KG9wdF9pZCwgZGlzYWJsZWRfa2V5cykgPj0gMCkgPyAiIGRpc2FibGVkPSdkaXNhYmxlZCciIDogIiIsDQogICAgICAgIG9wdGlvblsxXQ0KICAgICAgKSk7DQogICAgfQ0KDQogICAgdmFyIGh0bWwgPSAiPHNlbGVjdCBuYW1lPSd7MH0nIHsxfSB7Mn0gezN9Pns0fTwvc2VsZWN0PiIuZm10KA0KICAgICAgZXNjYXBlX3F1b3RlKGVsZW1fYXR0cnMoZWxlbSwgJ2lkJykpLA0KICAgICAgcm93cyA/ICgnc2l6ZT0iJyArIHJvd3MgKyAnIicpIDogJycsDQogICAgICBpc19tdWx0aXBsZShlbGVtKSwNCiAgICAgIGlzX2Rpc2FibGVkKGVsZW0pLA0KICAgICAgb3B0aW9uc19yZXN1bHQuam9pbignJykNCiAgICApOw0KDQogICAgcmV0dXJuIG1ha2VfZGl2X3JvdyhodG1sLCBlbGVtLCBlbGVtX3Byb3BzKGVsZW0sICdsYWJlbCcpKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX3JhZGlvYnV0dG9uID0gZnVuY3Rpb24oZWxlbSl7DQogICAgdmFyIGVsZW1fcHJvcHMgPSBnZXRfZWxlbV9wcm9wcyhlbGVtKTsNCiAgICB2YXIgZWxlbV9hdHRycyA9IGdldF9lbGVtX2F0dHJzKGVsZW0pOw0KICAgIA0KICAgIHZhciBkaXNhYmxlZCA9IGlzX2Rpc2FibGVkKGVsZW0pOw0KICAgIHZhciBvcHRpb25zID0gZ2V0X2VsZW1fb3B0aW9ucyhlbGVtKTsNCiAgICB2YXIgc29ydF90eXBlID0gU09SVF9NQVBbZWxlbV9hdHRycyhlbGVtLCAnc29ydCcpXSB8fCAnZGVmYXVsdCc7DQogICAgdmFyIHNvcnRfb3JkZXIgPSBTT1JUX09SREVSX01BUFtlbGVtX2F0dHJzKGVsZW0sICdvcmRlcicpXSB8fCAnZGVmYXVsdCc7DQogICAgdmFyIGJyZWFrbGluZSA9IChCT09MX01BUFtlbGVtX2F0dHJzKGVsZW0sICdicmVha2xpbmUnKV0gfHwgZmFsc2UpID8gIjxici8+IiA6ICIiOw0KICAgIHZhciBzZWxlY3RlZF9rZXlzID0galF1ZXJ5Lm1hcChlbGVtX3Byb3BzKGVsZW0sICdzZWxlY3RlZCcpLnNwbGl0KCcsJyksIGpRdWVyeS50cmltKTsNCg0KICAgIGlmIChzb3J0X3R5cGUgIT0gJ2RlZmF1bHQnKXsNCiAgICAgIG9wdGlvbnMuc29ydChzb3J0X3R5cGUpOw0KDQogICAgICBpZiAoc29ydF9vcmRlciA9PSAnZGVzYycpDQogICAgICAgIG9wdGlvbnMucmV2ZXJzZSgpOw0KICAgIH0NCg0KICAgIHZhciBlbGVtX2lkID0gZWxlbV9hdHRycyhlbGVtLCAnaWQnKTsNCiAgICB2YXIgb3B0aW9uc19yZXN1bHQgPSBbXTsNCiAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpew0KICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07DQogICAgICB2YXIgb3B0X2lkID0gb3B0aW9uWzBdOw0KDQogICAgICBvcHRpb25zX3Jlc3VsdC5wdXNoKCI8bGFiZWw+PGlucHV0IGF1dG9jb21wbGV0ZT0nb2ZmJyB0eXBlPSdyYWRpbycgbmFtZT0nezB9JyB2YWx1ZT0nezF9J3syfSB7M30gLz4mbmJzcDt7NH08L2xhYmVsPns1fSIuZm10KA0KICAgICAgICBlbGVtX2lkLA0KICAgICAgICBlc2NhcGVfcXVvdGUob3B0X2lkKSwNCiAgICAgICAgKGpRdWVyeS5pbkFycmF5KG9wdF9pZCwgc2VsZWN0ZWRfa2V5cykgPj0gMCkgPyAiIGNoZWNrZWQ9J2NoZWNrZWQnIiA6ICIiLA0KICAgICAgICBkaXNhYmxlZCwNCiAgICAgICAgb3B0aW9uWzFdLA0KICAgICAgICBicmVha2xpbmUNCiAgICAgICkpOw0KICAgIH0NCg0KICAgIHZhciBodG1sID0gb3B0aW9uc19yZXN1bHQuam9pbignJyk7DQoNCiAgICByZXR1cm4gbWFrZV9kaXZfcm93KGh0bWwsIGVsZW0sIGVsZW1fcHJvcHMoZWxlbSwgJ2xhYmVsJykpOw0KICB9Ow0KDQogIHZhciByZW5kZXJfY2hlY2tib3ggPSBmdW5jdGlvbihlbGVtKXsNCiAgICB2YXIgZWxlbV9wcm9wcyA9IGdldF9lbGVtX3Byb3BzKGVsZW0pOw0KICAgIHZhciBlbGVtX2F0dHJzID0gZ2V0X2VsZW1fYXR0cnMoZWxlbSk7DQogICAgDQogICAgdmFyIGRpc2FibGVkID0gaXNfZGlzYWJsZWQoZWxlbSk7DQogICAgdmFyIG9wdGlvbnMgPSBnZXRfZWxlbV9vcHRpb25zKGVsZW0pOw0KICAgIHZhciBzb3J0X3R5cGUgPSBTT1JUX01BUFtlbGVtX2F0dHJzKGVsZW0sICdzb3J0JyldIHx8ICdkZWZhdWx0JzsNCiAgICB2YXIgc29ydF9vcmRlciA9IFNPUlRfT1JERVJfTUFQW2VsZW1fYXR0cnMoZWxlbSwgJ29yZGVyJyldIHx8ICdkZWZhdWx0JzsNCiAgICB2YXIgYnJlYWtsaW5lID0gKEJPT0xfTUFQW2VsZW1fYXR0cnMoZWxlbSwgJ2JyZWFrbGluZScpXSB8fCBmYWxzZSkgPyAiPGJyLz4iIDogIiI7DQogICAgdmFyIHNlbGVjdGVkX2tleXMgPSBqUXVlcnkubWFwKGVsZW1fcHJvcHMoZWxlbSwgJ3NlbGVjdGVkJykuc3BsaXQoJywnKSwgalF1ZXJ5LnRyaW0pOw0KICAgIHZhciBkaXNhYmxlZF9rZXlzID0galF1ZXJ5Lm1hcChlbGVtX3Byb3BzKGVsZW0sICdkaXNhYmxlZCcpLnNwbGl0KCcsJyksIGpRdWVyeS50cmltKTsNCg0KICAgIGlmIChzb3J0X3R5cGUgIT0gJ2RlZmF1bHQnKXsNCiAgICAgIG9wdGlvbnMuc29ydChzb3J0X3R5cGUpOw0KDQogICAgICBpZiAoc29ydF9vcmRlciA9PSAnZGVzYycpDQogICAgICAgIG9wdGlvbnMucmV2ZXJzZSgpOw0KICAgIH0NCg0KICAgIHZhciBlbGVtX2lkID0gZWxlbV9hdHRycyhlbGVtLCAnaWQnKTsNCiAgICB2YXIgb3B0aW9uc19yZXN1bHQgPSBbXTsNCiAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpew0KICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07DQogICAgICB2YXIgb3B0X2lkID0gb3B0aW9uWzBdOw0KDQogICAgICBvcHRpb25zX3Jlc3VsdC5wdXNoKCI8bGFiZWw+PGlucHV0IGF1dG9jb21wbGV0ZT0nb2ZmJyB0eXBlPSdjaGVja2JveCcgbmFtZT0nezB9W3sxfV0nezJ9ezN9IC8+Jm5ic3A7ezR9PC9sYWJlbD57NX0iLmZtdCgNCiAgICAgICAgZWxlbV9pZCwNCiAgICAgICAgZXNjYXBlX3F1b3RlKG9wdF9pZCksDQogICAgICAgIChqUXVlcnkuaW5BcnJheShvcHRfaWQsIHNlbGVjdGVkX2tleXMpID49IDApID8gIiBjaGVja2VkPSdjaGVja2VkJyIgOiAiIiwNCiAgICAgICAgKGRpc2FibGVkIHx8IGpRdWVyeS5pbkFycmF5KG9wdF9pZCwgZGlzYWJsZWRfa2V5cykgPj0gMCkgPyAiIGRpc2FibGVkPSdkaXNhYmxlZCciIDogIiIsDQogICAgICAgIG9wdGlvblsxXSwNCiAgICAgICAgYnJlYWtsaW5lDQogICAgICApKTsNCiAgICB9DQoNCiAgICB2YXIgaHRtbCA9IG9wdGlvbnNfcmVzdWx0LmpvaW4oJycpOw0KDQogICAgcmV0dXJuIG1ha2VfZGl2X3JvdyhodG1sLCBlbGVtLCBlbGVtX3Byb3BzKGVsZW0sICdsYWJlbCcpKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX3RleHRhcmVhID0gZnVuY3Rpb24oZWxlbSl7DQogICAgdmFyIGVsZW1fcHJvcHMgPSBnZXRfZWxlbV9wcm9wcyhlbGVtKTsNCiAgICB2YXIgZWxlbV9hdHRycyA9IGdldF9lbGVtX2F0dHJzKGVsZW0pOw0KICAgIA0KICAgIHZhciB3aWR0aCA9IHBhcnNlSW50KGVsZW1fcHJvcHMoZWxlbSwgJ3dpZHRoJykpIHx8IDA7DQogICAgdmFyIGhlaWdodCA9IHBhcnNlSW50KGVsZW1fcHJvcHMoZWxlbSwgJ2hlaWdodCcpKSB8fCAwOw0KDQogICAgdmFyIHN0eWxlID0gInN0eWxlPSd7MH17MX0nIi5mbXQoDQogICAgICB3aWR0aCA/ICJ3aWR0aDogezB9cHg7Ii5mbXQod2lkdGgpIDogIiIsDQogICAgICBoZWlnaHQgPyAiaGVpZ2h0OiB7MH1weDsiLmZtdChoZWlnaHQpIDogIiINCiAgICApOw0KDQogICAgdmFyIGh0bWwgPSAiPHRleHRhcmVhIG5hbWU9J3swfScgezF9IHsyfSB7M30+ezR9PC90ZXh0YXJlYT4iLmZtdCgNCiAgICAgIGVzY2FwZV9xdW90ZShlbGVtX2F0dHJzKGVsZW0sICdpZCcpKSwNCiAgICAgIGlzX2Rpc2FibGVkKGVsZW0pLA0KICAgICAgaXNfcmVhZG9ubHkoZWxlbSksDQogICAgICBzdHlsZSwNCiAgICAgIGVsZW1fcHJvcHMoZWxlbSwgJ2RlZmF1bHRWYWx1ZScpDQogICAgKTsNCg0KICAgIHJldHVybiBtYWtlX2Rpdl9yb3coaHRtbCwgZWxlbSwgZWxlbV9wcm9wcyhlbGVtLCAnbGFiZWwnKSk7DQogIH07DQoNCiAgdmFyIHJlbmRlcl9oeXBlcnRleHQgPSBmdW5jdGlvbihlbGVtKXsNCiAgICB2YXIgZWxlbV9wcm9wcyA9IGdldF9lbGVtX3Byb3BzKGVsZW0pOw0KICAgIHZhciBlbGVtX2F0dHJzID0gZ2V0X2VsZW1fYXR0cnMoZWxlbSk7DQogICAgDQogICAgcmV0dXJuIG1ha2VfZGl2X3JvdyhlbGVtX3Byb3BzKGVsZW0sICd2YWx1ZScpLCBlbGVtLCBlbGVtX3Byb3BzKGVsZW0sICdsYWJlbCcpKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX2J1dHRvbiA9IGZ1bmN0aW9uKGVsZW0pew0KICAgIHZhciBlbGVtX3Byb3BzID0gZ2V0X2VsZW1fcHJvcHMoZWxlbSk7DQogICAgdmFyIGVsZW1fYXR0cnMgPSBnZXRfZWxlbV9hdHRycyhlbGVtKTsNCiAgICANCiAgICB2YXIgYWxpZ24gPSBlbGVtX3Byb3BzKGVsZW0sICdidXR0b25BbGlnbicpLnJlcGxhY2UoLycvZywnJmFjdXRlOycpOw0KICAgIHZhciBpbWFnZSA9IGVsZW1fcHJvcHMoZWxlbSwgJ2J1dHRvbkltYWdlJykucmVwbGFjZSgvJy9nLCcmYWN1dGU7Jyk7DQogICAgdmFyIGxhYmVsID0gZWxlbV9wcm9wcyhlbGVtLCAnbGFiZWwnKS5yZXBsYWNlKC8nL2csJyZhY3V0ZTsnKTsNCg0KICAgIHZhciBidXR0b24gPSAnJzsNCiAgICBpZiAoaW1hZ2Upew0KICAgICAgYnV0dG9uID0gIjxpbnB1dCB0eXBlPSdpbWFnZScgYWx0PSd7MH0nIHRpdGxlPSd7MH0nIHNyYz0nezF9JyB7Mn0gLz4iLmZtdCgNCiAgICAgICAgbGFiZWwsDQogICAgICAgIGltYWdlLA0KICAgICAgICBpc19kaXNhYmxlZChlbGVtKQ0KICAgICAgKTsNCiAgICB9IGVsc2Ugew0KICAgICAgYnV0dG9uID0gIjxpbnB1dCB0eXBlPSdzdWJtaXQnIHZhbHVlPSd7MH0nIHsxfSAvPiIuZm10KA0KICAgICAgICBsYWJlbCwNCiAgICAgICAgaXNfZGlzYWJsZWQoZWxlbSkNCiAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dXJuICI8ZGl2IGNsYXNzPSdyb3cnIHswfT48ZGl2IGlkPSd7NH0nIGNsYXNzPSdzdWJtaXQgezN9JyBzdHlsZT0ndGV4dC1hbGlnbjogezF9Jz57Mn08L2Rpdj48L2Rpdj4iLmZtdCgNCiAgICAgIGlzX3Zpc2libGUoZWxlbSksDQogICAgICBhbGlnbiwNCiAgICAgIGJ1dHRvbiwNCiAgICAgIGVsZW1fYXR0cnMoZWxlbSwgJ2NsYXNzJyksDQogICAgICBlc2NhcGVfcXVvdGUoZWxlbV9hdHRycyhlbGVtLCAnaWQnKSkNCiAgICApOw0KICB9Ow0KDQogIHZhciByZW5kZXJfZGVmYXVsdF9idXR0b24gPSBmdW5jdGlvbigpew0KICAgIHJldHVybiAiPGRpdiBjbGFzcz0nc3VibWl0Jz48aW5wdXQgdHlwZT0nc3VibWl0JyAvPjwvZGl2PiI7DQogIH07DQoNCiAgdmFyIHJlbmRlcl9jb250YWluZXIgPSBmdW5jdGlvbihlbGVtKXsNCiAgICB2YXIgZWxlbV9wcm9wcyA9IGdldF9lbGVtX3Byb3BzKGVsZW0pOw0KICAgIHZhciBlbGVtX2F0dHJzID0gZ2V0X2VsZW1fYXR0cnMoZWxlbSk7DQogICAgDQogICAgdmFyIHdpZHRoID0gZWxlbV9wcm9wcyhlbGVtLCAnd2lkdGgnKTsNCiAgICB2YXIgaGVpZ2h0ID0gZWxlbV9wcm9wcyhlbGVtLCAnaGVpZ2h0Jyk7DQoNCiAgICB2YXIgc3R5bGUgPSAic3R5bGU9J3swfXsxfXsyfSciLmZtdCgNCiAgICAgIHdpZHRoID8gIndpZHRoOiB7MH07Ii5mbXQod2lkdGgpIDogIiIsDQogICAgICBoZWlnaHQgPyAiaGVpZ2h0OiB7MH07Ii5mbXQoaGVpZ2h0KSA6ICIiLA0KICAgICAgaXNfdmlzaWJsZShlbGVtKSA/ICJkaXNwbGF5OiBub25lOyIgOiAiIg0KICAgICk7DQogICAgdmFyIGNvbXBvbmVudHMgPSBlbGVtLmZpbmQoJz5Db21wb25lbnRzPionKTsNCg0KICAgICAgcmV0dXJuICI8ZGl2IGlkPSd7MH0nIGNsYXNzPSdyb3cgZnVsbHNpemUgezF9JyB7Mn0+PGRpdiBjbGFzcz0naXRlbSc+ezN9PC9kaXY+PC9kaXY+Ii5mbXQoDQogICAgICAgIGVzY2FwZV9xdW90ZShlbGVtX2F0dHJzKGVsZW0sICdpZCcpKSwNCiAgICAgICAgZWxlbV9hdHRycyhlbGVtLCAnY2xhc3MnKSwNCiAgICAgICAgc3R5bGUsDQogICAgICAgIGNvbXBvbmVudHMubGVuZ3RoID4gMCA/IHJlbmRlcl9jb21wb25lbnRzKGNvbXBvbmVudHMsIGVsZW0uZm9ybV9pZCkgOiAiIg0KICAgICAgKTsNCiAgfTsNCg0KICB2YXIgcmVuZGVyX2xpdmVzZWFyY2ggPSBmdW5jdGlvbihlbGVtKXsNCiAgICB2YXIgZWxlbV9wcm9wcyA9IGdldF9lbGVtX3Byb3BzKGVsZW0pOw0KICAgIHZhciBlbGVtX2F0dHJzID0gZ2V0X2VsZW1fYXR0cnMoZWxlbSk7DQogICAgDQogICAgdmFyIGh0bWwgPSAiPGRpdiBpZD0neG1sLWRpYWxvZy1sdnMtezB9LWRhdGEnPns2fTwvZGl2PjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0neG1sLWRpYWxvZy1sdnMtezB9JyBuYW1lPSd7MH0nIHsyfSB7M30gc291cmNldXJpPSd7NH0nIHNvdXJjZWV2ZW50PSd7NX0nIHZhbHVlPSd7MX0nIC8+Ii5mbXQoDQogICAgICBlc2NhcGVfcXVvdGUoZWxlbV9hdHRycyhlbGVtLCAnaWQnKSksDQogICAgICBlc2NhcGVfcXVvdGUoZWxlbV9wcm9wcyhlbGVtLCAnZGVmYXVsdFZhbHVlJykpLA0KICAgICAgaXNfZGlzYWJsZWQoZWxlbSksDQogICAgICBpc19yZWFkb25seShlbGVtKSwNCiAgICAgIGVsZW1fcHJvcHMoZWxlbSwgJ3NvdXJjZVVSSScpLA0KICAgICAgZWxlbV9wcm9wcyhlbGVtLCAnc291cmNlRXZlbnQnKSwNCiAgICAgIGVsZW1fcHJvcHMoZWxlbSwgJ3NvdXJjZURhdGEnKS5yZXBsYWNlKC8mL2csICImYW1wOyIpLnJlcGxhY2UoLzwvZywgIiZsdDsiKQ0KICAgICk7DQoNCiAgICByZXR1cm4gbWFrZV9kaXZfcm93KGh0bWwsIGVsZW0sIGVsZW1fcHJvcHMoZWxlbSwgJ2xhYmVsJykpOw0KICB9Ow0KICANCiAgdmFyIHJlbmRlcl9yaWNodGV4dGFyZWEgPSBmdW5jdGlvbihlbGVtKXsNCiAgICB2YXIgZWxlbV9wcm9wcyA9IGdldF9lbGVtX3Byb3BzKGVsZW0pOw0KICAgIHZhciBlbGVtX2F0dHJzID0gZ2V0X2VsZW1fYXR0cnMoZWxlbSk7DQogICAgDQogICAgdmFyIGh0bWwgPSAiPHRleHRhcmVhIGlkPSd4bWwtZGlhbG9nLXJ0ZS17MH0nIG5hbWU9J3swfScgezJ9IHszfSBlaGVpZ2h0PSd7NH0nPnsxfTwvdGV4dGFyZWE+Ii5mbXQoDQogICAgICBlc2NhcGVfcXVvdGUoZWxlbV9hdHRycyhlbGVtLCAnaWQnKSksDQogICAgICBlbGVtX3Byb3BzKGVsZW0sICdkZWZhdWx0VmFsdWUnKSwNCiAgICAgIGlzX2Rpc2FibGVkKGVsZW0pLA0KICAgICAgaXNfcmVhZG9ubHkoZWxlbSksDQogICAgICBlbGVtX3Byb3BzKGVsZW0sICdoZWlnaHQnKSB8fCAnJw0KICAgICk7DQoNCiAgICByZXR1cm4gbWFrZV9kaXZfcm93KGh0bWwsIGVsZW0sIGVsZW1fcHJvcHMoZWxlbSwgJ2xhYmVsJyksIHRydWUpOw0KICB9Ow0KICANCiAgdmFyIHJlbmRlcl9maWxldXBsb2FkID0gZnVuY3Rpb24oZWxlbSl7DQogICAgdmFyIGVsZW1fcHJvcHMgPSBnZXRfZWxlbV9wcm9wcyhlbGVtKTsNCiAgICB2YXIgZWxlbV9hdHRycyA9IGdldF9lbGVtX2F0dHJzKGVsZW0pOw0KDQogICAgdmFyIGNvZGUgPSAoJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbicgKw0KICAgICAgICAndmFyIG1heF9maWxldXBsb2FkX3NpemUgPSAxNSAqIDEwMjQgKiAxMDI0O1xuJyArDQogICAgICAgICd2YXIgZmlsZXVwbG9hZF9uZXh0ID0gMTtcbicgKw0KICAgICAgICAndmFyIGZpbGV1cGxvYWRfcHJvZ3Jlc3MgPSAwO1xuJyArDQogICAgICAgICd2YXIgdXBkYXRlX3NlbGVjdGVkX2ZpbGVzID0gZnVuY3Rpb24oKSB7XG4nICsNCiAgICAgICAgJyAgICB2YXIgdmFsID0gIiI7XG4nICsNCiAgICAgICAgJyAgICAkKCIuezB9LWd1aWQiKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbicgKw0KICAgICAgICAnICAgICAgICBpZiAodmFsICE9ICIiKSB2YWwgPSB2YWwgKyAiLCI7XG4nICsNCiAgICAgICAgJyAgICAgICAgdmFsID0gdmFsICsgJCh0aGlzKVswXS52YWx1ZTtcbicgKw0KICAgICAgICAnICAgIH0pO1xuJyArDQogICAgICAgICcgICAgJCgiI3swfSIpWzBdLnZhbHVlID0gdmFsO1xuJyArDQogICAgICAgICd9XG4nICsNCiAgICAgICAgJ3ZhciBhZGRfdXBsb2FkZWRfZmlsZSA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBndWlkKSB7XG4nICsNCiAgICAgICAgJyAgICAgICAgdmFyIG5ld2VsZW0gPSBcJzxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iezB9X1wnICsgZmlsZXVwbG9hZF9uZXh0ICsgXCdfbmFtZSIgbmFtZT0iezB9X1wnICsgZmlsZXVwbG9hZF9uZXh0ICsgXCdfbmFtZSIgcmVhZG9ubHk9InJlYWRvbmx5IiBkaXNhYmxlZD0iZGlzYWJsZWQiIC8+XCc7XG4nICsNCiAgICAgICAgJyAgICAgICAgdmFyIG5ld2VsZW1lbnQgPSAkKG5ld2VsZW0pO1xuJyArDQogICAgICAgICcgICAgICAgIG5ld2VsZW1lbnRbMF0udmFsdWUgPSBmaWxlbmFtZTtcbicgKw0KICAgICAgICAnICAgICAgICB2YXIgcmVtb3ZlYnRuID0gXCc8YnV0dG9uIGlkPSJ7MH1fcmVtb3ZlX1wnICsgZmlsZXVwbG9hZF9uZXh0ICsgXCciIGNsYXNzPSJ7MH0tcmVtb3ZlLW1lIj54PC9idXR0b24+PC9kaXY+PGRpdiBpZD0iezB9X2RpdiI+XCc7XG4nICsNCiAgICAgICAgJyAgICAgICAgdmFyIHJlbW92ZWJ1dHRvbiA9ICQocmVtb3ZlYnRuKTtcbicgKw0KICAgICAgICAnICAgICAgICB2YXIgZ3VpZGVsZW0gPSBcJzxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJ7MH1fXCcgKyBmaWxldXBsb2FkX25leHQgKyBcJyIgbmFtZT0iezB9X1wnICsgZmlsZXVwbG9hZF9uZXh0ICsgXCciIGNsYXNzPSJ7MH0tZ3VpZCIgZGlzYWJsZWQ9ImRpc2FibGVkIiAvPlwnO1xuJyArDQogICAgICAgICcgICAgICAgIHZhciBndWlkZWxlbWVudCA9ICQoZ3VpZGVsZW0pO1xuJyArDQogICAgICAgICcgICAgICAgIGd1aWRlbGVtZW50WzBdLnZhbHVlID0gZ3VpZDtcbicgKw0KICAgICAgICAnICAgICAgICAkKCIjezB9X2lucHV0IikuYmVmb3JlKG5ld2VsZW1lbnQpO1xuJyArDQogICAgICAgICcgICAgICAgICQobmV3ZWxlbWVudCkuYWZ0ZXIoZ3VpZGVsZW1lbnQpO1xuJyArDQogICAgICAgICcgICAgICAgICQoZ3VpZGVsZW1lbnQpLmFmdGVyKHJlbW92ZWJ1dHRvbik7XG4nICsNCiAgICAgICAgJyAgICAgICAgZmlsZXVwbG9hZF9uZXh0ID0gZmlsZXVwbG9hZF9uZXh0ICsgMTtcbicgKw0KICAgICAgICAnICAgICAgICAkKCIuezB9LXJlbW92ZS1tZSIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuJyArDQogICAgICAgICcgICAgICAgICAgICB2YXIgZmllbGRudW0gPSB0aGlzLmlkLnN1YnN0cmluZygiezB9Ii5sZW5ndGggKyA4KTtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgJCgiI3swfV8iICsgZmllbGRudW0gKyAiX25hbWUiKS5yZW1vdmUoKTtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgJCgiI3swfV8iICsgZmllbGRudW0pLnJlbW92ZSgpO1xuJyArDQogICAgICAgICcgICAgICAgICAgICB1cGRhdGVfc2VsZWN0ZWRfZmlsZXMoKTtcbicgKw0KICAgICAgICAnICAgICAgICB9KTtcbicgKw0KICAgICAgICAnICAgICAgICB1cGRhdGVfc2VsZWN0ZWRfZmlsZXMoKTtcbicgKw0KICAgICAgICAnfVxuJyArDQogICAgICAgICd2YXIgZmlsZXVwbG9hZF9zdGFydGVkID0gZnVuY3Rpb24oKSB7XG4nICsNCiAgICAgICAgJyAgICBpZiAoZmlsZXVwbG9hZF9wcm9ncmVzcyA9PSAwKSAkKFwnaW5wdXRbdHlwZT0ic3VibWl0Il1cJywgJCgiI3sxfSIpKS5hdHRyKCJkaXNhYmxlZCIsIHRydWUpO1xuJyArDQogICAgICAgICcgICAgZmlsZXVwbG9hZF9wcm9ncmVzcyA9IGZpbGV1cGxvYWRfcHJvZ3Jlc3MgKyAxO1xuJyArDQogICAgICAgICd9XG4nICsNCiAgICAgICAgJ3ZhciBmaWxldXBsb2FkX2VuZGVkID0gZnVuY3Rpb24oKSB7XG4nICsNCiAgICAgICAgJyAgICBpZiAoZmlsZXVwbG9hZF9wcm9ncmVzcyA+IDApIGZpbGV1cGxvYWRfcHJvZ3Jlc3MgPSBmaWxldXBsb2FkX3Byb2dyZXNzIC0gMTtcbicgKw0KICAgICAgICAnICAgIGlmIChmaWxldXBsb2FkX3Byb2dyZXNzID09IDApIHtcbicgKw0KICAgICAgICAnICAgICAgICAkKCIjezB9X3Byb2dyZXNzIilbMF0uaW5uZXJIVE1MID0gIiI7XG4nICsNCiAgICAgICAgJyAgICAgICAgJChcJ2lucHV0W3R5cGU9InN1Ym1pdCJdXCcsICQoIiN7MX0iKSkuYXR0cigiZGlzYWJsZWQiLCBmYWxzZSk7XG4nICsNCiAgICAgICAgJyAgICB9XG4nICsNCiAgICAgICAgJ31cbicgKw0KICAgICAgICAndmFyIGluaXRfZmlsZV91cGxvYWQgPSBmdW5jdGlvbigpIHtcbicgKw0KICAgICAgICAnICAgICQoIiN7MX0iKS5maWxlVXBsb2FkVUkoe1xuJyArDQogICAgICAgICcgICAgICAgIHVybDogIi91cGxvYWQucHkiLFxuJyArDQogICAgICAgICcgICAgICAgIGRhdGFUeXBlOiAianNvbiIsXG4nICsNCiAgICAgICAgJyAgICAgICAgZHJvcFpvbmU6ICQoIiN7MX0iKSxcbicgKw0KICAgICAgICAnICAgICAgICBhdXRvVXBsb2FkOiB0cnVlLFxuJyArDQogICAgICAgICcgICAgICAgIHJlcGxhY2VGaWxlSW5wdXQ6IGZhbHNlLFxuJyArDQogICAgICAgICcgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIpIHtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgdmFyIHJlc3AgPSB4aHIucmVzcG9uc2UudHJpbSgpO1xuJyArDQogICAgICAgICcgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDAgJiYgcmVzcC5sZW5ndGggPT0gMzYpIGFkZF91cGxvYWRlZF9maWxlKGZpbGVzWzBdLm5hbWUsIHJlc3ApO1xuJyArDQogICAgICAgICcgICAgICAgICAgICBlbHNlIHtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9IDIwMCkgYWxlcnQoIlVwbG9hZCBlcnJvcjogIiArIHhoci5zdGF0dXNUZXh0KTtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgICAgIGVsc2UgYWxlcnQoIlVwbG9hZCBlcnJvciIpO1xuJyArDQogICAgICAgICcgICAgICAgICAgICB9XG4nICsNCiAgICAgICAgJyAgICAgICAgICAgIGZpbGV1cGxvYWRfZW5kZWQoKTtcbicgKw0KICAgICAgICAnICAgICAgICB9LFxuJyArDQogICAgICAgICcgICAgICAgIG9uU2VuZDogZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlcikge1xuJyArDQogICAgICAgICcgICAgICAgICAgICBpZiAoIXhoci51cGxvYWQgJiYgaGFuZGxlci5wcm9ncmVzc2JhcikgaGFuZGxlci5wcm9ncmVzc2Jhci5wcm9ncmVzc2JhcigidmFsdWUiLCAxMDApO1xuJyArDQogICAgICAgICcgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnR5cGUgPT0gImZpbGUiKSBldmVudC50YXJnZXQudmFsdWUgPSAiIjtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgaWYgKGZpbGVzWzBdLnNpemUgPD0gbWF4X2ZpbGV1cGxvYWRfc2l6ZSkgZmlsZXVwbG9hZF9zdGFydGVkKCk7XG4nICsNCiAgICAgICAgJyAgICAgICAgICAgIGVsc2UgYWxlcnQoIkZpbGUgaXMgdG9vIGJpZyIpO1xuJyArDQogICAgICAgICcgICAgICAgIH0sXG4nICsNCiAgICAgICAgJyAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlcikge1xuJyArDQogICAgICAgICcgICAgICAgIH0sXG4nICsNCiAgICAgICAgJyAgICAgICAgb25Qcm9ncmVzc0FsbDogZnVuY3Rpb24gKGV2ZW50LCBsaXN0KSB7XG4nICsNCiAgICAgICAgJyAgICAgICAgICAgIGlmIChmaWxldXBsb2FkX3Byb2dyZXNzID4gMCkge1xuJyArDQogICAgICAgICcgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnQgPSBwYXJzZUludChldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCAqIDEwMCwgMTApO1xuJyArDQogICAgICAgICcgICAgICAgICAgICAgICAgJCgiI3swfV9wcm9ncmVzcyIpWzBdLmlubmVySFRNTCA9ICJVcGxvYWRpbmcgIiArIGZpbGV1cGxvYWRfcHJvZ3Jlc3MgKyAiIGZpbGUocykuLi4gIiArIHBlcmNlbnQgKyAiJSI7XG4nICsNCiAgICAgICAgJyAgICAgICAgICAgIH1cbicgKw0KICAgICAgICAnICAgICAgICB9LFxuJyArDQogICAgICAgICcgICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIChwcm9ncmVzc0V2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgc2V0dGluZ3MpIHtcbicgKw0KICAgICAgICAnICAgICAgICAgICAgaWYgKGZpbGVzWzBdLnNpemUgPiBtYXhfZmlsZXVwbG9hZF9zaXplKSB4aHIuYWJvcnQoKTtcbicgKw0KICAgICAgICAnICAgICAgICB9LFxuJyArDQogICAgICAgICcgICAgfSk7XG4nICsNCiAgICAgICAgJ31cbicgKw0KICAgICAgICAnJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbicgKw0KICAgICAgICAnICAgIGluaXRfZmlsZV91cGxvYWQoKTtcbicgKw0KICAgICAgICAnfSk7XG4nICsNCiAgICAgICAgJzwvc2NyaXB0PicpLmZtdChlc2NhcGVfcXVvdGUoZWxlbV9hdHRycyhlbGVtLCAnaWQnKSksIGVsZW0uZm9ybV9pZCkNCg0KICAgIHZhciBodG1sID0gKCc8ZGl2IGlkPSJ7MH1fZGl2Ij48aW5wdXQgaWQ9InswfV9pbnB1dCIgbmFtZT0iezB9X2lucHV0IiB0eXBlPSJmaWxlIi8+PGRpdiBpZD0iezB9X3Byb2dyZXNzIj48L2Rpdj48aW5wdXQgaWQ9InswfSIgbmFtZT0iezB9IiB0eXBlPSJoaWRkZW4iLz48L2Rpdj4nKS5mbXQoZXNjYXBlX3F1b3RlKGVsZW1fYXR0cnMoZWxlbSwgJ2lkJykpKQ0KDQogICAgcmV0dXJuIG1ha2VfZGl2X3JvdyhodG1sLCBlbGVtLCBlbGVtX3Byb3BzKGVsZW0sICdsYWJlbCcpKSArIGNvZGUNCiAgfTsNCg0KDQogIENPTVBPTkVOVFNfTUFQID0gew0KICAgICJoZWFkaW5nIiA6IHJlbmRlcl9oZWFkaW5nLA0KICAgICJ0ZXh0Ym94IiA6IHJlbmRlcl90ZXh0Ym94LA0KICAgICJwYXNzd29yZCIgOiByZW5kZXJfcGFzc3dvcmQsDQogICAgImRyb3Bkb3duIiA6IHJlbmRlcl9kcm9wZG93biwNCiAgICAicmFkaW9idXR0b24iIDogcmVuZGVyX3JhZGlvYnV0dG9uLA0KICAgICJjaGVja2JveCIgOiByZW5kZXJfY2hlY2tib3gsDQogICAgInRleHRhcmVhIiA6IHJlbmRlcl90ZXh0YXJlYSwNCiAgICAiaHlwZXJ0ZXh0IiA6IHJlbmRlcl9oeXBlcnRleHQsDQogICAgImJ1dHRvbiIgOiByZW5kZXJfYnV0dG9uLA0KICAgICJsaXZlc2VhcmNoIjogcmVuZGVyX2xpdmVzZWFyY2gsDQogICAgImNvbnRhaW5lciI6IHJlbmRlcl9jb250YWluZXIsDQogICAgImZpbGV1cGxvYWQiIDogcmVuZGVyX2ZpbGV1cGxvYWQsDQogICAgInJpY2h0ZXh0YXJlYSI6IHJlbmRlcl9yaWNodGV4dGFyZWEsDQogIH0NCg0KICB2YXIgcmVuZGVyX2NvbXBvbmVudHMgPSBmdW5jdGlvbihjb21wb25lbnRzLCBmb3JtX2lkKXsNCiAgICB2YXIgZGF0YSA9IFtdOw0KICAgIGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbigpew0KICAgICAgdmFyIGNvbXBvbmVudCA9IGpRdWVyeSh0aGlzKTsNCiAgICAgIHZhciByZW5kZXIgPSBDT01QT05FTlRTX01BUFt0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKV07DQogICAgICBpZiAocmVuZGVyKXsNCiAgICAgICAgY29tcG9uZW50LmZvcm1faWQgPSBmb3JtX2lkOw0KICAgICAgICBkYXRhLnB1c2gocmVuZGVyKGNvbXBvbmVudCkpOw0KICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBkYXRhLmpvaW4oJycpOw0KICB9Ow0KDQogIHZhciB4bWxEaWFsb2cgPSBqUXVlcnkoZGlhbG9nSUQpOw0KICB4bWxEaWFsb2cuaHRtbCgnJyk7DQogIHhtbERpYWxvZy5kYXRhKCdldicsJycpOw0KICANCiAgdmFyIHJlc3VsdCA9IFtdOw0KICB2YXIgeG1sRGF0YSA9IGpRdWVyeS5wYXJzZVhNTCh4bWxEYXRhKTsNCiAgeG1sRGF0YSA9IGpRdWVyeSh4bWxEYXRhKTsNCg0KICB2YXIgZm9ybV9pZCA9ICd4bWxfZm9ybV8nICsgZGlhbG9nSUQuc3Vic3RyaW5nKDMpOw0KICB2YXIgZGVmYXVsdF9idG4gPSB4bWxEYXRhLmZpbmQoJ0J1dHRvbicpLmxlbmd0aCA+IDAgPyBmYWxzZSA6IHRydWU7DQogIHZhciByZW5kZXJfcmVzdWx0ID0gcmVuZGVyX2NvbXBvbmVudHMoeG1sRGF0YS5maW5kKCJWRE9NRm9ybUNvbnRhaW5lcj5Db21wb25lbnRzPioiKSwgZm9ybV9pZCk7DQoNCiAgaWYgKGRlZmF1bHRfYnRuKSB7DQogICAgcmVuZGVyX3Jlc3VsdCArPSByZW5kZXJfZGVmYXVsdF9idXR0b24oKTsNCiAgfQ0KDQogIHhtbERpYWxvZy5odG1sKCI8Zm9ybSBpZD0nIiArIGZvcm1faWQgKyAiJyBhY3Rpb249JycgbWV0aG9kPSdwb3N0JyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJyBjbGFzcz0neG1sLWRpYWxvZy1mb3JtJz4iICsgcmVuZGVyX3Jlc3VsdCArICI8L2Zvcm0+IikuZGlhbG9nKCdjbG9zZScpDQogIHhtbERpYWxvZy5kaWFsb2coJ29wdGlvbicsICd0aXRsZScsIHhtbERhdGEuZmluZCgiVkRPTUZvcm1Db250YWluZXI+UHJvcGVydGllcz5Qcm9wZXJ0eVtuYW1lPWxhYmVsXSIpLnRleHQoKSk7DQogIHhtbERpYWxvZy5kYXRhKCdldicsJzEnKTsNCiAgeG1sRGlhbG9nLmRpYWxvZygnb3BlbicpOw0KICANCn0NCg0KZnVuY3Rpb24gdmRvbV94ZF9jcmVhdGVfcmljaHRleHRhcmVhKCRkaWFsb2cpew0KDQogIHZhciBlZGl0b3JzID0gd2luZG93WyJ4bWxEaWFsb2dUaW55RWRpdG9ycyJdID0gW107DQogIGpRdWVyeSgiZGl2LnJpY2h0ZXh0YXJlYSA+IHRleHRhcmVhIiwgJGRpYWxvZykuZWFjaChmdW5jdGlvbigpew0KICAgIHZhciAkdGV4dGFyZWEgPSBqUXVlcnkodGhpcyk7DQoNCiAgICBlZGl0b3JzLnB1c2gobmV3IFRJTlkuZWRpdG9yLmVkaXQoJ2VkaXRvcicsew0KICAgICAgaWQ6ICR0ZXh0YXJlYS5hdHRyKCdpZCcpLA0KICAgICAgY3NzY2xhc3M6ICd0ZScsDQogICAgICBjb250cm9sY2xhc3M6ICd0ZWNvbnRyb2wnLA0KICAgICAgcm93Y2xhc3M6ICd0ZWhlYWRlcicsDQogICAgICBkaXZpZGVyY2xhc3M6ICd0ZWRpdmlkZXInLA0KICAgICAgY29udHJvbHM6Ww0KICAgICAgICAgICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtldGhyb3VnaCcsICd8JywNCiAgICAgICAgICAnb3JkZXJlZGxpc3QnLCAndW5vcmRlcmVkbGlzdCcsICd8Jw0KICAgICAgICAgICwnb3V0ZGVudCcgLCdpbmRlbnQnLCAnfCcsDQogICAgICAgICAgJ2xlZnRhbGlnbicsICdjZW50ZXJhbGlnbicsICdyaWdodGFsaWduJywgJ2Jsb2NranVzdGlmeScsICd8JywNCiAgICAgICAgICAndW5mb3JtYXQnLCAnfCcsICdmb250JywgJ3NpemUnLCAnc3R5bGUnLCAnfCcsDQogICAgICAgICAgJ2hyJywgJ2xpbmsnLCAndW5saW5rJywgJ3wnLCAnY3V0JywgJ2NvcHknLCAncGFzdGUnLCAncHJpbnQnDQogICAgICBdLA0KICAgICAgZm9udHM6WydWZXJkYW5hJywnQXJpYWwnLCdHZW9yZ2lhJywnVHJlYnVjaGV0IE1TJ10sDQogICAgICBoZWlnaHQ6IHBhcnNlSW50KCR0ZXh0YXJlYS5hdHRyKCdlaGVpZ2h0JyksIDEwKSB8fCAnJw0KICAgIH0pKTsNCg0KICAgICR0ZXh0YXJlYS5yZW1vdmVBdHRyKCdlaGVpZ2h0Jyk7ICANCg0KICB9KTsNCn0NCg0KZnVuY3Rpb24gdmRvbV94ZF9jcmVhdGVfbGl2ZXNlYXJjaCgkZGlhbG9nKXsNCg0KICBqUXVlcnkoImRpdi5saXZlc2VhcmNoID4gaW5wdXQiLCAkZGlhbG9nKS5lYWNoKGZ1bmN0aW9uKCl7DQoNCiAgICB2YXIgdGV4dGJveCA9IHRoaXM7DQogICAgdmFyICR0ZXh0Ym94ID0galF1ZXJ5KHRoaXMpOw0KICAgIHZhciBzb3VyY2VVUkkgPSAkdGV4dGJveC5hdHRyKCdzb3VyY2V1cmknKTsNCiAgICB2YXIgc291cmNlRXZlbnQgPSAkdGV4dGJveC5hdHRyKCdzb3VyY2VldmVudCcpOw0KDQogICAgdmFyIGRhdGFEaXYgPSAkdGV4dGJveC5wYXJlbnQoKS5maW5kKCJkaXYjIiArICR0ZXh0Ym94LmF0dHIoJ2lkJykgKyAiLWRhdGEiKTsNCiAgICB2YXIgc291cmNlRGF0YSA9IGRhdGFEaXYudGV4dCgpLnJlcGxhY2UoLyZsdDsvZywgIjwiKS5yZXBsYWNlKC8mYW1wOy9nLCAiJiIpOw0KDQogICAgZGF0YURpdi5yZW1vdmUoKTsNCiAgICAkdGV4dGJveC5yZW1vdmVBdHRyKCJzb3VyY2V1cmkiKS5yZW1vdmVBdHRyKCJzb3VyY2VldmVudCIpOw0KDQogICAgdmFyIGRhdGFTb3VyY2UgPSBbXTsNCg0KICAgIGlmIChzb3VyY2VVUkkpew0KICAgICAgZGF0YVNvdXJjZSA9IHNvdXJjZVVSSTsNCg0KICAgIH0gZWxzZSBpZiAoc291cmNlRXZlbnQpew0KICAgICAgZGF0YVNvdXJjZSA9IGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlKXsNCiAgICAgICAgcmVzcG9uc2UoJGRpYWxvZy5kaWFsb2coJ2V4ZWN1dGVDYWxsYmFjaycsICdsaXZlU2VhcmNoJywgew0KICAgICAgICAgICd0ZXh0Ym94JzogdGV4dGJveCwNCiAgICAgICAgICAndGVybSc6IHJlcXVlc3QudGVybQ0KICAgICAgICB9KSk7DQogICAgICB9Ow0KDQogICAgfSBlbHNlIGlmIChzb3VyY2VEYXRhKXsNCiAgICAgIGRhdGFTb3VyY2UgPSBldmFsKHNvdXJjZURhdGEpOw0KICAgIH0NCg0KICAgICR0ZXh0Ym94LmF1dG9jb21wbGV0ZSh7DQogICAgICAgIHNvdXJjZTogZGF0YVNvdXJjZSwNCiAgICAgICAgYXBwZW5kVG86ICdib2R5JywgLy8galF1ZXJ5KCIueG1sLWRpYWxvZy1mb3JtIHRleHRhcmVhIyIgKyBvYmpJRCkuY2xvc2VzdCgiZm9ybS54bWwtZGlhbG9nLWZvcm0iKS5wYXJlbnQoKS5wYXJlbnQoKSwNCiAgICAgICAgaHRtbDp0cnVlLA0KICAgICAgc2VsZWN0OiBmdW5jdGlvbihldiwgdWkpew0KICAgICAgICB2YXIgaW5wdXRfbmFtZSA9IGpRdWVyeSh0aGlzKS5hdHRyKCduYW1lJyk7DQogICAgICAgIGpRdWVyeSh0aGlzKS5iZWZvcmUoIjxkaXYgY2xhc3M9J3NlbGVjdGVkLWl0ZW0nPjxzcGFuPjxkaXYgY2xhc3M9J3ZhbHVlJz4iICsgdWkuaXRlbS5sYWJlbCArICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSciICsgaW5wdXRfbmFtZSArICJbIiArIHVpLml0ZW0udmFsdWUucmVwbGFjZSgvIi9nLCAiJnF1b3Q7IikgKyAiXScgdmFsdWU9JzEnPjwvZGl2PjxkaXYgY2xhc3M9J2Nsb3NlJyBvbmNsaWNrPSdqUXVlcnkodGhpcykucGFyZW50KCkucGFyZW50KCkucmVtb3ZlKCknPjwvZGl2Pjwvc3Bhbj48L2Rpdj4iKTsNCiAgICAgICAgalF1ZXJ5KHRoaXMpLnZhbCgnJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsgDQogICAgICB9DQogICAgfSk7DQoNCiAgICAkdGV4dGJveC5rZXlkb3duKGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAkLnVpLmtleUNvZGUuRU5URVIgfHwNCiAgICAgICAgICBldmVudC5rZXlDb2RlID09ICQudWkua2V5Q29kZS5OVU1QQURfRU5URVIgfHwNCiAgICAgICAgICBldmVudC5rZXlDb2RlID09ICQudWkua2V5Q29kZS5UQUIpew0KICAgICAgICANCiAgICAgICAgaWYgKGpRdWVyeSh0aGlzKS52YWwoKS5sZW5ndGggPj0gMikgew0KICAgICAgICAgIA0KICAgICAgICAgIHZhciBpbnB1dF9uYW1lID0galF1ZXJ5KHRoaXMpLmF0dHIoJ25hbWUnKTsNCiAgICAgICAgICB2YXIgdmFsdWUgPSBqUXVlcnkodGhpcykudmFsKCk7DQogICAgICAgICAgalF1ZXJ5KHRoaXMpLmJlZm9yZSgiPGRpdiBjbGFzcz0nc2VsZWN0ZWQtaXRlbSc+PHNwYW4+PGRpdiBjbGFzcz0ndmFsdWUnPiIgKyB2YWx1ZSArICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSciICsgaW5wdXRfbmFtZSArICJbIiArIHZhbHVlLnJlcGxhY2UoLyIvZywgIiZxdW90OyIpICsgIl0nIHZhbHVlPScxJz48L2Rpdj48ZGl2IGNsYXNzPSdjbG9zZScgb25jbGljaz0nalF1ZXJ5KHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpJz48L2Rpdj48L3NwYW4+PC9kaXY+Iik7DQogICAgICAgICAgalF1ZXJ5KHRoaXMpLnZhbCgnJyk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gJC51aS5rZXlDb2RlLlRBQikNCiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgfQ0KICAgIH0pOw0KICB9KTsNCn0=</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae32bafe5" Type="js" Name="vdom_xml_dialog_tinyeditor">
			VElOWT17fTsNCg0KZnVuY3Rpb24gVCQoaSl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlk
			KGkpfQ0KZnVuY3Rpb24gVCQkJCgpe3JldHVybiBkb2N1bWVudC5hbGw/MTowfQ0KDQpUSU5ZLmVk
			aXRvcj1mdW5jdGlvbigpew0KCXZhciBjPVtdLCBvZmZzZXQ9LTMwOw0KCWNbJ2N1dCddPVsxLCdD
			dXQnLCdhJywnY3V0JywxXTsNCgljWydjb3B5J109WzIsJ0NvcHknLCdhJywnY29weScsMV07DQoJ
			Y1sncGFzdGUnXT1bMywnUGFzdGUnLCdhJywncGFzdGUnLDFdOw0KCWNbJ2JvbGQnXT1bNCwnQm9s
			ZCcsJ2EnLCdib2xkJ107DQoJY1snaXRhbGljJ109WzUsJ0l0YWxpYycsJ2EnLCdpdGFsaWMnXTsN
			CgljWyd1bmRlcmxpbmUnXT1bNiwnVW5kZXJsaW5lJywnYScsJ3VuZGVybGluZSddOw0KCWNbJ3N0
			cmlrZXRocm91Z2gnXT1bNywnU3RyaWtldGhyb3VnaCcsJ2EnLCdzdHJpa2V0aHJvdWdoJ107DQoJ
			Y1snc3Vic2NyaXB0J109WzgsJ1N1YnNjcmlwdCcsJ2EnLCdzdWJzY3JpcHQnXTsNCgljWydzdXBl
			cnNjcmlwdCddPVs5LCdTdXBlcnNjcmlwdCcsJ2EnLCdzdXBlcnNjcmlwdCddOw0KCWNbJ29yZGVy
			ZWRsaXN0J109WzEwLCdJbnNlcnQgT3JkZXJlZCBMaXN0JywnYScsJ2luc2VydG9yZGVyZWRsaXN0
			J107DQoJY1sndW5vcmRlcmVkbGlzdCddPVsxMSwnSW5zZXJ0IFVub3JkZXJlZCBMaXN0JywnYScs
			J2luc2VydHVub3JkZXJlZGxpc3QnXTsNCgljWydvdXRkZW50J109WzEyLCdPdXRkZW50JywnYScs
			J291dGRlbnQnXTsNCgljWydpbmRlbnQnXT1bMTMsJ0luZGVudCcsJ2EnLCdpbmRlbnQnXTsNCglj
			WydsZWZ0YWxpZ24nXT1bMTQsJ0xlZnQgQWxpZ24nLCdhJywnanVzdGlmeWxlZnQnXTsNCgljWydj
			ZW50ZXJhbGlnbiddPVsxNSwnQ2VudGVyIEFsaWduJywnYScsJ2p1c3RpZnljZW50ZXInXTsNCglj
			WydyaWdodGFsaWduJ109WzE2LCdSaWdodCBBbGlnbicsJ2EnLCdqdXN0aWZ5cmlnaHQnXTsNCglj
			WydibG9ja2p1c3RpZnknXT1bMTcsJ0Jsb2NrIEp1c3RpZnknLCdhJywnanVzdGlmeWZ1bGwnXTsN
			CgljWyd1bmRvJ109WzE4LCdVbmRvJywnYScsJ3VuZG8nXTsNCgljWydyZWRvJ109WzE5LCdSZWRv
			JywnYScsJ3JlZG8nXTsNCgljWydpbWFnZSddPVsyMCwnSW5zZXJ0IEltYWdlJywnaScsJ2luc2Vy
			dGltYWdlJywnRW50ZXIgSW1hZ2UgVVJMOicsJ2h0dHA6Ly8nXTsNCgljWydociddPVsyMSwnSW5z
			ZXJ0IEhvcml6b250YWwgUnVsZScsJ2EnLCdpbnNlcnRob3Jpem9udGFscnVsZSddOw0KCWNbJ2xp
			bmsnXT1bMjIsJ0luc2VydCBIeXBlcmxpbmsnLCdpJywnY3JlYXRlbGluaycsJ0VudGVyIFVSTDon
			LCdodHRwOi8vJ107DQoJY1sndW5saW5rJ109WzIzLCdSZW1vdmUgSHlwZXJsaW5rJywnYScsJ3Vu
			bGluayddOw0KCWNbJ3VuZm9ybWF0J109WzI0LCdSZW1vdmUgRm9ybWF0dGluZycsJ2EnLCdyZW1v
			dmVmb3JtYXQnXTsNCgljWydwcmludCddPVsyNSwnUHJpbnQnLCdhJywncHJpbnQnXTsNCglmdW5j
			dGlvbiBlZGl0KG4sb2JqKXsNCgkJdGhpcy5uPW47d2luZG93W25dPXRoaXM7IHRoaXMudD1UJChv
			YmouaWQpOyB0aGlzLm9iaj1vYmo7IHRoaXMueGh0bWw9b2JqLnhodG1sOw0KCQl2YXIgcD1kb2N1
			bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYn
			KSwgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwNCgkJbD1vYmouY29udHJvbHMubGVu
			Z3RoLCBpPTA7DQoJCXRoaXMuaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsgdGhp
			cy5pLmZyYW1lQm9yZGVyPTA7DQoJCXRoaXMuaS53aWR0aD0iMTAwJSI7IHRoaXMuaS5oZWlnaHQ9
			b2JqLmhlaWdodHx8JzI1MCc7IHRoaXMuaWU9VCQkJCgpOw0KCQloLmNsYXNzTmFtZT1vYmoucm93
			Y2xhc3N8fCd0ZWhlYWRlcic7IHAuY2xhc3NOYW1lPW9iai5jc3NjbGFzc3x8J3RlJzsgcC5zdHls
			ZS53aWR0aD0nMTAwJSc7IHAuYXBwZW5kQ2hpbGQoaCk7DQoJCWZvcihpO2k8bDtpKyspew0KCQkJ
			dmFyIGlkPW9iai5jb250cm9sc1tpXTsNCgkJCWlmKGlkPT0nbicpew0KCQkJCWg9ZG9jdW1lbnQu
			Y3JlYXRlRWxlbWVudCgnZGl2Jyk7IGguY2xhc3NOYW1lPW9iai5yb3djbGFzc3x8J3RlaGVhZGVy
			JzsgcC5hcHBlbmRDaGlsZChoKQ0KCQkJfWVsc2UgaWYoaWQ9PSd8Jyl7DQoJCQkJdmFyIGQ9ZG9j
			dW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGQuY2xhc3NOYW1lPW9iai5kaXZpZGVyY2xhc3N8
			fCd0ZWRpdmlkZXInOyBoLmFwcGVuZENoaWxkKGQpDQoJCQl9ZWxzZSBpZihpZD09J2ZvbnQnKXsN
			CgkJCQl2YXIgc2VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpLCBmb250cz1vYmou
			Zm9udHN8fFsnVmVyZGFuYScsJ0FyaWFsJywnR2VvcmdpYSddLCBmbD1mb250cy5sZW5ndGgsIHg9
			MDsNCgkJCQlzZWwuY2xhc3NOYW1lPSd0ZWZvbnQnOyBzZWwub25jaGFuZ2U9bmV3IEZ1bmN0aW9u
			KHRoaXMubisnLmRkYWN0aW9uKHRoaXMsImZvbnRuYW1lIiknKTsNCgkJCQlzZWwub3B0aW9uc1sw
			XT1uZXcgT3B0aW9uKCdGb250JywnJyk7DQoJCQkJZm9yKHg7eDxmbDt4Kyspew0KCQkJCQl2YXIg
			Zm9udD1mb250c1t4XTsNCgkJCQkJc2VsLm9wdGlvbnNbeCsxXT1uZXcgT3B0aW9uKGZvbnQsZm9u
			dCkNCgkJCQl9DQoJCQkJaC5hcHBlbmRDaGlsZChzZWwpDQoJCQl9ZWxzZSBpZihpZD09J3NpemUn
			KXsNCgkJCQl2YXIgc2VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpLCBzaXplcz1v
			Ymouc2l6ZXN8fFsxLDIsMyw0LDUsNiw3XSwgc2w9c2l6ZXMubGVuZ3RoLCB4PTA7DQoJCQkJc2Vs
			LmNsYXNzTmFtZT0ndGVzaXplJzsgc2VsLm9uY2hhbmdlPW5ldyBGdW5jdGlvbih0aGlzLm4rJy5k
			ZGFjdGlvbih0aGlzLCJmb250c2l6ZSIpJyk7DQoJCQkJZm9yKHg7eDxzbDt4Kyspew0KCQkJCQl2
			YXIgc2l6ZT1zaXplc1t4XTsNCgkJCQkJc2VsLm9wdGlvbnNbeF09bmV3IE9wdGlvbihzaXplLHNp
			emUpDQoJCQkJfQ0KCQkJCWguYXBwZW5kQ2hpbGQoc2VsKQ0KCQkJfWVsc2UgaWYoaWQ9PSdzdHls
			ZScpew0KCQkJCXZhciBzZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0JyksDQoJCQkJ
			c3R5bGVzPW9iai5zdHlsZXN8fFtbJ1N0eWxlJywnJ10sWydQYXJhZ3JhcGgnLCc8cD4nXSxbJ0hl
			YWRlciAxJywnPGgxPiddLFsnSGVhZGVyIDInLCc8aDI+J10sWydIZWFkZXIgMycsJzxoMz4nXSxb
			J0hlYWRlciA0JywnPGg0PiddLFsnSGVhZGVyIDUnLCc8aDU+J10sWydIZWFkZXIgNicsJzxoNj4n
			XV0sDQoJCQkJc2w9c3R5bGVzLmxlbmd0aCwgeD0wOw0KCQkJCXNlbC5jbGFzc05hbWU9J3Rlc3R5
			bGUnOyBzZWwub25jaGFuZ2U9bmV3IEZ1bmN0aW9uKHRoaXMubisnLmRkYWN0aW9uKHRoaXMsImZv
			cm1hdGJsb2NrIiknKTsNCgkJCQlmb3IoeDt4PHNsO3grKyl7DQoJCQkJCXZhciBzdHlsZT1zdHls
			ZXNbeF07DQoJCQkJCXNlbC5vcHRpb25zW3hdPW5ldyBPcHRpb24oc3R5bGVbMF0sc3R5bGVbMV0p
			DQoJCQkJfQ0KCQkJCWguYXBwZW5kQ2hpbGQoc2VsKQ0KCQkJfWVsc2UgaWYoY1tpZF0pew0KCQkJ
			CXZhciBkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIHg9Y1tpZF0sIGZ1bmM9eFsy
			XSwgZXgsIHBvcz14WzBdKm9mZnNldDsNCgkJCQlkaXYuY2xhc3NOYW1lPW9iai5jb250cm9sY2xh
			c3M7DQoJCQkJZGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0nMHB4ICcrcG9zKydweCc7DQoJ
			CQkJZGl2LnRpdGxlPXhbMV07DQoJCQkJZXg9ZnVuYz09J2EnPycuYWN0aW9uKCInK3hbM10rJyIs
			MCwnKyh4WzRdfHwwKSsnKSc6Jy5pbnNlcnQoIicreFs0XSsnIiwiJyt4WzVdKyciLCInK3hbM10r
			JyIpJzsNCgkJCQlkaXYub25jbGljaz1uZXcgRnVuY3Rpb24odGhpcy5uKyhpZD09J3ByaW50Jz8n
			LnByaW50KCknOmV4KSk7DQoJCQkJZGl2Lm9ubW91c2VvdmVyPW5ldyBGdW5jdGlvbih0aGlzLm4r
			Jy5ob3Zlcih0aGlzLCcrcG9zKycsMSknKTsNCgkJCQlkaXYub25tb3VzZW91dD1uZXcgRnVuY3Rp
			b24odGhpcy5uKycuaG92ZXIodGhpcywnK3BvcysnLDApJyk7DQoJCQkJaC5hcHBlbmRDaGlsZChk
			aXYpOw0KCQkJCWlmKHRoaXMuaWUpe2Rpdi51bnNlbGVjdGFibGU9J29uJ30NCgkJCX0NCgkJfQ0K
			CQl0aGlzLnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCx0aGlzLnQpOyAvL3RoaXMudC5zdHls
			ZS53aWR0aD10aGlzLmkud2lkdGgrJ3B4JzsNCgkJdy5hcHBlbmRDaGlsZCh0aGlzLnQpOyB3LmFw
			cGVuZENoaWxkKHRoaXMuaSk7IHAuYXBwZW5kQ2hpbGQodyk7IHRoaXMudC5zdHlsZS5kaXNwbGF5
			PSdub25lJzsNCgkJaWYob2JqLmZvb3Rlcil7DQoJCQl2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVt
			ZW50KCdkaXYnKTsgZi5jbGFzc05hbWU9b2JqLmZvb3RlcmNsYXNzfHwndGVmb290ZXInOw0KCQkJ
			aWYob2JqLnRvZ2dsZSl7DQoJCQkJdmFyIHRvPW9iai50b2dnbGUsIHRzPWRvY3VtZW50LmNyZWF0
			ZUVsZW1lbnQoJ2RpdicpOw0KCQkJCXRzLmNsYXNzTmFtZT10by5jc3NjbGFzc3x8J3RvZ2dsZSc7
			IHRzLmlubmVySFRNTD10by50ZXh0fHwnc291cmNlJzsNCgkJCQl0cy5vbmNsaWNrPW5ldyBGdW5j
			dGlvbih0aGlzLm4rJy50b2dnbGUoMCx0aGlzKTtyZXR1cm4gZmFsc2UnKTsNCgkJCQlmLmFwcGVu
			ZENoaWxkKHRzKQ0KCQkJfQ0KCQkJaWYob2JqLnJlc2l6ZSl7DQoJCQkJdmFyIHJvPW9iai5yZXNp
			emUsIHJzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBycy5jbGFzc05hbWU9cm8uY3Nz
			Y2xhc3N8fCdyZXNpemUnOw0KCQkJCXJzLm9ubW91c2Vkb3duPW5ldyBGdW5jdGlvbignZXZlbnQn
			LHRoaXMubisnLnJlc2l6ZShldmVudCk7cmV0dXJuIGZhbHNlJyk7DQoJCQkJcnMub25zZWxlY3Rz
			dGFydD1mdW5jdGlvbigpe3JldHVybiBmYWxzZX07DQoJCQkJZi5hcHBlbmRDaGlsZChycykNCgkJ
			CX0NCgkJCXAuYXBwZW5kQ2hpbGQoZikNCgkJfQ0KCQl0aGlzLmU9dGhpcy5pLmNvbnRlbnRXaW5k
			b3cuZG9jdW1lbnQ7IHRoaXMuZS5vcGVuKCk7DQoJCXZhciBtPSc8aHRtbD48aGVhZD4nLCBib2R5
			aWQ9b2JqLmJvZHlpZD8iIGlkPVwiIitvYmouYm9keWlkKyJcIiI6IiI7DQoJCWlmKG9iai5jc3Nm
			aWxlKXttKz0nPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK29iai5jc3NmaWxlKyciIC8+
			J30NCgkJaWYob2JqLmNzcyl7bSs9JzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+JytvYmouY3NzKyc8
			L3N0eWxlPid9DQoJCW0rPSc8L2hlYWQ+PGJvZHknK2JvZHlpZCsnPicrKG9iai5jb250ZW50fHx0
			aGlzLnQudmFsdWUpOw0KCQltKz0nPC9ib2R5PjwvaHRtbD4nOw0KCQl0aGlzLmUud3JpdGUobSk7
			DQoJCXRoaXMuZS5jbG9zZSgpOyB0aGlzLmUuZGVzaWduTW9kZT0nb24nOyB0aGlzLmQ9MTsNCgkJ
			aWYodGhpcy54aHRtbCl7DQoJCQl0cnl7dGhpcy5lLmV4ZWNDb21tYW5kKCJzdHlsZVdpdGhDU1Mi
			LDAsMCl9DQoJCQljYXRjaChlKXt0cnl7dGhpcy5lLmV4ZWNDb21tYW5kKCJ1c2VDU1MiLDAsMSl9
			Y2F0Y2goZSl7fX0NCgkJfQ0KCX07DQoJZWRpdC5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24oKXsN
			CgkJdGhpcy5pLmNvbnRlbnRXaW5kb3cucHJpbnQoKQ0KCX0sDQoJZWRpdC5wcm90b3R5cGUuaG92
			ZXI9ZnVuY3Rpb24oZGl2LHBvcyxkaXIpew0KCQlkaXYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9u
			PShkaXI/JzM0cHggJzonMHB4ICcpKyhwb3MpKydweCcNCgl9LA0KCWVkaXQucHJvdG90eXBlLmRk
			YWN0aW9uPWZ1bmN0aW9uKGRkLGEpew0KCQl2YXIgaT1kZC5zZWxlY3RlZEluZGV4LCB2PWRkLm9w
			dGlvbnNbaV0udmFsdWU7DQoJCXRoaXMuYWN0aW9uKGEsdikNCgl9LA0KCWVkaXQucHJvdG90eXBl
			LmFjdGlvbj1mdW5jdGlvbihjbWQsdmFsLGllKXsNCgkJaWYoaWUmJiF0aGlzLmllKXsNCgkJCWFs
			ZXJ0KCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGZ1bmN0aW9uLicpDQoJCX1l
			bHNlew0KCQkJdGhpcy5lLmV4ZWNDb21tYW5kKGNtZCwwLHZhbHx8bnVsbCkNCgkJfQ0KCX0sDQoJ
			ZWRpdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHBybyxtc2csY21kKXsNCgkJdmFyIHZhbD1w
			cm9tcHQocHJvLG1zZyk7DQoJCWlmKHZhbCE9bnVsbCYmdmFsIT0nJyl7dGhpcy5lLmV4ZWNDb21t
			YW5kKGNtZCwwLHZhbCl9DQoJfSwNCgllZGl0LnByb3RvdHlwZS5zZXRmb250PWZ1bmN0aW9uKCl7
			DQoJCWV4ZWNDb21tYW5kKCdmb3JtYXRibG9jaycsMCxoVHlwZSkNCgl9LA0KCWVkaXQucHJvdG90
			eXBlLnJlc2l6ZT1mdW5jdGlvbihlKXsNCgkJaWYodGhpcy5tdil7dGhpcy5mcmVlemUoKX0NCgkJ
			dGhpcy5pLmJjcz1USU5ZLmN1cnNvci50b3AoZSk7DQoJCXRoaXMubXY9bmV3IEZ1bmN0aW9uKCdl
			dmVudCcsdGhpcy5uKycubW92ZShldmVudCknKTsNCgkJdGhpcy5zcj1uZXcgRnVuY3Rpb24odGhp
			cy5uKycuZnJlZXplKCknKTsNCgkJaWYodGhpcy5pZSl7DQoJCQlkb2N1bWVudC5hdHRhY2hFdmVu
			dCgnb25tb3VzZW1vdmUnLHRoaXMubXYpOyBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25tb3VzZXVw
			Jyx0aGlzLnNyKQ0KCQl9ZWxzZXsNCgkJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNl
			bW92ZScsdGhpcy5tdiwxKTsgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsdGhp
			cy5zciwxKQ0KCQl9DQoJfSwNCgllZGl0LnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGUpew0KCQl2
			YXIgcG9zPVRJTlkuY3Vyc29yLnRvcChlKTsNCgkJdGhpcy5pLmhlaWdodD1wYXJzZUludCh0aGlz
			LmkuaGVpZ2h0KStwb3MtdGhpcy5pLmJjczsNCgkJdGhpcy5pLmJjcz1wb3MNCgl9LA0KCWVkaXQu
			cHJvdG90eXBlLmZyZWV6ZT1mdW5jdGlvbigpew0KCQlpZih0aGlzLmllKXsNCgkJCWRvY3VtZW50
			LmRldGFjaEV2ZW50KCdvbm1vdXNlbW92ZScsdGhpcy5tdik7IGRvY3VtZW50LmRldGFjaEV2ZW50
			KCdvbm1vdXNldXAnLHRoaXMuc3IpDQoJCX1lbHNlew0KCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRM
			aXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLm12LDEpOyBkb2N1bWVudC5yZW1vdmVFdmVudExpc3Rl
			bmVyKCdtb3VzZXVwJyx0aGlzLnNyLDEpDQoJCX0NCgl9LA0KCWVkaXQucHJvdG90eXBlLnRvZ2ds
			ZT1mdW5jdGlvbihwb3N0LGRpdil7DQoJCWlmKCF0aGlzLmQpew0KCQkJdmFyIHY9dGhpcy50LnZh
			bHVlOw0KCQkJaWYoZGl2KXtkaXYuaW5uZXJIVE1MPXRoaXMub2JqLnRvZ2dsZS50ZXh0fHwnc291
			cmNlJ30NCgkJCWlmKHRoaXMueGh0bWwmJiF0aGlzLmllKXsNCgkJCQl2PXYucmVwbGFjZSgvPHN0
			cm9uZz4oLiopPFwvc3Ryb25nPi9naSwnPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOyI+
			JDE8L3NwYW4+Jyk7DQoJCQkJdj12LnJlcGxhY2UoLzxlbT4oLiopPFwvZW0+L2dpLCc8c3BhbiBz
			dHlsZT0iZm9udC13ZWlnaHQ6IGl0YWxpYzsiPiQxPC9zcGFuPicpDQoJCQl9DQoJCQl0aGlzLmUu
			Ym9keS5pbm5lckhUTUw9djsNCgkJCXRoaXMudC5zdHlsZS5kaXNwbGF5PSdub25lJzsgdGhpcy5p
			LnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsgdGhpcy5kPTENCgkJfWVsc2V7DQoJCQl2YXIgdj10aGlz
			LmUuYm9keS5pbm5lckhUTUw7DQoJCQlpZih0aGlzLnhodG1sKXsNCgkJCQl2PXYucmVwbGFjZSgv
			PHNwYW4gY2xhc3M9ImFwcGxlLXN0eWxlLXNwYW4iPiguKik8XC9zcGFuPi9naSwnJDEnKTsNCgkJ
			CQl2PXYucmVwbGFjZSgvIGNsYXNzPSJhcHBsZS1zdHlsZS1zcGFuIi9naSwnJyk7DQoJCQkJdj12
			LnJlcGxhY2UoLzxzcGFuIHN0eWxlPSIiPi9naSwnJyk7DQoJCQkJdj12LnJlcGxhY2UoLzxicj4v
			Z2ksJzxiciAvPicpOw0KCQkJCXY9di5yZXBsYWNlKC88YnIgP1wvPz4kL2dpLCcnKTsNCgkJCQl2
			PXYucmVwbGFjZSgvXjxiciA/XC8/Pi9naSwnJyk7DQoJCQkJdj12LnJlcGxhY2UoLyg8aW1nIFte
			Pl0rW15cL10pPi9naSwnJDEgLz4nKTsNCgkJCQl2PXYucmVwbGFjZSgvPGJcYltePl0qPiguKj8p
			PFwvYltePl0qPi9naSwnPHN0cm9uZz4kMTwvc3Ryb25nPicpOw0KCQkJCXY9di5yZXBsYWNlKC88
			aVxiW14+XSo+KC4qPyk8XC9pW14+XSo+L2dpLCc8ZW0+JDE8L2VtPicpOw0KCQkJCXY9di5yZXBs
			YWNlKC88dVxiW14+XSo+KC4qPyk8XC91W14+XSo+L2dpLCc8c3BhbiBzdHlsZT0idGV4dC1kZWNv
			cmF0aW9uOnVuZGVybGluZSI+JDE8L3NwYW4+Jyk7DQoJCQkJdj12LnJlcGxhY2UoLzwoYnxzdHJv
			bmd8ZW18aXx1KSBzdHlsZT0iZm9udC13ZWlnaHQ6IG5vcm1hbDs/Ij4oLiopPFwvKGJ8c3Ryb25n
			fGVtfGl8dSk+L2dpLCckMicpOw0KCQkJCXY9di5yZXBsYWNlKC88KGJ8c3Ryb25nfGVtfGl8dSkg
			c3R5bGU9IiguKikiPiguKik8XC8oYnxzdHJvbmd8ZW18aXx1KT4vZ2ksJzxzcGFuIHN0eWxlPSIk
			MiI+PCQ0PiQzPC8kND48L3NwYW4+Jyk7DQoJCQkJdj12LnJlcGxhY2UoLzxzcGFuIHN0eWxlPSJm
			b250LXdlaWdodDogbm9ybWFsOz8iPiguKik8XC9zcGFuPi9naSwnJDEnKTsNCgkJCQl2PXYucmVw
			bGFjZSgvPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOz8iPiguKik8XC9zcGFuPi9naSwn
			PHN0cm9uZz4kMTwvc3Ryb25nPicpOw0KCQkJCXY9di5yZXBsYWNlKC88c3BhbiBzdHlsZT0iZm9u
			dC1zdHlsZTogaXRhbGljOz8iPiguKik8XC9zcGFuPi9naSwnPGVtPiQxPC9lbT4nKTsNCgkJCQl2
			PXYucmVwbGFjZSgvPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOz8iPiguKik8XC9zcGFu
			Pnw8YlxiW14+XSo+KC4qPyk8XC9iW14+XSo+L2dpLCc8c3Ryb25nPiQxPC9zdHJvbmc+JykNCgkJ
			CX0NCgkJCWlmKGRpdil7ZGl2LmlubmVySFRNTD10aGlzLm9iai50b2dnbGUuYWN0aXZldGV4dHx8
			J3d5c2l3eWcnfQ0KCQkJdGhpcy50LnZhbHVlPXY7DQoJCQlpZighcG9zdCl7DQoJCQkJdGhpcy50
			LnN0eWxlLmhlaWdodD10aGlzLmkuaGVpZ2h0KydweCc7DQoJCQkJdGhpcy5pLnN0eWxlLmRpc3Bs
			YXk9J25vbmUnOyB0aGlzLnQuc3R5bGUuZGlzcGxheT0nYmxvY2snOyB0aGlzLmQ9MA0KCQkJfQ0K
			CQl9DQoJfSwNCgllZGl0LnByb3RvdHlwZS5wb3N0PWZ1bmN0aW9uKCl7DQoJCWlmKHRoaXMuZCl7
			dGhpcy50b2dnbGUoMSl9DQoJfTsNCglyZXR1cm57ZWRpdDplZGl0fQ0KfSgpOw0KDQpUSU5ZLmN1
			cnNvcj1mdW5jdGlvbigpew0KCXJldHVybnsNCgkJdG9wOmZ1bmN0aW9uKGUpew0KCQkJcmV0dXJu
			IFQkJCQoKT93aW5kb3cuZXZlbnQuY2xpZW50WStkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Ny
			b2xsVG9wK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOmUuY2xpZW50WSt3aW5kb3cuc2Nyb2xsWQ0K
			CQl9DQoJfQ0KfSgpOw0K
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae45aaab1" Type="gif" Name="vdom_xml_dialog_close_icon">
			iVBORw0KGgoAAAANSUhEUgAAABUAAAApCAYAAADar2JAAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
			AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1WlUWHRYTUw6Y29tLmFkb2Jl
			LnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1Q
			IENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5
			OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91
			dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4w
			LyI+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAg
			ICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZm
			OlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0
			aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4K
			AtiABQAAALRJREFUSA3tldEJgDAMRK0zdbiO0OG6k3LIwRligv4J6UebS5MXvA+7bbXKgUcH5pyH
			Xlqtd4wbA+9UwBijWe31IBdCUaAgaCwMuCJ/Dy/ZouAMiJ4UqkAOycA7C71TgQrSvNeX5izA6hRQ
			BeVAOVAO/M+Btdbt4bPa+6Lwz6+A3nuz2gMiF0JRoCBoLAy4In8PL9mi4AyInhSqQA7JwOHDp0AF
			aZ6DXp0WYPUrWBWXA98cOAFDDU3vRnEfbgAAAABJRU5ErkJggg==
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae45bbbb1" Type="gif" Name="vdom_xml_dialog_resize_icon">
			R0lGODlhDgANAJEDAJGRkZKSkv///9jm7yH5BAEAAAMALAAAAAAOAA0AAAIfnI8mkS3Q0opoUsVU
			tIMf7mFfVpGPY5qiAolg2sFrAQA7
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae45dddd1" Type="gif" Name="vdom_xml_dialog_resize_header">
			R0lGODlhAQAeAJEAAO3t7evr6/Ly8gAAACH5BAAAAAAALAAAAAABAB4AAAIHlI8Jwe1eAAA7
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae46cccc1" Type="png" Name="vdom_xml_dialog_icons">
			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
			3tAlNQAAAABJRU5ErkJggg==
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae6375ed7" Type="jpg" Name="Icon">
			iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACwklEQVR42m1TS08TURQ+Z2b6oIXW
			2gemhaamCzbs0KT9AYaNCXFpYmKMK124YGGMMZiACwxuXJjGxC0LF7Bwr24IaxIoIUQFpOXVlpnp
			Y/qYufd67gBViDe5c6e953zn+75zBhlzAFEBRVHg6hKCA+eCTgGapsHS0hKk02lYWVn5Mj4+fmd6
			evoZMsYeU2zoKoBMOtvcPWUyYxyOj48CuVz+eT6fDxUKBR273a5F6AO2bUOn03GTOeeXqsvfkoFc
			rVYLtre3IRgMWgsLC5+w1+vuUkxybW0NfD7ff2SI/omI0G63WSwW8+3u/poPBAZfkgRnv93ujKyv
			r8PY2Bg4juMGyn0VSBbY3Ny0E4mEBiheJeLD82hZVonopegC6vU6qKrqUj6TIS4xIL/A6/U62WxW
			q9UqM5FIdI4AWiXqQqpYLPYTPB5PH+hiyXfJigo6yWRSqzfMmej12By221bJtp0UtQb8fj9IMzOZ
			DBDNv3LOAfwDA1Dc2HBC4bAmuPP6WiT6BpvNRgkAU1tbW/0Edi7BpX6ppW5H7PToqEc3Tl9Eo/G3
			2GjUXQCZ6JBGQRvP9bNe78wL+b8EpgKKqjoMQDNN/cPQUPgjmqbhAnAK4jRM3DCgt7gIgpI98Thd
			IajkvtNsghoMArcsYKbZ9wYNQ+8DCDKue3ICe7OzYNdqkJichGguB82dHYhOTADrdqG6uirKy8vo
			DYddTajrp/vE1gWgcYPWwQGsPn0CPcOE7NQUhG5moFOpQvz2LWjs7QGSjN/fvoP+8wcqZLoEKMtJ
			lD1WCMAol+Hzw0fgUDWV2imrahTI5JiTRE8gACgLVSq2rRsWHh6V9zmDEU4POTM90l4uH7pDI6SB
			5AGXtiExpm+DywsA9aRafT8cj7/D+w/u3lNQuUHJitSkKIiRwYDbe/HvOIuLB8pPzBvweb+GIsMb
			fwCDLsCecWjaaQAAAABJRU5ErkJggg==
		</Resource>
		<Resource ID="97bb6c7e-baa0-43e7-b4c9-1d78cf916efe" Type="css" Name="code-mirror.css">CQkJLkNvZGVNaXJyb3Igew0KCWxpbmUtaGVpZ2h0OiAxZW07DQoJZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsNCglib3JkZXI6IDFweCBzb2xpZCBzaWx2ZXI7DQoJb3ZlcmZsb3c6IHZpc2libGU7DQp9DQoNCi5Db2RlTWlycm9yLXNjcm9sbCB7IA0KCW92ZXJmbG93OiBhdXRvOw0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCg0KLkNvZGVNaXJyb3ItZ3V0dGVyIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHotaW5kZXg6IDEwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OyBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWVlOyBtaW4td2lkdGg6IDJlbTsgaGVpZ2h0OiAxMDAlOyB9DQouQ29kZU1pcnJvci1ndXR0ZXItdGV4dCB7IGNvbG9yOiAjYWFhOyB0ZXh0LWFsaWduOiByaWdodDsgcGFkZGluZzogLjRlbSAuMmVtIC40ZW0gLjRlbTsgd2hpdGUtc3BhY2U6IHByZSAhaW1wb3J0YW50OyB9DQouQ29kZU1pcnJvci1saW5lcyB7IHBhZGRpbmc6IC40ZW07IH0NCg0KLkNvZGVNaXJyb3IgcHJlIHsNCi1tb3otYm9yZGVyLXJhZGl1czogMDsNCi13ZWJraXQtYm9yZGVyLXJhZGl1czogMDsNCi1vLWJvcmRlci1yYWRpdXM6IDA7IGJvcmRlci1yYWRpdXM6IDA7IGJvcmRlci13aWR0aDogMDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCmZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IGluaGVyaXQ7IHBhZGRpbmc6IDA7IG1hcmdpbjogMDsgd2hpdGUtc3BhY2U6IHByZTsgd29yZC13cmFwOiBub3JtYWw7IH0NCg0KLkNvZGVNaXJyb3Itd3JhcCBwcmUgeyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsgfQ0KLkNvZGVNaXJyb3Itd3JhcCAuQ29kZU1pcnJvci1zY3JvbGwgeyANCgkvKm92ZXJmbG93LXg6IGF1dG87Ki8NCn0NCg0KLkNvZGVNaXJyb3IgdGV4dGFyZWEgeyBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7IH0NCg0KLkNvZGVNaXJyb3IgcHJlLkNvZGVNaXJyb3ItY3Vyc29yIHsgei1pbmRleDogMTA7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdmlzaWJpbGl0eTogaGlkZGVuOyBib3JkZXItbGVmdDogMXB4IHNvbGlkIGJsYWNrOyBib3JkZXItcmlnaHQ6bm9uZTsgd2lkdGg6MDsgfQ0KLkNvZGVNaXJyb3IgcHJlLkNvZGVNaXJyb3ItY3Vyc29yLkNvZGVNaXJyb3Itb3ZlcndyaXRlIHt9DQouQ29kZU1pcnJvci1mb2N1c2VkIHByZS5Db2RlTWlycm9yLWN1cnNvciB7IHZpc2liaWxpdHk6IHZpc2libGU7IH0NCg0KZGl2LkNvZGVNaXJyb3Itc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kOiAjZDlkOWQ5OyB9DQouQ29kZU1pcnJvci1mb2N1c2VkIGRpdi5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfQ0KDQouQ29kZU1pcnJvci1zZWFyY2hpbmcgew0KYmFja2dyb3VuZDogI2ZmYTsNCmJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDAsIC40KTsNCn0NCg0Kc3Bhbi5Db2RlTWlycm9yLW1hdGNoaGlnaGxpZ2h0IHsgYmFja2dyb3VuZDogI2ZmMSB9DQouQ29kZU1pcnJvci1mb2N1c2VkIHNwYW4uQ29kZU1pcnJvci1tYXRjaGhpZ2hsaWdodCB7IGJhY2tncm91bmQ6ICNmZjE7ICFpbXBvcnRhbnQgfQ0KDQovKiBEZWZhdWx0IHRoZW1lICovDQoNCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS1rZXl3b3JkIHtjb2xvcjogIzcwODt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tYXRvbSB7Y29sb3I6ICMyMTk7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLW51bWJlciB7Y29sb3I6ICMxNjQ7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLWRlZiB7Y29sb3I6ICMwMGY7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLXZhcmlhYmxlIHtjb2xvcjogYmxhY2s7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLXZhcmlhYmxlLTIge2NvbG9yOiAjMDVhO30NCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS12YXJpYWJsZS0zIHtjb2xvcjogIzA4NTt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tcHJvcGVydHkge2NvbG9yOiBibGFjazt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tb3BlcmF0b3Ige2NvbG9yOiBibGFjazt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tY29tbWVudCB7Y29sb3I6ICM5OTk7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLXN0cmluZyB7Y29sb3I6ICNhMTE7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLXN0cmluZy0yIHtjb2xvcjogI2Y1MDt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tbWV0YSB7Y29sb3I6ICM1NTU7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLWVycm9yIHtjb2xvcjogI2YwMDt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tcXVhbGlmaWVyIHtjb2xvcjogIzU1NTt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tYnVpbHRpbiB7Y29sb3I6ICMzMGE7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLWJyYWNrZXQge2NvbG9yOiAjY2M3O30NCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS10YWcge2NvbG9yOiAjMTcwO30NCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS1hdHRyaWJ1dGUge2NvbG9yOiAjMDBjO30NCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS1oZWFkZXIge2NvbG9yOiAjYTBhO30NCi5jbS1zLWRlZmF1bHQgc3Bhbi5jbS1xdW90ZSB7Y29sb3I6ICMwOTA7fQ0KLmNtLXMtZGVmYXVsdCBzcGFuLmNtLWhyIHtjb2xvcjogIzk5OTt9DQouY20tcy1kZWZhdWx0IHNwYW4uY20tbGluayB7Y29sb3I6ICMwMGM7fQ0KDQpzcGFuLmNtLWhlYWRlciwgc3Bhbi5jbS1zdHJvbmcge2ZvbnQtd2VpZ2h0OiBib2xkO30NCnNwYW4uY20tZW0ge2ZvbnQtc3R5bGU6IGl0YWxpYzt9DQpzcGFuLmNtLWVtc3Ryb25nIHtmb250LXN0eWxlOiBpdGFsaWM7IGZvbnQtd2VpZ2h0OiBib2xkO30NCnNwYW4uY20tbGluayB7dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7fQ0KDQpkaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHtjb2xvcjogIzBmMDt9DQpkaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3Itbm9ubWF0Y2hpbmdicmFja2V0IHtjb2xvcjogI2YyMjt9</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae66214c8" Type="css" Name="style">
			LnhtbC1kaWFsb2ctZm9ybSBkaXYucm93IHsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGNs
			ZWFyOiBib3RoOw0KICAgIGZsb2F0OiBub25lOw0KfQ0KLnhtbC1kaWFsb2ctZm9ybSBkaXYucm93
			ID4gbGFiZWwgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHdpZHRoOiA0NSU7DQp9DQoueG1sLWRp
			YWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSB7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIHdp
			ZHRoOiA1MCU7DQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5mdWxsc2l6ZSA+IGxhYmVsLA0KLnht
			bC1kaWFsb2ctZm9ybSBkaXYuZnVsbHNpemUgPiBkaXYuaXRlbSB7DQogICAgZmxvYXQ6IG5vbmU7
			DQogICAgd2lkdGg6IDEwMCU7DQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgZGl2Lml0ZW0g
			PiBsYWJlbCB7DQogICAgZmxvYXQ6IG5vbmU7DQogICAgd2lkdGg6IGF1dG87DQp9DQoueG1sLWRp
			YWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYubGl2ZXNlYXJjaCA+IGlucHV0LA0KLnhtbC1kaWFsb2ct
			Zm9ybSBkaXYucm93ID4gZGl2LnRleHRib3ggPiBpbnB1dCwNCi54bWwtZGlhbG9nLWZvcm0gZGl2
			LnJvdyA+IGRpdi5pdGVtID4gc2VsZWN0LA0KLnhtbC1kaWFsb2ctZm9ybSBkaXYucm93ID4gZGl2
			Lml0ZW0gPiB0ZXh0YXJlYSB7DQogICAgd2lkdGg6IDk5JTsNCiAgICByZXNpemU6IG5vbmU7DQp9
			DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSBiciB7DQogICAgd2lkdGg6IDEw
			MCU7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgY2xlYXI6IGJvdGg7DQogICAgb3ZlcmZsb3c6
			IGhpZGRlbjsNCiAgICBoZWlnaHQ6IDFweDsNCn0NCi54bWwtZGlhbG9nLWZvcm0gZGl2LnN1Ym1p
			dCB7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIG1hcmdpbi10b3A6IDEwcHg7DQp9DQou
			eG1sLWRpYWxvZy1mb3JtIGRpdi5zdWJtaXQgaW1nIHsNCiAgICBib3JkZXI6IG5vbmU7DQogICAg
			Y3Vyc29yOiBwb2ludGVyOw0KfQ0KDQovKiBsaXZlIHNlYXJjaCAqLw0KLnhtbC1kaWFsb2ctZm9y
			bSBkaXYubGl2ZXNlYXJjaCA+IGRpdi5zZWxlY3RlZC1pdGVtIHsNCiAgICBwYWRkaW5nLXRvcDog
			MnB4Ow0KICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQog
			ICAgcGFkZGluZzogM3B4Ow0KICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7DQp9DQoueG1sLWRpYWxv
			Zy1mb3JtIGRpdi5saXZlc2VhcmNoIHRleHRhcmVhIHsNCiAgICByZXNpemU6IG5vbmU7DQp9DQou
			eG1sLWRpYWxvZy1mb3JtIGRpdi5saXZlc2VhcmNoID4gZGl2LnNlbGVjdGVkLWl0ZW0gPiBzcGFu
			IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlk
			ICNkOWQ5ZDk7DQogICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAg
			IGhlaWdodDogMjBweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIC13ZWJraXQtYm9y
			ZGVyLXJhZGl1czogM3B4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCn0NCi54bWwtZGlhbG9n
			LWZvcm0gZGl2LmxpdmVzZWFyY2ggPiBkaXYuc2VsZWN0ZWQtaXRlbSA+IHNwYW4gPiBkaXYudmFs
			dWUgew0KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICBjb2xvcjogIzIyMjsNCiAgICBt
			YXJnaW46IDJweCA1cHg7DQogICAgbWF4LXdpZHRoOiAzMjVweDsNCiAgICBtYXgtaGVpZ2h0OiAx
			N3B4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7
			DQogICAgZGlyZWN0aW9uOiBsdHI7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLnhtbC1kaWFs
			b2ctZm9ybSBkaXYubGl2ZXNlYXJjaCA+IGRpdi5zZWxlY3RlZC1pdGVtID4gc3BhbiA+IGRpdi5j
			bG9zZSB7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHdpZHRoOiAxNHB4Ow0KICAg
			IGhlaWdodDogMjBweDsNCiAgICBiYWNrZ3JvdW5kOiBuby1yZXBlYXQgdXJsKC85ZjFjMDVjZC1m
			ZWUyLTYwNTUtMmVmNC0xNmZhZTQ1YWFhYjEucmVzKSAtNHB4IDA7DQogICAgb3BhY2l0eTogLjY7
			DQogICAgdmVydGljYWwtYWxpZ246IHRvcDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoueG1s
			LWRpYWxvZy1mb3JtIGRpdi5saXZlc2VhcmNoID4gZGl2LnNlbGVjdGVkLWl0ZW0gPiBzcGFuID4g
			ZGl2LmNsb3NlOmhvdmVyIHsNCiAgICBvcGFjaXR5OiAxOw0KfQ0KLnhtbC1kaWFsb2ctZm9ybSBk
			aXYubGl2ZXNlYXJjaCA+IGRpdi5zZWxlY3RlZC1pdGVtID4gc3Bhbjpob3ZlciB7DQogICAgYm9y
			ZGVyLWNvbG9yOiAjYjliOWI5Ow0KfQ0KDQovKiByaWNoIHRleHQgZWRpdG9yIHN0eWxlICovDQou
			eG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSAjaW5wdXQgew0KICAg
			IGJvcmRlcjogbm9uZTsNCiAgICBtYXJnaW46IDA7DQogICAgcGFkZGluZzogMDsNCiAgICBmb250
			OiAxNHB4ICdDb3VyaWVyIE5ldycsIFZlcmRhbmE7DQogICAgYm9yZGVyOiAwDQp9DQoueG1sLWRp
			YWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSB7DQogICAgYm9yZGVyOiAxcHgg
			c29saWQgI2JiYjsNCiAgICBwYWRkaW5nOiAwIDFweCAxcHg7DQogICAgZm9udDogMTJweCBWZXJk
			YW5hLCBBcmlhbDsNCiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KfQ0KLnhtbC1kaWFsb2ct
			Zm9ybSBkaXYucm93ID4gZGl2Lml0ZW0gPiBkaXYudGUgaWZyYW1lIHsNCiAgICBib3JkZXI6IG5v
			bmU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7DQp9DQoueG1sLWRpYWxvZy1mb3JtIGRp
			di5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSAudGVoZWFkZXIgew0KICAgIGJvcmRlci1ib3R0b206
			IDFweCBzb2xpZCAjYmJiOw0KICAgIGJhY2tncm91bmQ6IHVybCgvOWYxYzA1Y2QtZmVlMi02MDU1
			LTJlZjQtMTZmYWU0NWRkZGQxLnJlcykgcmVwZWF0Ow0KICAgIHBhZGRpbmctdG9wOiAxcHgNCn0N
			Ci54bWwtZGlhbG9nLWZvcm0gZGl2LnJvdyA+IGRpdi5pdGVtID4gZGl2LnRlIC50ZWhlYWRlciBz
			ZWxlY3Qgew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbi10b3A6IDVweDsNCiAgICB3aWR0
			aDogaW5pdGlhbDsNCn0NCi54bWwtZGlhbG9nLWZvcm0gZGl2LnJvdyA+IGRpdi5pdGVtID4gZGl2
			LnRlIC50ZWZvbnQgew0KICAgIG1hcmdpbi1sZWZ0OiAxMnB4DQp9DQoueG1sLWRpYWxvZy1mb3Jt
			IGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSAudGVzaXplIHsNCiAgICBtYXJnaW46IDAgM3B4
			DQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSAudGVzdHls
			ZSB7DQogICAgbWFyZ2luLXJpZ2h0OiAxMnB4DQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cg
			PiBkaXYuaXRlbSA+IGRpdi50ZSAudGVkaXZpZGVyIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxv
			Y2s7DQogICAgd2lkdGg6IDFweDsNCiAgICBoZWlnaHQ6IDMwcHg7DQogICAgYmFja2dyb3VuZDog
			I2NjYw0KfQ0KLnhtbC1kaWFsb2ctZm9ybSBkaXYucm93ID4gZGl2Lml0ZW0gPiBkaXYudGUgLnRl
			Y29udHJvbCB7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHdpZHRoOiAzNHB4Ow0K
			ICAgIGhlaWdodDogMzBweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgYmFja2dyb3VuZC1p
			bWFnZTogdXJsKC85ZjFjMDVjZC1mZWUyLTYwNTUtMmVmNC0xNmZhZTQ2Y2NjYzEucmVzKQ0KfQ0K
			LnhtbC1kaWFsb2ctZm9ybSBkaXYucm93ID4gZGl2Lml0ZW0gPiBkaXYudGUgLnRlY29udHJvbDpo
			b3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0
			aW9uOiAzMHB4IDANCn0NCi54bWwtZGlhbG9nLWZvcm0gZGl2LnJvdyA+IGRpdi5pdGVtID4gZGl2
			LnRlIC50ZWZvb3RlciB7DQogICAgaGVpZ2h0OiAzMnB4Ow0KICAgIGJvcmRlci10b3A6IDFweCBz
			b2xpZCAjYmJiOw0KICAgIGJhY2tncm91bmQ6ICNmNWY1ZjUNCn0NCi54bWwtZGlhbG9nLWZvcm0g
			ZGl2LnJvdyA+IGRpdi5pdGVtID4gZGl2LnRlIC50b2dnbGUgew0KICAgIGZsb2F0OiBsZWZ0Ow0K
			ICAgIGJhY2tncm91bmQ6IHVybCgvOWYxYzA1Y2QtZmVlMi02MDU1LTJlZjQtMTZmYWU0NmNjY2Mx
			LnJlcykgLTM0cHggMnB4IG5vLXJlcGVhdDsNCiAgICBwYWRkaW5nOiA5cHggMTNweCAwIDMxcHg7
			DQogICAgaGVpZ2h0OiAyM3B4Ow0KICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjY2M7DQog
			ICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGNvbG9yOiAjNjY2DQp9DQoueG1sLWRpYWxvZy1mb3Jt
			IGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50ZSAudG9nZ2xlOmhvdmVyIHsNCiAgICBiYWNrZ3Jv
			dW5kLWNvbG9yOiAjZmZmDQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSA+
			IGRpdi50ZSAucmVzaXplIHsNCiAgICBmbG9hdDogcmlnaHQ7DQogICAgaGVpZ2h0OiAzMnB4Ow0K
			ICAgIHdpZHRoOiAzMnB4Ow0KICAgIGJhY2tncm91bmQ6IHVybCgvOWYxYzA1Y2QtZmVlMi02MDU1
			LTJlZjQtMTZmYWU0NWJiYmIxLnJlcykgMTVweCAxNXB4IG5vLXJlcGVhdDsNCiAgICBjdXJzb3I6
			IHMtcmVzaXplDQp9DQoueG1sLWRpYWxvZy1mb3JtIGRpdi5yb3cgPiBkaXYuaXRlbSA+IGRpdi50
			ZSAjZWRpdG9yIHsNCiAgICBjdXJzb3I6IHRleHQ7DQogICAgbWFyZ2luOiAxMHB4DQp9DQo=
		</Resource>
		<Resource ID="9f1c05cd-fee2-6055-2ef4-16fae6cbdfa6" Type="js" Name="vdom_xml_dialog_autocomplete">
			LyohDQogKiBqUXVlcnkgVUkgQXV0b2NvbXBsZXRlIDEuOC4yMA0KICoNCiAqIENvcHlyaWdodCAy
			MDEyLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkNCiAqIER1YWwgbGlj
			ZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLg0KICogaHR0cDov
			L2pxdWVyeS5vcmcvbGljZW5zZQ0KICoNCiAqIGh0dHA6Ly9kb2NzLmpxdWVyeS5jb20vVUkvQXV0
			b2NvbXBsZXRlDQogKg0KICogRGVwZW5kczoNCiAqCWpxdWVyeS51aS5jb3JlLmpzDQogKglqcXVl
			cnkudWkud2lkZ2V0LmpzDQogKglqcXVlcnkudWkucG9zaXRpb24uanMNCiAqLw0KKGZ1bmN0aW9u
			KCAkLCB1bmRlZmluZWQgKSB7DQoNCi8vIHVzZWQgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMg
			d2l0aCByZW1vdGUgZGF0YSBzb3VyY2VzDQp2YXIgcmVxdWVzdEluZGV4ID0gMDsNCg0KJC53aWRn
			ZXQoICJ1aS5hdXRvY29tcGxldGUiLCB7DQoJb3B0aW9uczogew0KCQlhcHBlbmRUbzogImJvZHki
			LA0KCQlhdXRvRm9jdXM6IGZhbHNlLA0KCQlkZWxheTogMzAwLA0KCQltaW5MZW5ndGg6IDEsDQoJ
			CXBvc2l0aW9uOiB7DQoJCQlteTogImxlZnQgdG9wIiwNCgkJCWF0OiAibGVmdCBib3R0b20iLA0K
			CQkJY29sbGlzaW9uOiAibm9uZSINCgkJfSwNCgkJc291cmNlOiBudWxsLA0KCQlyZXNwb25zZTog
			bnVsbCwNCgl9LA0KDQoJcGVuZGluZzogMCwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KCQl2
			YXIgc2VsZiA9IHRoaXMsDQoJCQlkb2MgPSB0aGlzLmVsZW1lbnRbIDAgXS5vd25lckRvY3VtZW50
			LA0KCQkJc3VwcHJlc3NLZXlQcmVzczsNCgkJdGhpcy5pc011bHRpTGluZSA9IHRoaXMuZWxlbWVu
			dC5pcyggInRleHRhcmVhIiApOw0KDQoJCXRoaXMuZWxlbWVudA0KCQkJLmFkZENsYXNzKCAidWkt
			YXV0b2NvbXBsZXRlLWlucHV0IiApDQoJCQkuYXR0ciggImF1dG9jb21wbGV0ZSIsICJvZmYiICkN
			CgkJCS8vIFRPRE8gdmVyaWZ5IHRoZXNlIGFjdHVhbGx5IHdvcmsgYXMgaW50ZW5kZWQNCgkJCS5h
			dHRyKHsNCgkJCQlyb2xlOiAidGV4dGJveCIsDQoJCQkJImFyaWEtYXV0b2NvbXBsZXRlIjogImxp
			c3QiLA0KCQkJCSJhcmlhLWhhc3BvcHVwIjogInRydWUiDQoJCQl9KQ0KCQkJLmJpbmQoICJrZXlk
			b3duLmF1dG9jb21wbGV0ZSIsIGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCQlpZiAoIHNlbGYub3B0
			aW9ucy5kaXNhYmxlZCB8fCBzZWxmLmVsZW1lbnQucHJvcEF0dHIoICJyZWFkT25seSIgKSApIHsN
			CgkJCQkJcmV0dXJuOw0KCQkJCX0NCg0KCQkJCXN1cHByZXNzS2V5UHJlc3MgPSBmYWxzZTsNCgkJ
			CQl2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZTsNCgkJCQlzd2l0Y2goIGV2ZW50LmtleUNvZGUg
			KSB7DQoJCQkJY2FzZSBrZXlDb2RlLlBBR0VfVVA6DQoJCQkJCXNlbGYuX21vdmUoICJwcmV2aW91
			c1BhZ2UiLCBldmVudCApOw0KCQkJCQlicmVhazsNCgkJCQljYXNlIGtleUNvZGUuUEFHRV9ET1dO
			Og0KCQkJCQlzZWxmLl9tb3ZlKCAibmV4dFBhZ2UiLCBldmVudCApOw0KCQkJCQlicmVhazsNCgkJ
			CQljYXNlIGtleUNvZGUuVVA6DQoJCQkJCXNlbGYuX2tleUV2ZW50KCAicHJldmlvdXMiLCBldmVu
			dCApOw0KCQkJCQlicmVhazsNCgkJCQljYXNlIGtleUNvZGUuRE9XTjoNCgkJCQkJc2VsZi5fa2V5
			RXZlbnQoICJuZXh0IiwgZXZlbnQgKTsNCgkJCQkJYnJlYWs7DQoJCQkJY2FzZSBrZXlDb2RlLkVO
			VEVSOg0KCQkJCWNhc2Uga2V5Q29kZS5OVU1QQURfRU5URVI6DQoJCQkJCS8vIHdoZW4gbWVudSBp
			cyBvcGVuIGFuZCBoYXMgZm9jdXMNCgkJCQkJaWYgKCBzZWxmLm1lbnUuYWN0aXZlICkgew0KCQkJ
			CQkJLy8gIzYwNTUgLSBPcGVyYSBzdGlsbCBhbGxvd3MgdGhlIGtleXByZXNzIHRvIG9jY3VyDQoJ
			CQkJCQkvLyB3aGljaCBjYXVzZXMgZm9ybXMgdG8gc3VibWl0DQoJCQkJCQlzdXBwcmVzc0tleVBy
			ZXNzID0gdHJ1ZTsNCgkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCX0NCgkJCQkJ
			Ly9wYXNzdGhyb3VnaCAtIEVOVEVSIGFuZCBUQUIgYm90aCBzZWxlY3QgdGhlIGN1cnJlbnQgZWxl
			bWVudA0KCQkJCWNhc2Uga2V5Q29kZS5UQUI6DQoJCQkJCWlmICggIXNlbGYubWVudS5hY3RpdmUg
			KSB7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQkJc2VsZi5tZW51LnNlbGVjdCggZXZlbnQg
			KTsNCgkJCQkJYnJlYWs7DQoJCQkJY2FzZSBrZXlDb2RlLkVTQ0FQRToNCgkJCQkJc2VsZi5lbGVt
			ZW50LnZhbCggc2VsZi50ZXJtICk7DQoJCQkJCXNlbGYuY2xvc2UoIGV2ZW50ICk7DQoJCQkJCWJy
			ZWFrOw0KCQkJCWRlZmF1bHQ6DQoJCQkJCS8vIGtleXByZXNzIGlzIHRyaWdnZXJlZCBiZWZvcmUg
			dGhlIGlucHV0IHZhbHVlIGlzIGNoYW5nZWQNCgkJCQkJY2xlYXJUaW1lb3V0KCBzZWxmLnNlYXJj
			aGluZyApOw0KCQkJCQlzZWxmLnNlYXJjaGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJ
			CQkJCQkvLyBvbmx5IHNlYXJjaCBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQNCgkJCQkJCWlmICgg
			c2VsZi50ZXJtICE9IHNlbGYuZWxlbWVudC52YWwoKSApIHsNCgkJCQkJCQlzZWxmLnNlbGVjdGVk
			SXRlbSA9IG51bGw7DQoJCQkJCQkJc2VsZi5zZWFyY2goIG51bGwsIGV2ZW50ICk7DQoJCQkJCQl9
			DQoJCQkJCX0sIHNlbGYub3B0aW9ucy5kZWxheSApOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9
			KQ0KCQkJLmJpbmQoICJrZXlwcmVzcy5hdXRvY29tcGxldGUiLCBmdW5jdGlvbiggZXZlbnQgKSB7
			DQoJCQkJaWYgKCBzdXBwcmVzc0tleVByZXNzICkgew0KCQkJCQlzdXBwcmVzc0tleVByZXNzID0g
			ZmFsc2U7DQoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQkJfQ0KCQkJfSkNCgkJCS5i
			aW5kKCAiZm9jdXMuYXV0b2NvbXBsZXRlIiwgZnVuY3Rpb24oKSB7DQoJCQkJaWYgKCBzZWxmLm9w
			dGlvbnMuZGlzYWJsZWQgKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoNCgkJCQlzZWxmLnNlbGVj
			dGVkSXRlbSA9IG51bGw7DQoJCQkJc2VsZi5wcmV2aW91cyA9IHNlbGYuZWxlbWVudC52YWwoKTsN
			CgkJCX0pDQoJCQkuYmluZCggImJsdXIuYXV0b2NvbXBsZXRlIiwgZnVuY3Rpb24oIGV2ZW50ICkg
			ew0KCQkJCWlmICggc2VsZi5vcHRpb25zLmRpc2FibGVkICkgew0KCQkJCQlyZXR1cm47DQoJCQkJ
			fQ0KDQoJCQkJY2xlYXJUaW1lb3V0KCBzZWxmLnNlYXJjaGluZyApOw0KCQkJCS8vIGNsaWNrcyBv
			biB0aGUgbWVudSAob3IgYSBidXR0b24gdG8gdHJpZ2dlciBhIHNlYXJjaCkgd2lsbCBjYXVzZSBh
			IGJsdXIgZXZlbnQNCgkJCQlzZWxmLmNsb3NpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0K
			CQkJCQlzZWxmLmNsb3NlKCBldmVudCApOw0KCQkJCQlzZWxmLl9jaGFuZ2UoIGV2ZW50ICk7DQoJ
			CQkJfSwgMTUwICk7DQoJCQl9KTsNCgkJdGhpcy5faW5pdFNvdXJjZSgpOw0KCQl0aGlzLm1lbnUg
			PSAkKCAiPHVsPjwvdWw+IiApDQoJCQkuYWRkQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUiICkNCgkJ
			CS5hcHBlbmRUbyggJCggdGhpcy5vcHRpb25zLmFwcGVuZFRvIHx8ICJib2R5IiwgZG9jKVswXSAp
			DQoJCQkvLyBwcmV2ZW50IHRoZSBjbG9zZS1vbi1ibHVyIGluIGNhc2Ugb2YgYSAic2xvdyIgY2xp
			Y2sgb24gdGhlIG1lbnUgKGxvbmcgbW91c2Vkb3duKQ0KCQkJLm1vdXNlZG93bihmdW5jdGlvbigg
			ZXZlbnQgKSB7DQoJCQkJLy8gY2xpY2tpbmcgb24gdGhlIHNjcm9sbGJhciBjYXVzZXMgZm9jdXMg
			dG8gc2hpZnQgdG8gdGhlIGJvZHkNCgkJCQkvLyBidXQgd2UgY2FuJ3QgZGV0ZWN0IGEgbW91c2V1
			cCBvciBhIGNsaWNrIGltbWVkaWF0ZWx5IGFmdGVyd2FyZA0KCQkJCS8vIHNvIHdlIGhhdmUgdG8g
			dHJhY2sgdGhlIG5leHQgbW91c2Vkb3duIGFuZCBjbG9zZSB0aGUgbWVudSBpZg0KCQkJCS8vIHRo
			ZSB1c2VyIGNsaWNrcyBzb21ld2hlcmUgb3V0c2lkZSBvZiB0aGUgYXV0b2NvbXBsZXRlDQoJCQkJ
			dmFyIG1lbnVFbGVtZW50ID0gc2VsZi5tZW51LmVsZW1lbnRbIDAgXTsNCgkJCQlpZiAoICEkKCBl
			dmVudC50YXJnZXQgKS5jbG9zZXN0KCAiLnVpLW1lbnUtaXRlbSIgKS5sZW5ndGggKSB7DQoJCQkJ
			CXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJCQkkKCBkb2N1bWVudCApLm9uZSggJ21vdXNl
			ZG93bicsIGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCQkJCQlpZiAoIGV2ZW50LnRhcmdldCAhPT0g
			c2VsZi5lbGVtZW50WyAwIF0gJiYNCgkJCQkJCQkJZXZlbnQudGFyZ2V0ICE9PSBtZW51RWxlbWVu
			dCAmJg0KCQkJCQkJCQkhJC51aS5jb250YWlucyggbWVudUVsZW1lbnQsIGV2ZW50LnRhcmdldCAp
			ICkgew0KCQkJCQkJCQlzZWxmLmNsb3NlKCk7DQoJCQkJCQkJfQ0KCQkJCQkJfSk7DQoJCQkJCX0s
			IDEgKTsNCgkJCQl9DQoNCgkJCQkvLyB1c2UgYW5vdGhlciB0aW1lb3V0IHRvIG1ha2Ugc3VyZSB0
			aGUgYmx1ci1ldmVudC1oYW5kbGVyIG9uIHRoZSBpbnB1dCB3YXMgYWxyZWFkeSB0cmlnZ2VyZWQN
			CgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KCQkJCQljbGVhclRpbWVvdXQoIHNlbGYuY2xv
			c2luZyApOw0KCQkJCX0sIDEzKTsNCgkJCX0pDQoJCQkubWVudSh7DQoJCQkJZm9jdXM6IGZ1bmN0
			aW9uKCBldmVudCwgdWkgKSB7DQoJCQkJCXZhciBpdGVtID0gdWkuaXRlbS5kYXRhKCAiaXRlbS5h
			dXRvY29tcGxldGUiICk7DQoJCQkJCWlmICggZmFsc2UgIT09IHNlbGYuX3RyaWdnZXIoICJmb2N1
			cyIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApICkgew0KCQkJCQkJLy8gdXNlIHZhbHVlIHRvIG1h
			dGNoIHdoYXQgd2lsbCBlbmQgdXAgaW4gdGhlIGlucHV0LCBpZiBpdCB3YXMgYSBrZXkgZXZlbnQN
			CgkJCQkJCWlmICggL15rZXkvLnRlc3QoZXZlbnQub3JpZ2luYWxFdmVudC50eXBlKSApIHsNCgkJ
			CQkJCQlzZWxmLmVsZW1lbnQudmFsKCBpdGVtLnZhbHVlICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJ
			CQl9LA0KCQkJCXNlbGVjdGVkOiBmdW5jdGlvbiggZXZlbnQsIHVpICkgew0KCQkJCQl2YXIgaXRl
			bSA9IHVpLml0ZW0uZGF0YSggIml0ZW0uYXV0b2NvbXBsZXRlIiApLA0KCQkJCQkJcHJldmlvdXMg
			PSBzZWxmLnByZXZpb3VzOw0KDQoJCQkJCS8vIG9ubHkgdHJpZ2dlciB3aGVuIGZvY3VzIHdhcyBs
			b3N0IChjbGljayBvbiBtZW51KQ0KCQkJCQlpZiAoIHNlbGYuZWxlbWVudFswXSAhPT0gZG9jLmFj
			dGl2ZUVsZW1lbnQgKSB7DQoJCQkJCQlzZWxmLmVsZW1lbnQuZm9jdXMoKTsNCgkJCQkJCXNlbGYu
			cHJldmlvdXMgPSBwcmV2aW91czsNCgkJCQkJCS8vICM2MTA5IC0gSUUgdHJpZ2dlcnMgdHdvIGZv
			Y3VzIGV2ZW50cyBhbmQgdGhlIHNlY29uZA0KCQkJCQkJLy8gaXMgYXN5bmNocm9ub3VzLCBzbyB3
			ZSBuZWVkIHRvIHJlc2V0IHRoZSBwcmV2aW91cw0KCQkJCQkJLy8gdGVybSBzeW5jaHJvbm91c2x5
			IGFuZCBhc3luY2hyb25vdXNseSA6LSgNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJ
			CQkJCQkJc2VsZi5wcmV2aW91cyA9IHByZXZpb3VzOw0KCQkJCQkJCXNlbGYuc2VsZWN0ZWRJdGVt
			ID0gaXRlbTsNCgkJCQkJCX0sIDEpOw0KCQkJCQl9DQoNCgkJCQkJaWYgKCBmYWxzZSAhPT0gc2Vs
			Zi5fdHJpZ2dlciggInNlbGVjdCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApICkgew0KCQkJCQkJ
			c2VsZi5lbGVtZW50LnZhbCggaXRlbS52YWx1ZSApOw0KCQkJCQl9DQoJCQkJCS8vIHJlc2V0IHRo
			ZSB0ZXJtIGFmdGVyIHRoZSBzZWxlY3QgZXZlbnQNCgkJCQkJLy8gdGhpcyBhbGxvd3MgY3VzdG9t
			IHNlbGVjdCBoYW5kbGluZyB0byB3b3JrIHByb3Blcmx5DQoJCQkJCXNlbGYudGVybSA9IHNlbGYu
			ZWxlbWVudC52YWwoKTsNCg0KCQkJCQlzZWxmLmNsb3NlKCBldmVudCApOw0KCQkJCQlzZWxmLnNl
			bGVjdGVkSXRlbSA9IGl0ZW07DQoJCQkJfSwNCgkJCQlibHVyOiBmdW5jdGlvbiggZXZlbnQsIHVp
			ICkgew0KCQkJCQkvLyBkb24ndCBzZXQgdGhlIHZhbHVlIG9mIHRoZSB0ZXh0IGZpZWxkIGlmIGl0
			J3MgYWxyZWFkeSBjb3JyZWN0DQoJCQkJCS8vIHRoaXMgcHJldmVudHMgbW92aW5nIHRoZSBjdXJz
			b3IgdW5uZWNlc3NhcmlseQ0KCQkJCQlpZiAoIHNlbGYubWVudS5lbGVtZW50LmlzKCI6dmlzaWJs
			ZSIpICYmDQoJCQkJCQkoIHNlbGYuZWxlbWVudC52YWwoKSAhPT0gc2VsZi50ZXJtICkgKSB7DQoJ
			CQkJCQlzZWxmLmVsZW1lbnQudmFsKCBzZWxmLnRlcm0gKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0p
			DQoJCQkuekluZGV4KCB0aGlzLmVsZW1lbnQuekluZGV4KCkgKyAxICkNCgkJCS8vIHdvcmthcm91
			bmQgZm9yIGpRdWVyeSBidWcgIzU3ODEgaHR0cDovL2Rldi5qcXVlcnkuY29tL3RpY2tldC81Nzgx
			DQoJCQkuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwIH0pDQoJCQkuaGlkZSgpDQoJCQkuZGF0YSggIm1l
			bnUiICk7DQoJCWlmICggJC5mbi5iZ2lmcmFtZSApIHsNCgkJCSB0aGlzLm1lbnUuZWxlbWVudC5i
			Z2lmcmFtZSgpOw0KCQl9DQoJCS8vIHR1cm5pbmcgb2ZmIGF1dG9jb21wbGV0ZSBwcmV2ZW50cyB0
			aGUgYnJvd3NlciBmcm9tIHJlbWVtYmVyaW5nIHRoZQ0KCQkvLyB2YWx1ZSB3aGVuIG5hdmlnYXRp
			bmcgdGhyb3VnaCBoaXN0b3J5LCBzbyB3ZSByZS1lbmFibGUgYXV0b2NvbXBsZXRlDQoJCS8vIGlm
			IHRoZSBwYWdlIGlzIHVubG9hZGVkIGJlZm9yZSB0aGUgd2lkZ2V0IGlzIGRlc3Ryb3llZC4gIzc3
			OTANCgkJc2VsZi5iZWZvcmV1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7DQoJCQlzZWxmLmVs
			ZW1lbnQucmVtb3ZlQXR0ciggImF1dG9jb21wbGV0ZSIgKTsNCgkJfTsNCgkJJCggd2luZG93ICku
			YmluZCggImJlZm9yZXVubG9hZCIsIHNlbGYuYmVmb3JldW5sb2FkSGFuZGxlciApOw0KCX0sDQoN
			CglkZXN0cm95OiBmdW5jdGlvbigpIHsNCgkJdGhpcy5lbGVtZW50DQoJCQkucmVtb3ZlQ2xhc3Mo
			ICJ1aS1hdXRvY29tcGxldGUtaW5wdXQiICkNCgkJCS5yZW1vdmVBdHRyKCAiYXV0b2NvbXBsZXRl
			IiApDQoJCQkucmVtb3ZlQXR0ciggInJvbGUiICkNCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1hdXRv
			Y29tcGxldGUiICkNCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1oYXNwb3B1cCIgKTsNCgkJdGhpcy5t
			ZW51LmVsZW1lbnQucmVtb3ZlKCk7DQoJCSQoIHdpbmRvdyApLnVuYmluZCggImJlZm9yZXVubG9h
			ZCIsIHRoaXMuYmVmb3JldW5sb2FkSGFuZGxlciApOw0KCQkkLldpZGdldC5wcm90b3R5cGUuZGVz
			dHJveS5jYWxsKCB0aGlzICk7DQoJfSwNCg0KCV9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZh
			bHVlICkgew0KCQkkLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSggdGhpcywgYXJn
			dW1lbnRzICk7DQoJCWlmICgga2V5ID09PSAic291cmNlIiApIHsNCgkJCXRoaXMuX2luaXRTb3Vy
			Y2UoKTsNCgkJfQ0KCQlpZiAoIGtleSA9PT0gImFwcGVuZFRvIiApIHsNCgkJCXRoaXMubWVudS5l
			bGVtZW50LmFwcGVuZFRvKCAkKCB2YWx1ZSB8fCAiYm9keSIsIHRoaXMuZWxlbWVudFswXS5vd25l
			ckRvY3VtZW50IClbMF0gKQ0KCQl9DQoJCWlmICgga2V5ID09PSAiZGlzYWJsZWQiICYmIHZhbHVl
			ICYmIHRoaXMueGhyICkgew0KCQkJdGhpcy54aHIuYWJvcnQoKTsNCgkJfQ0KCX0sDQoNCglfaW5p
			dFNvdXJjZTogZnVuY3Rpb24oKSB7DQoJCXZhciBzZWxmID0gdGhpcywNCgkJCWFycmF5LA0KCQkJ
			dXJsOw0KCQlpZiAoICQuaXNBcnJheSh0aGlzLm9wdGlvbnMuc291cmNlKSApIHsNCgkJCWFycmF5
			ID0gdGhpcy5vcHRpb25zLnNvdXJjZTsNCgkJCXRoaXMuc291cmNlID0gZnVuY3Rpb24oIHJlcXVl
			c3QsIHJlc3BvbnNlICkgew0KCQkJCXJlc3BvbnNlKCAkLnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIo
			YXJyYXksIHJlcXVlc3QudGVybSkgKTsNCgkJCX07DQoJCX0gZWxzZSBpZiAoIHR5cGVvZiB0aGlz
			Lm9wdGlvbnMuc291cmNlID09PSAic3RyaW5nIiApIHsNCgkJCXVybCA9IHRoaXMub3B0aW9ucy5z
			b3VyY2U7DQoJCQl0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHsN
			CgkJCQlpZiAoIHNlbGYueGhyICkgew0KCQkJCQlzZWxmLnhoci5hYm9ydCgpOw0KCQkJCX0NCgkJ
			CQlzZWxmLnhociA9ICQuYWpheCh7DQoJCQkJCXVybDogdXJsLA0KCQkJCQlkYXRhOiByZXF1ZXN0
			LA0KCQkJCQlkYXRhVHlwZTogImpzb24iLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbiggZGF0YSwg
			c3RhdHVzICkgew0KCQkJCQkJcmVzcG9uc2UoIGRhdGEgKTsNCgkJCQkJfSwNCgkJCQkJZXJyb3I6
			IGZ1bmN0aW9uKCkgew0KCQkJCQkJcmVzcG9uc2UoIFtdICk7DQoJCQkJCX0NCgkJCQl9KTsNCgkJ
			CX07DQoJCX0gZWxzZSB7DQoJCQl0aGlzLnNvdXJjZSA9IHRoaXMub3B0aW9ucy5zb3VyY2U7DQoJ
			CX0NCgl9LA0KDQoJc2VhcmNoOiBmdW5jdGlvbiggdmFsdWUsIGV2ZW50ICkgew0KCQl2YWx1ZSA9
			IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IHRoaXMuZWxlbWVudC52YWwoKTsNCg0KCQkvLyBhbHdh
			eXMgc2F2ZSB0aGUgYWN0dWFsIHZhbHVlLCBub3QgdGhlIG9uZSBwYXNzZWQgYXMgYW4gYXJndW1l
			bnQNCgkJdGhpcy50ZXJtID0gdGhpcy5lbGVtZW50LnZhbCgpOw0KDQoJCWlmICggdmFsdWUubGVu
			Z3RoIDwgdGhpcy5vcHRpb25zLm1pbkxlbmd0aCApIHsNCgkJCXJldHVybiB0aGlzLmNsb3NlKCBl
			dmVudCApOw0KCQl9DQoNCgkJY2xlYXJUaW1lb3V0KCB0aGlzLmNsb3NpbmcgKTsNCgkJaWYgKCB0
			aGlzLl90cmlnZ2VyKCAic2VhcmNoIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7DQoJCQlyZXR1cm47
			DQoJCX0NCg0KCQlyZXR1cm4gdGhpcy5fc2VhcmNoKCB2YWx1ZSApOw0KCX0sDQoNCglfc2VhcmNo
			OiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCXRoaXMucGVuZGluZysrOw0KCQl0aGlzLmVsZW1lbnQu
			YWRkQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUtbG9hZGluZyIgKTsNCg0KCQl0aGlzLnNvdXJjZSgg
			eyB0ZXJtOiB2YWx1ZSB9LCB0aGlzLl9yZXNwb25zZSgpICk7DQoJfSwNCg0KCV9yZXNwb25zZTog
			ZnVuY3Rpb24oKSB7DQoJCXZhciB0aGF0ID0gdGhpcywNCgkJCWluZGV4ID0gKytyZXF1ZXN0SW5k
			ZXg7DQoNCgkJcmV0dXJuIGZ1bmN0aW9uKCBjb250ZW50ICkgew0KCQkJaWYgKCBpbmRleCA9PT0g
			cmVxdWVzdEluZGV4ICkgew0KCQkJCXRoYXQuX19yZXNwb25zZSggY29udGVudCApOw0KCQkJfQ0K
			DQoJCQl0aGF0LnBlbmRpbmctLTsNCgkJCWlmICggIXRoYXQucGVuZGluZyApIHsNCgkJCQl0aGF0
			LmVsZW1lbnQucmVtb3ZlQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUtbG9hZGluZyIgKTsNCgkJCX0N
			CgkJfTsNCgl9LA0KDQoJX19yZXNwb25zZTogZnVuY3Rpb24oIGNvbnRlbnQgKSB7DQogICAgICAg
			ICAgICAgaWYgKCBjb250ZW50ICkgew0KCQkJY29udGVudCA9IHRoaXMuX25vcm1hbGl6ZSggY29u
			dGVudCApOw0KCQl9DQoJCXRoaXMuX3RyaWdnZXIoICJyZXNwb25zZSIsIG51bGwsIHsgY29udGVu
			dDogY29udGVudCB9ICk7DQoJCWlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiBjb250ZW50
			ICYmIGNvbnRlbnQubGVuZ3RoICkgew0KCQkJY29udGVudCA9IHRoaXMuX25vcm1hbGl6ZSggY29u
			dGVudCApOw0KCQkJdGhpcy5fc3VnZ2VzdCggY29udGVudCApOw0KCQkJdGhpcy5fdHJpZ2dlcigg
			Im9wZW4iICk7DQoJCX0gZWxzZSB7DQoJCQl0aGlzLmNsb3NlKCk7DQoJCX0NCgl9LA0KDQoJY2xv
			c2U6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJY2xlYXJUaW1lb3V0KCB0aGlzLmNsb3NpbmcgKTsN
			CgkJaWYgKCB0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSApIHsNCgkJCXRoaXMubWVu
			dS5lbGVtZW50LmhpZGUoKTsNCgkJCXRoaXMubWVudS5kZWFjdGl2YXRlKCk7DQoJCQl0aGlzLl90
			cmlnZ2VyKCAiY2xvc2UiLCBldmVudCApOw0KCQl9DQoJfSwNCg0KCV9jaGFuZ2U6IGZ1bmN0aW9u
			KCBldmVudCApIHsNCgkJaWYgKCB0aGlzLnByZXZpb3VzICE9PSB0aGlzLmVsZW1lbnQudmFsKCkg
			KSB7DQoJCQl0aGlzLl90cmlnZ2VyKCAiY2hhbmdlIiwgZXZlbnQsIHsgaXRlbTogdGhpcy5zZWxl
			Y3RlZEl0ZW0gfSApOw0KCQl9DQoJfSwNCg0KCV9ub3JtYWxpemU6IGZ1bmN0aW9uKCBpdGVtcyAp
			IHsNCgkJLy8gYXNzdW1lIGFsbCBpdGVtcyBoYXZlIHRoZSByaWdodCBmb3JtYXQgd2hlbiB0aGUg
			Zmlyc3QgaXRlbSBpcyBjb21wbGV0ZQ0KCQlpZiAoIGl0ZW1zLmxlbmd0aCAmJiBpdGVtc1swXS5s
			YWJlbCAmJiBpdGVtc1swXS52YWx1ZSApIHsNCgkJCXJldHVybiBpdGVtczsNCgkJfQ0KCQlyZXR1
			cm4gJC5tYXAoIGl0ZW1zLCBmdW5jdGlvbihpdGVtKSB7DQoJCQlpZiAoIHR5cGVvZiBpdGVtID09
			PSAic3RyaW5nIiApIHsNCgkJCQlyZXR1cm4gew0KCQkJCQlsYWJlbDogaXRlbSwNCgkJCQkJdmFs
			dWU6IGl0ZW0NCgkJCQl9Ow0KCQkJfQ0KCQkJcmV0dXJuICQuZXh0ZW5kKHsNCgkJCQlsYWJlbDog
			aXRlbS5sYWJlbCB8fCBpdGVtLnZhbHVlLA0KCQkJCXZhbHVlOiBpdGVtLnZhbHVlIHx8IGl0ZW0u
			bGFiZWwNCgkJCX0sIGl0ZW0gKTsNCgkJfSk7DQoJfSwNCg0KCV9zdWdnZXN0OiBmdW5jdGlvbigg
			aXRlbXMgKSB7DQoJCXZhciB1bCA9IHRoaXMubWVudS5lbGVtZW50DQoJCQkuZW1wdHkoKQ0KCQkJ
			LnpJbmRleCggdGhpcy5lbGVtZW50LnpJbmRleCgpICsgMSApOw0KCQl0aGlzLl9yZW5kZXJNZW51
			KCB1bCwgaXRlbXMgKTsNCgkJLy8gVE9ETyByZWZyZXNoIHNob3VsZCBjaGVjayBpZiB0aGUgYWN0
			aXZlIGl0ZW0gaXMgc3RpbGwgaW4gdGhlIGRvbSwgcmVtb3ZpbmcgdGhlIG5lZWQgZm9yIGEgbWFu
			dWFsIGRlYWN0aXZhdGUNCgkJdGhpcy5tZW51LmRlYWN0aXZhdGUoKTsNCgkJdGhpcy5tZW51LnJl
			ZnJlc2goKTsNCg0KCQkvLyBzaXplIGFuZCBwb3NpdGlvbiBtZW51DQoJCXVsLnNob3coKTsNCgkJ
			dGhpcy5fcmVzaXplTWVudSgpOw0KCQl1bC5wb3NpdGlvbiggJC5leHRlbmQoew0KCQkJb2Y6IHRo
			aXMuZWxlbWVudA0KCQl9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKSk7DQoNCgkJaWYgKCB0aGlz
			Lm9wdGlvbnMuYXV0b0ZvY3VzICkgew0KCQkJdGhpcy5tZW51Lm5leHQoIG5ldyAkLkV2ZW50KCJt
			b3VzZW92ZXIiKSApOw0KCQl9DQoJfSwNCg0KCV9yZXNpemVNZW51OiBmdW5jdGlvbigpIHsNCgkJ
			dmFyIHVsID0gdGhpcy5tZW51LmVsZW1lbnQ7DQoJCXVsLm91dGVyV2lkdGgoIE1hdGgubWF4KA0K
			CQkJLy8gRmlyZWZveCB3cmFwcyBsb25nIHRleHQgKHBvc3NpYmx5IGEgcm91bmRpbmcgYnVnKQ0K
			CQkJLy8gc28gd2UgYWRkIDFweCB0byBhdm9pZCB0aGUgd3JhcHBpbmcgKCM3NTEzKQ0KCQkJdWwu
			d2lkdGgoICIiICkub3V0ZXJXaWR0aCgpICsgMSwNCgkJCXRoaXMuZWxlbWVudC5vdXRlcldpZHRo
			KCkNCgkJKSApOw0KCX0sDQoNCglfcmVuZGVyTWVudTogZnVuY3Rpb24oIHVsLCBpdGVtcyApIHsN
			CgkJdmFyIHNlbGYgPSB0aGlzOw0KCQkkLmVhY2goIGl0ZW1zLCBmdW5jdGlvbiggaW5kZXgsIGl0
			ZW0gKSB7DQoJCQlzZWxmLl9yZW5kZXJJdGVtKCB1bCwgaXRlbSApOw0KCQl9KTsNCgl9LA0KDQoJ
			X3JlbmRlckl0ZW06IGZ1bmN0aW9uKCB1bCwgaXRlbSkgew0KCQlyZXR1cm4gJCggIjxsaT48L2xp
			PiIgKQ0KCQkJLmRhdGEoICJpdGVtLmF1dG9jb21wbGV0ZSIsIGl0ZW0gKQ0KCQkJLmFwcGVuZCgg
			JCggIjxhPjwvYT4iICkuYXBwZW5kKCBpdGVtLmxhYmVsICkgKQ0KCQkJLmFwcGVuZFRvKCB1bCAp
			Ow0KCX0sDQoNCglfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZXZlbnQgKSB7DQoJCWlmICgg
			IXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpICkgew0KCQkJdGhpcy5zZWFyY2goIG51
			bGwsIGV2ZW50ICk7DQoJCQlyZXR1cm47DQoJCX0NCgkJaWYgKCB0aGlzLm1lbnUuZmlyc3QoKSAm
			JiAvXnByZXZpb3VzLy50ZXN0KGRpcmVjdGlvbikgfHwNCgkJCQl0aGlzLm1lbnUubGFzdCgpICYm
			IC9ebmV4dC8udGVzdChkaXJlY3Rpb24pICkgew0KCQkJdGhpcy5lbGVtZW50LnZhbCggdGhpcy50
			ZXJtICk7DQoJCQl0aGlzLm1lbnUuZGVhY3RpdmF0ZSgpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCXRo
			aXMubWVudVsgZGlyZWN0aW9uIF0oIGV2ZW50ICk7DQoJfSwNCg0KCXdpZGdldDogZnVuY3Rpb24o
			KSB7DQoJCXJldHVybiB0aGlzLm1lbnUuZWxlbWVudDsNCgl9LA0KCV9rZXlFdmVudDogZnVuY3Rp
			b24oIGtleUV2ZW50LCBldmVudCApIHsNCgkJaWYgKCAhdGhpcy5pc011bHRpTGluZSB8fCB0aGlz
			Lm1lbnUuZWxlbWVudC5pcyggIjp2aXNpYmxlIiApICkgew0KCQkJdGhpcy5fbW92ZSgga2V5RXZl
			bnQsIGV2ZW50ICk7DQoNCgkJCS8vIHByZXZlbnRzIG1vdmluZyBjdXJzb3IgdG8gYmVnaW5uaW5n
			L2VuZCBvZiB0aGUgdGV4dCBmaWVsZCBpbiBzb21lIGJyb3dzZXJzDQoJCQlldmVudC5wcmV2ZW50
			RGVmYXVsdCgpOw0KCQl9DQoJfQ0KfSk7DQoNCiQuZXh0ZW5kKCAkLnVpLmF1dG9jb21wbGV0ZSwg
			ew0KCWVzY2FwZVJlZ2V4OiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCXJldHVybiB2YWx1ZS5yZXBs
			YWNlKC9bLVtcXXt9KCkqKz8uLFxcXiR8I1xzXS9nLCAiXFwkJiIpOw0KCX0sDQoJZmlsdGVyOiBm
			dW5jdGlvbihhcnJheSwgdGVybSkgew0KCQl2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoICQudWku
			YXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KHRlcm0pLCAiaSIgKTsNCgkJcmV0dXJuICQuZ3JlcCgg
			YXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7DQoJCQlyZXR1cm4gbWF0Y2hlci50ZXN0KCB2YWx1ZS5s
			YWJlbCB8fCB2YWx1ZS52YWx1ZSB8fCB2YWx1ZSApOw0KCQl9KTsNCgl9DQp9KTsNCg0KfSggalF1
			ZXJ5ICkpOw0KDQovKg0KICogalF1ZXJ5IFVJIE1lbnUgKG5vdCBvZmZpY2lhbGx5IHJlbGVhc2Vk
			KQ0KICoNCiAqIFRoaXMgd2lkZ2V0IGlzbid0IHlldCBmaW5pc2hlZCBhbmQgdGhlIEFQSSBpcyBz
			dWJqZWN0IHRvIGNoYW5nZS4gV2UgcGxhbiB0byBmaW5pc2gNCiAqIGl0IGZvciB0aGUgbmV4dCBy
			ZWxlYXNlLiBZb3UncmUgd2VsY29tZSB0byBnaXZlIGl0IGEgdHJ5IGFueXdheSBhbmQgZ2l2ZSB1
			cyBmZWVkYmFjaywNCiAqIGFzIGxvbmcgYXMgeW91J3JlIG9rYXkgd2l0aCBtaWdyYXRpbmcgeW91
			ciBjb2RlIGxhdGVyIG9uLiBXZSBjYW4gaGVscCB3aXRoIHRoYXQsIHRvby4NCiAqDQogKiBDb3B5
			cmlnaHQgMjAxMCwgQVVUSE9SUy50eHQgKGh0dHA6Ly9qcXVlcnl1aS5jb20vYWJvdXQpDQogKiBE
			dWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4NCiAq
			IGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UNCiAqDQogKiBodHRwOi8vZG9jcy5qcXVlcnkuY29t
			L1VJL01lbnUNCiAqDQogKiBEZXBlbmRzOg0KICoJanF1ZXJ5LnVpLmNvcmUuanMNCiAqICBqcXVl
			cnkudWkud2lkZ2V0LmpzDQogKi8NCihmdW5jdGlvbigkKSB7DQoNCiQud2lkZ2V0KCJ1aS5tZW51
			Iiwgew0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2VsZiA9IHRoaXM7DQoJCXRoaXMu
			ZWxlbWVudA0KCQkJLmFkZENsYXNzKCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVu
			dCB1aS1jb3JuZXItYWxsIikNCgkJCS5hdHRyKHsNCgkJCQlyb2xlOiAibGlzdGJveCIsDQoJCQkJ
			ImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6ICJ1aS1hY3RpdmUtbWVudWl0ZW0iDQoJCQl9KQ0KCQkJ
			LmNsaWNrKGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCQlpZiAoICEkKCBldmVudC50YXJnZXQgKS5j
			bG9zZXN0KCAiLnVpLW1lbnUtaXRlbSBhIiApLmxlbmd0aCApIHsNCgkJCQkJcmV0dXJuOw0KCQkJ
			CX0NCgkJCQkvLyB0ZW1wb3JhcnkNCgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCXNl
			bGYuc2VsZWN0KCBldmVudCApOw0KCQkJfSk7DQoJCXRoaXMucmVmcmVzaCgpOw0KCX0sDQoNCgly
			ZWZyZXNoOiBmdW5jdGlvbigpIHsNCgkJdmFyIHNlbGYgPSB0aGlzOw0KDQoJCS8vIGRvbid0IHJl
			ZnJlc2ggbGlzdCBpdGVtcyB0aGF0IGFyZSBhbHJlYWR5IGFkYXB0ZWQNCgkJdmFyIGl0ZW1zID0g
			dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaTpub3QoLnVpLW1lbnUtaXRlbSk6aGFzKGEpIikNCgkJ
			CS5hZGRDbGFzcygidWktbWVudS1pdGVtIikNCgkJCS5hdHRyKCJyb2xlIiwgIm1lbnVpdGVtIik7
			DQoNCgkJaXRlbXMuY2hpbGRyZW4oImEiKQ0KCQkJLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIikN
			CgkJCS5hdHRyKCJ0YWJpbmRleCIsIC0xKQ0KCQkJLy8gbW91c2VlbnRlciBkb2Vzbid0IHdvcmsg
			d2l0aCBldmVudCBkZWxlZ2F0aW9uDQoJCQkubW91c2VlbnRlcihmdW5jdGlvbiggZXZlbnQgKSB7
			DQoJCQkJc2VsZi5hY3RpdmF0ZSggZXZlbnQsICQodGhpcykucGFyZW50KCkgKTsNCgkJCX0pDQoJ
			CQkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsNCgkJCQlzZWxmLmRlYWN0aXZhdGUoKTsNCgkJCX0p
			Ow0KCX0sDQoNCglhY3RpdmF0ZTogZnVuY3Rpb24oIGV2ZW50LCBpdGVtICkgew0KCQl0aGlzLmRl
			YWN0aXZhdGUoKTsNCgkJaWYgKHRoaXMuaGFzU2Nyb2xsKCkpIHsNCgkJCXZhciBvZmZzZXQgPSBp
			dGVtLm9mZnNldCgpLnRvcCAtIHRoaXMuZWxlbWVudC5vZmZzZXQoKS50b3AsDQoJCQkJc2Nyb2xs
			ID0gdGhpcy5lbGVtZW50LnNjcm9sbFRvcCgpLA0KCQkJCWVsZW1lbnRIZWlnaHQgPSB0aGlzLmVs
			ZW1lbnQuaGVpZ2h0KCk7DQoJCQlpZiAob2Zmc2V0IDwgMCkgew0KCQkJCXRoaXMuZWxlbWVudC5z
			Y3JvbGxUb3AoIHNjcm9sbCArIG9mZnNldCk7DQoJCQl9IGVsc2UgaWYgKG9mZnNldCA+PSBlbGVt
			ZW50SGVpZ2h0KSB7DQoJCQkJdGhpcy5lbGVtZW50LnNjcm9sbFRvcCggc2Nyb2xsICsgb2Zmc2V0
			IC0gZWxlbWVudEhlaWdodCArIGl0ZW0uaGVpZ2h0KCkpOw0KCQkJfQ0KCQl9DQoJCXRoaXMuYWN0
			aXZlID0gaXRlbS5lcSgwKQ0KCQkJLmNoaWxkcmVuKCJhIikNCgkJCQkuYWRkQ2xhc3MoInVpLXN0
			YXRlLWhvdmVyIikNCgkJCQkuYXR0cigiaWQiLCAidWktYWN0aXZlLW1lbnVpdGVtIikNCgkJCS5l
			bmQoKTsNCgkJdGhpcy5fdHJpZ2dlcigiZm9jdXMiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0pOw0K
			CX0sDQoNCglkZWFjdGl2YXRlOiBmdW5jdGlvbigpIHsNCgkJaWYgKCF0aGlzLmFjdGl2ZSkgeyBy
			ZXR1cm47IH0NCg0KCQl0aGlzLmFjdGl2ZS5jaGlsZHJlbigiYSIpDQoJCQkucmVtb3ZlQ2xhc3Mo
			InVpLXN0YXRlLWhvdmVyIikNCgkJCS5yZW1vdmVBdHRyKCJpZCIpOw0KCQl0aGlzLl90cmlnZ2Vy
			KCJibHVyIik7DQoJCXRoaXMuYWN0aXZlID0gbnVsbDsNCgl9LA0KDQoJbmV4dDogZnVuY3Rpb24o
			ZXZlbnQpIHsNCgkJdGhpcy5tb3ZlKCJuZXh0IiwgIi51aS1tZW51LWl0ZW06Zmlyc3QiLCBldmVu
			dCk7DQoJfSwNCg0KCXByZXZpb3VzOiBmdW5jdGlvbihldmVudCkgew0KCQl0aGlzLm1vdmUoInBy
			ZXYiLCAiLnVpLW1lbnUtaXRlbTpsYXN0IiwgZXZlbnQpOw0KCX0sDQoNCglmaXJzdDogZnVuY3Rp
			b24oKSB7DQoJCXJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUucHJldkFsbCgiLnVp
			LW1lbnUtaXRlbSIpLmxlbmd0aDsNCgl9LA0KDQoJbGFzdDogZnVuY3Rpb24oKSB7DQoJCXJldHVy
			biB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxl
			bmd0aDsNCgl9LA0KDQoJbW92ZTogZnVuY3Rpb24oZGlyZWN0aW9uLCBlZGdlLCBldmVudCkgew0K
			CQlpZiAoIXRoaXMuYWN0aXZlKSB7DQoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCB0aGlzLmVsZW1l
			bnQuY2hpbGRyZW4oZWRnZSkpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCXZhciBuZXh0ID0gdGhpcy5h
			Y3RpdmVbZGlyZWN0aW9uICsgIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCk7DQoJCWlmIChu
			ZXh0Lmxlbmd0aCkgew0KCQkJdGhpcy5hY3RpdmF0ZShldmVudCwgbmV4dCk7DQoJCX0gZWxzZSB7
			DQoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oZWRnZSkpOw0K
			CQl9DQoJfSwNCg0KCS8vIFRPRE8gbWVyZ2Ugd2l0aCBwcmV2aW91c1BhZ2UNCgluZXh0UGFnZTog
			ZnVuY3Rpb24oZXZlbnQpIHsNCgkJaWYgKHRoaXMuaGFzU2Nyb2xsKCkpIHsNCgkJCS8vIFRPRE8g
			bWVyZ2Ugd2l0aCBuby1zY3JvbGwtZWxzZQ0KCQkJaWYgKCF0aGlzLmFjdGl2ZSB8fCB0aGlzLmxh
			c3QoKSkgew0KCQkJCXRoaXMuYWN0aXZhdGUoZXZlbnQsIHRoaXMuZWxlbWVudC5jaGlsZHJlbigi
			LnVpLW1lbnUtaXRlbTpmaXJzdCIpKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQl2YXIgYmFzZSA9
			IHRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCwNCgkJCQloZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVp
			Z2h0KCksDQoJCQkJcmVzdWx0ID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCIudWktbWVudS1pdGVt
			IikuZmlsdGVyKGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgY2xvc2UgPSAkKHRoaXMpLm9mZnNldCgp
			LnRvcCAtIGJhc2UgLSBoZWlnaHQgKyAkKHRoaXMpLmhlaWdodCgpOw0KCQkJCQkvLyBUT0RPIGlt
			cHJvdmUgYXBwcm94aW1hdGlvbg0KCQkJCQlyZXR1cm4gY2xvc2UgPCAxMCAmJiBjbG9zZSA+IC0x
			MDsNCgkJCQl9KTsNCg0KCQkJLy8gVE9ETyB0cnkgdG8gY2F0Y2ggdGhpcyBlYXJsaWVyIHdoZW4g
			c2Nyb2xsVG9wIGluZGljYXRlcyB0aGUgbGFzdCBwYWdlIGFueXdheQ0KCQkJaWYgKCFyZXN1bHQu
			bGVuZ3RoKSB7DQoJCQkJcmVzdWx0ID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCIudWktbWVudS1p
			dGVtOmxhc3QiKTsNCgkJCX0NCgkJCXRoaXMuYWN0aXZhdGUoZXZlbnQsIHJlc3VsdCk7DQoJCX0g
			ZWxzZSB7DQoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51
			aS1tZW51LWl0ZW0iKQ0KCQkJCS5maWx0ZXIoIXRoaXMuYWN0aXZlIHx8IHRoaXMubGFzdCgpID8g
			IjpmaXJzdCIgOiAiOmxhc3QiKSk7DQoJCX0NCgl9LA0KDQoJLy8gVE9ETyBtZXJnZSB3aXRoIG5l
			eHRQYWdlDQoJcHJldmlvdXNQYWdlOiBmdW5jdGlvbihldmVudCkgew0KCQlpZiAodGhpcy5oYXNT
			Y3JvbGwoKSkgew0KCQkJLy8gVE9ETyBtZXJnZSB3aXRoIG5vLXNjcm9sbC1lbHNlDQoJCQlpZiAo
			IXRoaXMuYWN0aXZlIHx8IHRoaXMuZmlyc3QoKSkgew0KCQkJCXRoaXMuYWN0aXZhdGUoZXZlbnQs
			IHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbTpsYXN0IikpOw0KCQkJCXJldHVy
			bjsNCgkJCX0NCg0KCQkJdmFyIGJhc2UgPSB0aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3AsDQoJCQkJ
			aGVpZ2h0ID0gdGhpcy5lbGVtZW50LmhlaWdodCgpLA0KCQkJCXJlc3VsdCA9IHRoaXMuZWxlbWVu
			dC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpIHsNCgkJCQkJdmFy
			IGNsb3NlID0gJCh0aGlzKS5vZmZzZXQoKS50b3AgLSBiYXNlICsgaGVpZ2h0IC0gJCh0aGlzKS5o
			ZWlnaHQoKTsNCgkJCQkJLy8gVE9ETyBpbXByb3ZlIGFwcHJveGltYXRpb24NCgkJCQkJcmV0dXJu
			IGNsb3NlIDwgMTAgJiYgY2xvc2UgPiAtMTA7DQoJCQkJfSk7DQoNCgkJCS8vIFRPRE8gdHJ5IHRv
			IGNhdGNoIHRoaXMgZWFybGllciB3aGVuIHNjcm9sbFRvcCBpbmRpY2F0ZXMgdGhlIGxhc3QgcGFn
			ZSBhbnl3YXkNCgkJCWlmICghcmVzdWx0Lmxlbmd0aCkgew0KCQkJCXJlc3VsdCA9IHRoaXMuZWxl
			bWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbTpmaXJzdCIpOw0KCQkJfQ0KCQkJdGhpcy5hY3Rp
			dmF0ZShldmVudCwgcmVzdWx0KTsNCgkJfSBlbHNlIHsNCgkJCXRoaXMuYWN0aXZhdGUoZXZlbnQs
			IHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpDQoJCQkJLmZpbHRlcighdGhp
			cy5hY3RpdmUgfHwgdGhpcy5maXJzdCgpID8gIjpsYXN0IiA6ICI6Zmlyc3QiKSk7DQoJCX0NCgl9
			LA0KDQoJaGFzU2Nyb2xsOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMuZWxlbWVudC5oZWln
			aHQoKSA8IHRoaXMuZWxlbWVudFsgJC5mbi5wcm9wID8gInByb3AiIDogImF0dHIiIF0oInNjcm9s
			bEhlaWdodCIpOw0KCX0sDQoNCglzZWxlY3Q6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJdGhpcy5f
			dHJpZ2dlcigic2VsZWN0ZWQiLCBldmVudCwgeyBpdGVtOiB0aGlzLmFjdGl2ZSB9KTsNCgl9DQp9
			KTsNCg0KfShqUXVlcnkpKTsNCg0KDQoNCg0KDQoNCg0KDQo=
		</Resource>
		<Resource ID="b4993ec8-6d66-8240-22a7-48fbbedfe371" Type="js" Name="jquery.fileupload-n-plugins.js">
			Ci8qCiAqIGpRdWVyeSBGaWxlIFVwbG9hZCBQbHVnaW4gNC41LjEKICogaHR0cHM6Ly9naXRodWIu
			Y29tL2JsdWVpbXAvalF1ZXJ5LUZpbGUtVXBsb2FkCiAqCiAqIENvcHlyaWdodCAyMDEwLCBTZWJh
			c3RpYW4gVHNjaGFuCiAqIGh0dHBzOi8vYmx1ZWltcC5uZXQKICoKICogTGljZW5zZWQgdW5kZXIg
			dGhlIE1JVCBsaWNlbnNlOgogKiBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9N
			SVQvCiAqLwoKLypqc2xpbnQgYnJvd3NlcjogdHJ1ZSwgdW5wYXJhbTogdHJ1ZSAqLwovKmdsb2Jh
			bCBYTUxIdHRwUmVxdWVzdFVwbG9hZCwgRmlsZSwgRmlsZVJlYWRlciwgRm9ybURhdGEsIFByb2dy
			ZXNzRXZlbnQsIHVuZXNjYXBlLCBqUXVlcnksIHVwbG9hZCAqLwoKKGZ1bmN0aW9uICgkKSB7CiAg
			ICAndXNlIHN0cmljdCc7CgogICAgdmFyIGRlZmF1bHROYW1lc3BhY2UgPSAnZmlsZV91cGxvYWQn
			LAogICAgICAgIHVuZGVmID0gJ3VuZGVmaW5lZCcsCiAgICAgICAgZnVuYyA9ICdmdW5jdGlvbics
			CiAgICAgICAgRmlsZVVwbG9hZCwKICAgICAgICBtZXRob2RzLAoKICAgICAgICBNdWx0aUxvYWRl
			ciA9IGZ1bmN0aW9uIChjYWxsQmFjaywgbnVtT3JMaXN0KSB7CiAgICAgICAgICAgIHZhciBsb2Fk
			ZWQgPSAwLAogICAgICAgICAgICAgICAgbGlzdCA9IFtdOwogICAgICAgICAgICBpZiAobnVtT3JM
			aXN0KSB7CiAgICAgICAgICAgICAgICBpZiAobnVtT3JMaXN0Lmxlbmd0aCkgewogICAgICAgICAg
			ICAgICAgICAgIGxpc3QgPSBudW1Pckxpc3Q7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAg
			ICAgICAgICAgICAgICAgIGxpc3RbbnVtT3JMaXN0IC0gMV0gPSBudWxsOwogICAgICAgICAgICAg
			ICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAo
			KSB7CiAgICAgICAgICAgICAgICBsb2FkZWQgKz0gMTsKICAgICAgICAgICAgICAgIGlmIChsb2Fk
			ZWQgPT09IGxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2sobGlzdCk7
			CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gMDsKICAgICAgICAgICAgICAgICAgICBsaXN0
			ID0gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMu
			cHVzaCA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7
			CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCA9IGZ1bmN0aW9uICgpIHsK
			ICAgICAgICAgICAgICAgIHJldHVybiBsaXN0OwogICAgICAgICAgICB9OwogICAgICAgIH0sCiAg
			ICAgICAgCiAgICAgICAgU2VxdWVuY2VIYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAg
			ICB2YXIgc2VxdWVuY2UgPSBbXTsKICAgICAgICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKGNh
			bGxCYWNrKSB7CiAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKGNhbGxCYWNrKTsKICAgICAg
			ICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgICAg
			ICBjYWxsQmFjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAg
			ICB0aGlzLm5leHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zaGlm
			dCgpOwogICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCkgewogICAgICAgICAgICAg
			ICAgICAgIHNlcXVlbmNlWzBdKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAg
			ICAgICAgfTsKICAgICAgICAKICAgIEZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7
			CiAgICAgICAgdmFyIGZpbGVVcGxvYWQgPSB0aGlzLAogICAgICAgICAgICB1cGxvYWRGb3JtLAog
			ICAgICAgICAgICBmaWxlSW5wdXQsCiAgICAgICAgICAgIHNldHRpbmdzID0gewogICAgICAgICAg
			ICAgICAgbmFtZXNwYWNlOiBkZWZhdWx0TmFtZXNwYWNlLAogICAgICAgICAgICAgICAgdXBsb2Fk
			Rm9ybUZpbHRlcjogZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
			IHRydWU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmlsZUlucHV0RmlsdGVy
			OiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAg
			ICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjc3NDbGFzczogZGVmYXVsdE5hbWVzcGFj
			ZSwKICAgICAgICAgICAgICAgIGRyYWdEcm9wU3VwcG9ydDogdHJ1ZSwKICAgICAgICAgICAgICAg
			IGRyb3Bab25lOiBjb250YWluZXIsCiAgICAgICAgICAgICAgICB1cmw6IGZ1bmN0aW9uIChmb3Jt
			KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm0uYXR0cignYWN0aW9uJyk7CiAgICAg
			ICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWV0aG9kOiBmdW5jdGlvbiAoZm9ybSkgewog
			ICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtLmF0dHIoJ21ldGhvZCcpOwogICAgICAgICAg
			ICAgICAgfSwKICAgICAgICAgICAgICAgIGZpZWxkTmFtZTogZnVuY3Rpb24gKGlucHV0KSB7CiAg
			ICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmF0dHIoJ25hbWUnKTsKICAgICAgICAgICAg
			ICAgIH0sCiAgICAgICAgICAgICAgICBmb3JtRGF0YTogZnVuY3Rpb24gKGZvcm0pIHsKICAgICAg
			ICAgICAgICAgICAgICByZXR1cm4gZm9ybS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgICAgICAg
			ICAgfSwKICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiBudWxsLAogICAgICAgICAgICAg
			ICAgbXVsdGlwYXJ0OiB0cnVlLAogICAgICAgICAgICAgICAgbXVsdGlGaWxlUmVxdWVzdDogZmFs
			c2UsCiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLAogICAgICAgICAgICAg
			ICAgZm9yY2VJZnJhbWVVcGxvYWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgc2VxdWVudGlhbFVw
			bG9hZHM6IGZhbHNlLAogICAgICAgICAgICAgICAgbWF4Q2h1bmtTaXplOiBudWxsLAogICAgICAg
			ICAgICAgICAgbWF4RmlsZVJlYWRlclNpemU6IDUwMDAwMDAwLAogICAgICAgICAgICAgICAgcmVw
			bGFjZUZpbGVJbnB1dDogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBkb2N1bWVudExp
			c3RlbmVycyA9IHt9LAogICAgICAgICAgICBkcm9wWm9uZUxpc3RlbmVycyA9IHt9LAogICAgICAg
			ICAgICBwcm90b2NvbFJlZ0V4cCA9IC9eaHR0cChzKT86XC9cLy8sCiAgICAgICAgICAgIG9wdGlv
			bnNSZWZlcmVuY2UsCiAgICAgICAgICAgIG11bHRpTG9hZGVyID0gbmV3IE11bHRpTG9hZGVyKGZ1
			bmN0aW9uIChsaXN0KSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uTG9h
			ZEFsbCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uTG9hZEFsbChs
			aXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHNlcXVl
			bmNlSGFuZGxlciA9IG5ldyBTZXF1ZW5jZUhhbmRsZXIoKSwKICAgICAgICAgICAgCiAgICAgICAg
			ICAgIGNvbXBsZXRlTmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG11bHRpTG9h
			ZGVyLmNvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICBzZXF1ZW5jZUhhbmRsZXIubmV4dCgpOwog
			ICAgICAgICAgICB9LAoKICAgICAgICAgICAgaXNYSFJVcGxvYWRDYXBhYmxlID0gZnVuY3Rpb24g
			KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gdW5k
			ZWYgJiYgdHlwZW9mIFhNTEh0dHBSZXF1ZXN0VXBsb2FkICE9PSB1bmRlZiAmJgogICAgICAgICAg
			ICAgICAgICAgIHR5cGVvZiBGaWxlICE9PSB1bmRlZiAmJiAoIXNldHRpbmdzLm11bHRpcGFydCB8
			fCB0eXBlb2YgRm9ybURhdGEgIT09IHVuZGVmIHx8CiAgICAgICAgICAgICAgICAgICAgKHR5cGVv
			ZiBGaWxlUmVhZGVyICE9PSB1bmRlZiAmJiB0eXBlb2YgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBl
			LnNlbmRBc0JpbmFyeSA9PT0gZnVuYykpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgaW5p
			dEV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoc2V0dGlu
			Z3MuZHJhZ0Ryb3BTdXBwb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0
			aW5ncy5vbkRvY3VtZW50RHJhZ0VudGVyID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAg
			ICAgIGRvY3VtZW50TGlzdGVuZXJzWydkcmFnZW50ZXIuJyArIHNldHRpbmdzLm5hbWVzcGFjZV0g
			PSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25E
			b2N1bWVudERyYWdFbnRlcihlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAg
			ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5vbkRv
			Y3VtZW50RHJhZ0xlYXZlID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3Vt
			ZW50TGlzdGVuZXJzWydkcmFnbGVhdmUuJyArIHNldHRpbmdzLm5hbWVzcGFjZV0gPSBmdW5jdGlv
			biAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Eb2N1bWVudERy
			YWdMZWF2ZShlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAg
			ICB9CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaXN0ZW5lcnNbJ2RyYWdvdmVyLicgICAr
			IHNldHRpbmdzLm5hbWVzcGFjZV0gPSBmaWxlVXBsb2FkLm9uRG9jdW1lbnREcmFnT3ZlcjsKICAg
			ICAgICAgICAgICAgICAgICBkb2N1bWVudExpc3RlbmVyc1snZHJvcC4nICAgICAgICsgc2V0dGlu
			Z3MubmFtZXNwYWNlXSA9IGZpbGVVcGxvYWQub25Eb2N1bWVudERyb3A7CiAgICAgICAgICAgICAg
			ICAgICAgJChkb2N1bWVudCkuYmluZChkb2N1bWVudExpc3RlbmVycyk7CiAgICAgICAgICAgICAg
			ICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5vbkRyYWdFbnRlciA9PT0gZnVuYykgewogICAgICAg
			ICAgICAgICAgICAgICAgICBkcm9wWm9uZUxpc3RlbmVyc1snZHJhZ2VudGVyLicgKyBzZXR0aW5n
			cy5uYW1lc3BhY2VdID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg
			IHNldHRpbmdzLm9uRHJhZ0VudGVyKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAg
			ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdz
			Lm9uRHJhZ0xlYXZlID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bab25l
			TGlzdGVuZXJzWydkcmFnbGVhdmUuJyArIHNldHRpbmdzLm5hbWVzcGFjZV0gPSBmdW5jdGlvbiAo
			ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25EcmFnTGVhdmUoZSk7
			CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAg
			ICAgICAgICAgICAgIGRyb3Bab25lTGlzdGVuZXJzWydkcmFnb3Zlci4nICAgKyBzZXR0aW5ncy5u
			YW1lc3BhY2VdID0gZmlsZVVwbG9hZC5vbkRyYWdPdmVyOwogICAgICAgICAgICAgICAgICAgIGRy
			b3Bab25lTGlzdGVuZXJzWydkcm9wLicgICAgICAgKyBzZXR0aW5ncy5uYW1lc3BhY2VdID0gZmls
			ZVVwbG9hZC5vbkRyb3A7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZHJvcFpvbmUuYmlu
			ZChkcm9wWm9uZUxpc3RlbmVycyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBm
			aWxlSW5wdXQuYmluZCgnY2hhbmdlLicgKyBzZXR0aW5ncy5uYW1lc3BhY2UsIGZpbGVVcGxvYWQu
			b25DaGFuZ2UpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgcmVtb3ZlRXZlbnRIYW5kbGVy
			cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQuZWFjaChkb2N1bWVudExpc3RlbmVy
			cywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50
			KS51bmJpbmQoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAg
			ICQuZWFjaChkcm9wWm9uZUxpc3RlbmVycywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsKICAgICAg
			ICAgICAgICAgICAgICBzZXR0aW5ncy5kcm9wWm9uZS51bmJpbmQoa2V5LCB2YWx1ZSk7CiAgICAg
			ICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZpbGVJbnB1dC51bmJpbmQoJ2NoYW5nZS4n
			ICsgc2V0dGluZ3MubmFtZXNwYWNlKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGlzQ2h1
			bmtlZFVwbG9hZCA9IGZ1bmN0aW9uIChzZXR0aW5ncykgewogICAgICAgICAgICAgICAgcmV0dXJu
			IHR5cGVvZiBzZXR0aW5ncy51cGxvYWRlZEJ5dGVzICE9PSB1bmRlZjsKICAgICAgICAgICAgfSwK
			CiAgICAgICAgICAgIGNyZWF0ZVByb2dyZXNzRXZlbnQgPSBmdW5jdGlvbiAobGVuZ3RoQ29tcHV0
			YWJsZSwgbG9hZGVkLCB0b3RhbCkgewogICAgICAgICAgICAgICAgdmFyIGV2ZW50OwogICAgICAg
			ICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFdmVudCA9PT0gZnVuYyAmJiB0eXBl
			b2YgUHJvZ3Jlc3NFdmVudCAhPT0gdW5kZWYpIHsKICAgICAgICAgICAgICAgICAgICBldmVudCA9
			IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdQcm9ncmVzc0V2ZW50Jyk7CiAgICAgICAgICAgICAgICAg
			ICAgaWYgKHR5cGVvZiBldmVudC5pbml0UHJvZ3Jlc3NFdmVudCAhPT0gdW5kZWYpIHsKICAgICAg
			ICAgICAgICAgICAgICAgICAgZXZlbnQuaW5pdFByb2dyZXNzRXZlbnQoCiAgICAgICAgICAgICAg
			ICAgICAgICAgICAgICAncHJvZ3Jlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFs
			c2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgIGxlbmd0aENvbXB1dGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBs
			b2FkZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbAogICAgICAgICAgICAgICAg
			ICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAg
			ICAgICAgIGV2ZW50ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoQ29tcHV0
			YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZDogbG9hZGVkLAog
			ICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsCiAgICAgICAgICAgICAgICAg
			ICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsK
			ICAgICAgICAgICAgICAgICAgICBldmVudCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGVu
			Z3RoQ29tcHV0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkOiBsb2Fk
			ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbAogICAgICAgICAgICAgICAg
			ICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7CiAg
			ICAgICAgICAgIH0sCgogICAgICAgICAgICBnZXRQcm9ncmVzc1RvdGFsID0gZnVuY3Rpb24gKGZp
			bGVzLCBpbmRleCwgc2V0dGluZ3MpIHsKICAgICAgICAgICAgICAgIHZhciBpLAogICAgICAgICAg
			ICAgICAgICAgIHRvdGFsOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5wcm9n
			cmVzc1RvdGFsID09PSB1bmRlZikgewogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlc1tpbmRl
			eF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBmaWxlc1tpbmRleF0uc2l6ZTsK
			ICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MucHJvZ3Jlc3NUb3RhbCA9IHRvdGFsID8g
			dG90YWwgOiAxOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAg
			ICAgICAgIHRvdGFsID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8
			IGZpbGVzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Rh
			bCArPSBmaWxlc1tpXS5zaXplOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
			ICAgICAgICAgICAgIHNldHRpbmdzLnByb2dyZXNzVG90YWwgPSB0b3RhbDsKICAgICAgICAgICAg
			ICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGlu
			Z3MucHJvZ3Jlc3NUb3RhbDsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGhhbmRsZUdsb2Jh
			bFByb2dyZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgc2V0dGluZ3Mp
			IHsKICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzc0V2ZW50LAogICAgICAgICAgICAgICAgICAg
			IGxvYWRlckxpc3QsCiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9hZGVkID0gMCwKICAgICAg
			ICAgICAgICAgICAgICBnbG9iYWxUb3RhbCA9IDA7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQu
			bGVuZ3RoQ29tcHV0YWJsZSAmJiB0eXBlb2Ygc2V0dGluZ3Mub25Qcm9ncmVzc0FsbCA9PT0gZnVu
			YykgewogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnByb2dyZXNzTG9hZGVkID0gcGFyc2VJ
			bnQoCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsICog
			Z2V0UHJvZ3Jlc3NUb3RhbChmaWxlcywgaW5kZXgsIHNldHRpbmdzKSwKICAgICAgICAgICAgICAg
			ICAgICAgICAgMTAKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGxv
			YWRlckxpc3QgPSBtdWx0aUxvYWRlci5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgJC5l
			YWNoKGxvYWRlckxpc3QsIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkgewogICAgICAgICAgICAgICAg
			ICAgICAgICAvLyBpdGVtIGlzIGFuIGFycmF5IHdpdGggW2ZpbGVzLCBpbmRleCwgeGhyLCBzZXR0
			aW5nc10KICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9hZGVkICs9IGl0ZW1bM10ucHJv
			Z3Jlc3NMb2FkZWQgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVG90YWwgKz0g
			Z2V0UHJvZ3Jlc3NUb3RhbChpdGVtWzBdLCBpdGVtWzFdLCBpdGVtWzNdKTsKICAgICAgICAgICAg
			ICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0V2ZW50ID0gY3JlYXRlUHJv
			Z3Jlc3NFdmVudCgKICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAg
			ICAgICAgICAgZ2xvYmFsTG9hZGVkLAogICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxUb3Rh
			bAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Q
			cm9ncmVzc0FsbChwcm9ncmVzc0V2ZW50LCBsb2FkZXJMaXN0KTsKICAgICAgICAgICAgICAgIH0K
			ICAgICAgICAgICAgfSwKICAgICAgICAgICAgCiAgICAgICAgICAgIGhhbmRsZUxvYWRFdmVudCA9
			IGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIHNldHRpbmdzKSB7CiAgICAgICAg
			ICAgICAgICB2YXIgcHJvZ3Jlc3NFdmVudDsKICAgICAgICAgICAgICAgIGlmIChpc0NodW5rZWRV
			cGxvYWQoc2V0dGluZ3MpKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudXBsb2FkZWRC
			eXRlcyArPSBzZXR0aW5ncy5jaHVua1NpemU7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NF
			dmVudCA9IGNyZWF0ZVByb2dyZXNzRXZlbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUs
			CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnVwbG9hZGVkQnl0ZXMsCiAgICAgICAg
			ICAgICAgICAgICAgICAgIGZpbGVzW2luZGV4XS5zaXplCiAgICAgICAgICAgICAgICAgICAgKTsK
			ICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uUHJvZ3Jlc3MgPT09IGZ1
			bmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Qcm9ncmVzcyhwcm9ncmVz
			c0V2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAg
			IH0KICAgICAgICAgICAgICAgICAgICBoYW5kbGVHbG9iYWxQcm9ncmVzcyhwcm9ncmVzc0V2ZW50
			LCBmaWxlcywgaW5kZXgsIHhociwgc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgIGlmIChz
			ZXR0aW5ncy51cGxvYWRlZEJ5dGVzIDwgZmlsZXNbaW5kZXhdLnNpemUpIHsKICAgICAgICAgICAg
			ICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5yZXN1bWVVcGxvYWQgPT09IGZ1bmMpIHsK
			ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnJlc3VtZVVwbG9hZCgKICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCwKICAgICAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICBmaWxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwKICAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIsCiAgICAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgc2V0dGluZ3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rp
			b24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQoZXZlbnQs
			IGZpbGVzLCBpbmRleCwgeGhyLCBzZXR0aW5ncywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAg
			ICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZChl
			dmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIHNldHRpbmdzLCB0cnVlKTsKICAgICAgICAgICAgICAg
			ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAg
			ICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0dGluZ3MucHJvZ3Jl
			c3NMb2FkZWQgPSBnZXRQcm9ncmVzc1RvdGFsKGZpbGVzLCBpbmRleCwgc2V0dGluZ3MpOwogICAg
			ICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5vbkxvYWQgPT09IGZ1bmMpIHsKICAgICAg
			ICAgICAgICAgICAgICBzZXR0aW5ncy5vbkxvYWQoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBz
			ZXR0aW5ncyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb21wbGV0ZU5leHQo
			KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgCiAgICAgICAgICAgIGhhbmRsZVByb2dyZXNz
			RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBzZXR0aW5ncykgewog
			ICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzRXZlbnQgPSBldmVudDsKICAgICAgICAgICAgICAg
			IGlmIChpc0NodW5rZWRVcGxvYWQoc2V0dGluZ3MpICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUp
			IHsKICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0V2ZW50ID0gY3JlYXRlUHJvZ3Jlc3NFdmVu
			dCgKICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAg
			c2V0dGluZ3MudXBsb2FkZWRCeXRlcyArIHBhcnNlSW50KGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRv
			dGFsICogc2V0dGluZ3MuY2h1bmtTaXplLCAxMCksCiAgICAgICAgICAgICAgICAgICAgICAgIGZp
			bGVzW2luZGV4XS5zaXplCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0K
			ICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Mub25Qcm9ncmVzcyA9PT0gZnVuYykg
			ewogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uUHJvZ3Jlc3MocHJvZ3Jlc3NFdmVudCwg
			ZmlsZXMsIGluZGV4LCB4aHIsIHNldHRpbmdzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAg
			ICAgICAgIGhhbmRsZUdsb2JhbFByb2dyZXNzKHByb2dyZXNzRXZlbnQsIGZpbGVzLCBpbmRleCwg
			eGhyLCBzZXR0aW5ncyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICBp
			bml0VXBsb2FkRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uIChmaWxlcywgaW5kZXgsIHhociwgc2V0
			dGluZ3MpIHsKICAgICAgICAgICAgICAgIGlmICh4aHIudXBsb2FkKSB7CiAgICAgICAgICAgICAg
			ICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAg
			ICAgICAgICAgICAgaGFuZGxlUHJvZ3Jlc3NFdmVudChlLCBmaWxlcywgaW5kZXgsIHhociwgc2V0
			dGluZ3MpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAg
			ICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBo
			YW5kbGVMb2FkRXZlbnQoZSwgZmlsZXMsIGluZGV4LCB4aHIsIHNldHRpbmdzKTsKICAgICAgICAg
			ICAgICAgIH07CiAgICAgICAgICAgICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7CiAg
			ICAgICAgICAgICAgICAgICAgc2V0dGluZ3MucHJvZ3Jlc3NUb3RhbCA9IHNldHRpbmdzLnByb2dy
			ZXNzTG9hZGVkOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Mub25BYm9y
			dCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkFib3J0KGUs
			IGZpbGVzLCBpbmRleCwgeGhyLCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAg
			ICAgICAgICAgICAgICAgIGNvbXBsZXRlTmV4dCgpOwogICAgICAgICAgICAgICAgfTsKICAgICAg
			ICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAg
			ICBzZXR0aW5ncy5wcm9ncmVzc1RvdGFsID0gc2V0dGluZ3MucHJvZ3Jlc3NMb2FkZWQ7CiAgICAg
			ICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5vbkVycm9yID09PSBmdW5jKSB7CiAg
			ICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRXJyb3IoZSwgZmlsZXMsIGluZGV4LCB4
			aHIsIHNldHRpbmdzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg
			Y29tcGxldGVOZXh0KCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAoKICAgICAg
			ICAgICAgZ2V0VXJsID0gZnVuY3Rpb24gKHNldHRpbmdzKSB7CiAgICAgICAgICAgICAgICBpZiAo
			dHlwZW9mIHNldHRpbmdzLnVybCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgIHJldHVy
			biBzZXR0aW5ncy51cmwoc2V0dGluZ3MudXBsb2FkRm9ybSB8fCB1cGxvYWRGb3JtKTsKICAgICAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy51cmw7CiAgICAgICAg
			ICAgIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICBnZXRNZXRob2QgPSBmdW5jdGlvbiAoc2V0
			dGluZ3MpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MubWV0aG9kID09PSBm
			dW5jKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1ldGhvZChzZXR0aW5n
			cy51cGxvYWRGb3JtIHx8IHVwbG9hZEZvcm0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg
			ICAgICAgcmV0dXJuIHNldHRpbmdzLm1ldGhvZDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAg
			CiAgICAgICAgICAgIGdldEZpZWxkTmFtZSA9IGZ1bmN0aW9uIChzZXR0aW5ncykgewogICAgICAg
			ICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5maWVsZE5hbWUgPT09IGZ1bmMpIHsKICAgICAg
			ICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MuZmllbGROYW1lKHNldHRpbmdzLmZpbGVJbnB1
			dCB8fCBmaWxlSW5wdXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJu
			IHNldHRpbmdzLmZpZWxkTmFtZTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGdldEZvcm1E
			YXRhID0gZnVuY3Rpb24gKHNldHRpbmdzKSB7CiAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGE7
			CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLmZvcm1EYXRhID09PSBmdW5jKSB7
			CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmZvcm1EYXRhKHNldHRpbmdzLnVw
			bG9hZEZvcm0gfHwgdXBsb2FkRm9ybSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQuaXNB
			cnJheShzZXR0aW5ncy5mb3JtRGF0YSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0
			dGluZ3MuZm9ybURhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzLmZvcm1E
			YXRhKSB7CiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBbXTsKICAgICAgICAgICAgICAg
			ICAgICAkLmVhY2goc2V0dGluZ3MuZm9ybURhdGEsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewog
			ICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTog
			dmFsdWV9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1
			cm4gZm9ybURhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gW107
			CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBpc1NhbWVEb21haW4gPSBmdW5jdGlvbiAodXJs
			KSB7CiAgICAgICAgICAgICAgICBpZiAocHJvdG9jb2xSZWdFeHAudGVzdCh1cmwpKSB7CiAgICAg
			ICAgICAgICAgICAgICAgdmFyIGhvc3QgPSBsb2NhdGlvbi5ob3N0LAogICAgICAgICAgICAgICAg
			ICAgICAgICBpbmRleFN0YXJ0ID0gbG9jYXRpb24ucHJvdG9jb2wubGVuZ3RoICsgMiwKICAgICAg
			ICAgICAgICAgICAgICAgICAgaW5kZXggPSB1cmwuaW5kZXhPZihob3N0LCBpbmRleFN0YXJ0KSwK
			ICAgICAgICAgICAgICAgICAgICAgICAgcGF0aEluZGV4ID0gaW5kZXggKyBob3N0Lmxlbmd0aDsK
			ICAgICAgICAgICAgICAgICAgICBpZiAoKGluZGV4ID09PSBpbmRleFN0YXJ0IHx8IGluZGV4ID09
			PSB1cmwuaW5kZXhPZignQCcsIGluZGV4U3RhcnQpICsgMSkgJiYKICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICh1cmwubGVuZ3RoID09PSBwYXRoSW5kZXggfHwgJC5pbkFycmF5KHVybC5jaGFy
			QXQocGF0aEluZGV4KSwgWycvJywgJz8nLCAnIyddKSAhPT0gLTEpKSB7CiAgICAgICAgICAgICAg
			ICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
			ICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBy
			ZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGluaXRVcGxvYWRSZXF1ZXN0
			ID0gZnVuY3Rpb24gKGZpbGVzLCBpbmRleCwgeGhyLCBzZXR0aW5ncykgewogICAgICAgICAgICAg
			ICAgdmFyIGZpbGUgPSBmaWxlc1tpbmRleF0sCiAgICAgICAgICAgICAgICAgICAgdXJsID0gZ2V0
			VXJsKHNldHRpbmdzKSwKICAgICAgICAgICAgICAgICAgICBzYW1lRG9tYWluID0gaXNTYW1lRG9t
			YWluKHVybCk7CiAgICAgICAgICAgICAgICB4aHIub3BlbihnZXRNZXRob2Qoc2V0dGluZ3MpLCB1
			cmwsIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKHNhbWVEb21haW4pIHsKICAgICAgICAgICAg
			ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRw
			UmVxdWVzdCcpOwogICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MubXVsdGlwYXJ0IHx8
			IGlzQ2h1bmtlZFVwbG9hZChzZXR0aW5ncykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgeGhy
			LnNldFJlcXVlc3RIZWFkZXIoJ1gtRmlsZS1OYW1lJywgZmlsZS5uYW1lKTsKICAgICAgICAgICAg
			ICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtRmlsZS1UeXBlJywgZmlsZS50eXBl
			KTsKICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtRmlsZS1T
			aXplJywgZmlsZS5zaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NodW5rZWRV
			cGxvYWQoc2V0dGluZ3MpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVx
			dWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgZmlsZS50eXBlKTsKICAgICAgICAgICAgICAgICAg
			ICAgICAgfSBlbHNlIGlmICghc2V0dGluZ3MubXVsdGlwYXJ0KSB7CiAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0
			aW9uL29jdGV0LXN0cmVhbScpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
			ICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZXR0aW5ncy53aXRoQ3JlZGVu
			dGlhbHMpIHsKICAgICAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsK
			ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoc2V0dGluZ3Mu
			cmVxdWVzdEhlYWRlcnMpKSB7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHNldHRpbmdzLnJl
			cXVlc3RIZWFkZXJzLCBmdW5jdGlvbiAoaW5kZXgsIGhlYWRlcikgewogICAgICAgICAgICAgICAg
			ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIubmFtZSwgaGVhZGVyLnZhbHVlKTsK
			ICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGlu
			Z3MucmVxdWVzdEhlYWRlcnMpIHsKICAgICAgICAgICAgICAgICAgICAkLmVhY2goc2V0dGluZ3Mu
			cmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICAgICAg
			ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgICAg
			ICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBm
			b3JtRGF0YVVwbG9hZCA9IGZ1bmN0aW9uIChmaWxlcywgeGhyLCBzZXR0aW5ncykgewogICAgICAg
			ICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCksCiAgICAgICAgICAgICAgICAg
			ICAgaTsKICAgICAgICAgICAgICAgICQuZWFjaChnZXRGb3JtRGF0YShzZXR0aW5ncyksIGZ1bmN0
			aW9uIChpbmRleCwgZmllbGQpIHsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQo
			ZmllbGQubmFtZSwgZmllbGQudmFsdWUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAg
			ICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAg
			ICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZ2V0RmllbGROYW1lKHNldHRpbmdzKSwgZmlsZXNbaV0p
			OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpOwog
			ICAgICAgICAgICB9LAoKICAgICAgICAgICAgbG9hZEZpbGVDb250ZW50ID0gZnVuY3Rpb24gKGZp
			bGUsIGNhbGxCYWNrKSB7CiAgICAgICAgICAgICAgICBmaWxlLnJlYWRlciA9IG5ldyBGaWxlUmVh
			ZGVyKCk7CiAgICAgICAgICAgICAgICBmaWxlLnJlYWRlci5vbmxvYWQgPSBjYWxsQmFjazsKICAg
			ICAgICAgICAgICAgIGZpbGUucmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhmaWxlKTsKICAgICAg
			ICAgICAgfSwKCiAgICAgICAgICAgIHV0ZjhlbmNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICAg
			ICAgICAgICAgICByZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOwogICAg
			ICAgICAgICB9LAoKICAgICAgICAgICAgYnVpbGRNdWx0aVBhcnRGb3JtRGF0YSA9IGZ1bmN0aW9u
			IChib3VuZGFyeSwgZmlsZXMsIGZpbGVzRmllbGROYW1lLCBmaWVsZHMpIHsKICAgICAgICAgICAg
			ICAgIHZhciBkb3VibGVEYXNoID0gJy0tJywKICAgICAgICAgICAgICAgICAgICBjcmxmICAgICA9
			ICdcclxuJywKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9ICcnLAogICAgICAgICAgICAg
			ICAgICAgIGJ1ZmZlciA9IFtdOwogICAgICAgICAgICAgICAgJC5lYWNoKGZpZWxkcywgZnVuY3Rp
			b24gKGluZGV4LCBmaWVsZCkgewogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhICs9IGRvdWJs
			ZURhc2ggKyBib3VuZGFyeSArIGNybGYgKwogICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVu
			dC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSInICsKICAgICAgICAgICAgICAgICAgICAg
			ICAgdXRmOGVuY29kZShmaWVsZC5uYW1lKSArCiAgICAgICAgICAgICAgICAgICAgICAgICciJyAr
			IGNybGYgKyBjcmxmICsKICAgICAgICAgICAgICAgICAgICAgICAgdXRmOGVuY29kZShmaWVsZC52
			YWx1ZSkgKyBjcmxmOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkLmVhY2go
			ZmlsZXMsIGZ1bmN0aW9uIChpbmRleCwgZmlsZSkgewogICAgICAgICAgICAgICAgICAgIGZvcm1E
			YXRhICs9IGRvdWJsZURhc2ggKyBib3VuZGFyeSArIGNybGYgKwogICAgICAgICAgICAgICAgICAg
			ICAgICAnQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSInICsKICAgICAgICAg
			ICAgICAgICAgICAgICAgdXRmOGVuY29kZShmaWxlc0ZpZWxkTmFtZSkgKwogICAgICAgICAgICAg
			ICAgICAgICAgICAnIjsgZmlsZW5hbWU9IicgKyB1dGY4ZW5jb2RlKGZpbGUubmFtZSkgKyAnIicg
			KyBjcmxmICsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZTogJyArIHV0Zjhl
			bmNvZGUoZmlsZS50eXBlKSArIGNybGYgKyBjcmxmOwogICAgICAgICAgICAgICAgICAgIGJ1ZmZl
			ci5wdXNoKGZvcm1EYXRhKTsKICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaChmaWxlLnJl
			YWRlci5yZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWxlLnJlYWRlcjsKICAg
			ICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGNybGY7CiAgICAgICAgICAgICAgICB9KTsKICAg
			ICAgICAgICAgICAgIGZvcm1EYXRhICs9IGRvdWJsZURhc2ggKyBib3VuZGFyeSArIGRvdWJsZURh
			c2ggKyBjcmxmOwogICAgICAgICAgICAgICAgYnVmZmVyLnB1c2goZm9ybURhdGEpOwogICAgICAg
			ICAgICAgICAgcmV0dXJuIGJ1ZmZlci5qb2luKCcnKTsKICAgICAgICAgICAgfSwKICAgICAgICAg
			ICAgCiAgICAgICAgICAgIGZpbGVSZWFkZXJVcGxvYWQgPSBmdW5jdGlvbiAoZmlsZXMsIHhociwg
			c2V0dGluZ3MpIHsKICAgICAgICAgICAgICAgIHZhciBib3VuZGFyeSA9ICctLS0tTXVsdGlQYXJ0
			Rm9ybUJvdW5kYXJ5JyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCksCiAgICAgICAgICAgICAgICAg
			ICAgbG9hZGVyLAogICAgICAgICAgICAgICAgICAgIGk7CiAgICAgICAgICAgICAgICB4aHIuc2V0
			UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ211bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5k
			YXJ5PScgKyBib3VuZGFyeSk7CiAgICAgICAgICAgICAgICBsb2FkZXIgPSBuZXcgTXVsdGlMb2Fk
			ZXIoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHhoci5zZW5kQXNCaW5hcnkoYnVp
			bGRNdWx0aVBhcnRGb3JtRGF0YSgKICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRhcnksCiAg
			ICAgICAgICAgICAgICAgICAgICAgIGZpbGVzLAogICAgICAgICAgICAgICAgICAgICAgICBnZXRG
			aWVsZE5hbWUoc2V0dGluZ3MpLAogICAgICAgICAgICAgICAgICAgICAgICBnZXRGb3JtRGF0YShz
			ZXR0aW5ncykKICAgICAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgICAgIH0sIGZpbGVz
			Lmxlbmd0aCk7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBp
			ICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkRmlsZUNvbnRlbnQoZmlsZXNbaV0sIGxv
			YWRlci5jb21wbGV0ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAg
			ICAgICBnZXRCbG9iID0gZnVuY3Rpb24gKGZpbGUsIHNldHRpbmdzKSB7CiAgICAgICAgICAgICAg
			ICB2YXIgYmxvYiwKICAgICAgICAgICAgICAgICAgICB1YiA9IHNldHRpbmdzLnVwbG9hZGVkQnl0
			ZXMsCiAgICAgICAgICAgICAgICAgICAgbWNzID0gc2V0dGluZ3MubWF4Q2h1bmtTaXplOwogICAg
			ICAgICAgICAgICAgaWYgKGZpbGUgJiYgdHlwZW9mIGZpbGUuc2xpY2UgPT09IGZ1bmMgJiYgKHVi
			IHx8IChtY3MgJiYgbWNzIDwgZmlsZS5zaXplKSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXR0
			aW5ncy51cGxvYWRlZEJ5dGVzID0gdWIgPSB1YiB8fCAwOwogICAgICAgICAgICAgICAgICAgIGJs
			b2IgPSBmaWxlLnNsaWNlKHViLCBtY3MgfHwgZmlsZS5zaXplIC0gdWIpOwogICAgICAgICAgICAg
			ICAgICAgIHNldHRpbmdzLmNodW5rU2l6ZSA9IGJsb2Iuc2l6ZTsKICAgICAgICAgICAgICAgICAg
			ICByZXR1cm4gYmxvYjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBm
			aWxlOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgdXBsb2FkID0gZnVuY3Rpb24gKGV2ZW50
			LCBmaWxlcywgaW5kZXgsIHhociwgc2V0dGluZ3MsIG5leHRDaHVuaykgewogICAgICAgICAgICAg
			ICAgdmFyIHNlbmQ7CiAgICAgICAgICAgICAgICBzZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAg
			ICAgICAgICAgICAgIGlmICghbmV4dENodW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlm
			ICh0eXBlb2Ygc2V0dGluZ3Mub25TZW5kID09PSBmdW5jICYmCiAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgc2V0dGluZ3Mub25TZW5kKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgc2V0
			dGluZ3MpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVO
			ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFy
			IGJsb2IgPSBnZXRCbG9iKGZpbGVzW2luZGV4XSwgc2V0dGluZ3MpLAogICAgICAgICAgICAgICAg
			ICAgICAgICBmaWxlc1RvVXBsb2FkOwogICAgICAgICAgICAgICAgICAgIGluaXRVcGxvYWRFdmVu
			dEhhbmRsZXJzKGZpbGVzLCBpbmRleCwgeGhyLCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICAg
			ICAgaW5pdFVwbG9hZFJlcXVlc3QoZmlsZXMsIGluZGV4LCB4aHIsIHNldHRpbmdzKTsKICAgICAg
			ICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzLm11bHRpcGFydCkgewogICAgICAgICAgICAgICAg
			ICAgICAgICBpZiAoeGhyLnVwbG9hZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhy
			LnNlbmQoYmxvYik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg
			ICAgICAgICAgICAgICAgICAkLmVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgWEhSIGZp
			bGUgdXBsb2FkcycpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAg
			ICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNUb1VwbG9hZCA9ICh0eXBl
			b2YgaW5kZXggPT09ICdudW1iZXInKSA/IFtibG9iXSA6IGZpbGVzOwogICAgICAgICAgICAgICAg
			ICAgICAgICBpZiAodHlwZW9mIEZvcm1EYXRhICE9PSB1bmRlZikgewogICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgZm9ybURhdGFVcGxvYWQoZmlsZXNUb1VwbG9hZCwgeGhyLCBzZXR0aW5ncyk7
			CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEZpbGVSZWFkZXIgIT09
			IHVuZGVmICYmIHR5cGVvZiB4aHIuc2VuZEFzQmluYXJ5ID09PSBmdW5jKSB7CiAgICAgICAgICAg
			ICAgICAgICAgICAgICAgICBmaWxlUmVhZGVyVXBsb2FkKGZpbGVzVG9VcGxvYWQsIHhociwgc2V0
			dGluZ3MpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgJC5lcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IG11bHRpcGFydC9m
			b3JtLWRhdGEgWEhSIGZpbGUgdXBsb2FkcycpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAg
			ICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlm
			ICghbmV4dENodW5rKSB7CiAgICAgICAgICAgICAgICAgICAgbXVsdGlMb2FkZXIucHVzaChBcnJh
			eS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICAgICAgICAgICAg
			ICBpZiAoc2V0dGluZ3Muc2VxdWVudGlhbFVwbG9hZHMpIHsKICAgICAgICAgICAgICAgICAgICAg
			ICAgc2VxdWVuY2VIYW5kbGVyLnB1c2goc2VuZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJl
			dHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
			ICAgICBzZW5kKCk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBoYW5kbGVVcGxvYWQgPSBm
			dW5jdGlvbiAoZXZlbnQsIGZpbGVzLCBpbnB1dCwgZm9ybSwgaW5kZXgpIHsKICAgICAgICAgICAg
			ICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSwKICAgICAgICAgICAgICAgICAgICB1
			cGxvYWRTZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICB1
			cGxvYWRTZXR0aW5ncy5maWxlSW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICAgIHVwbG9hZFNl
			dHRpbmdzLnVwbG9hZEZvcm0gPSBmb3JtOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGxv
			YWRTZXR0aW5ncy5pbml0VXBsb2FkID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgdXBs
			b2FkU2V0dGluZ3MuaW5pdFVwbG9hZCgKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsCiAg
			ICAgICAgICAgICAgICAgICAgICAgIGZpbGVzLAogICAgICAgICAgICAgICAgICAgICAgICBpbmRl
			eCwKICAgICAgICAgICAgICAgICAgICAgICAgeGhyLAogICAgICAgICAgICAgICAgICAgICAgICB1
			cGxvYWRTZXR0aW5ncywKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgewogICAg
			ICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwg
			dXBsb2FkU2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg
			ICAgICAgKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdXBs
			b2FkKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgdXBsb2FkU2V0dGluZ3MpOwogICAgICAgICAg
			ICAgICAgfQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgaGFuZGxlTGVnYWN5R2xvYmFsUHJv
			Z3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQsIGZpbGVzLCBpbmRleCwgaWZyYW1lLCBzZXR0aW5ncykg
			ewogICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gMCwKICAgICAgICAgICAgICAgICAgICBwcm9n
			cmVzc0V2ZW50OwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gdW5kZWYpIHsK
			ICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZXMsIGZ1bmN0aW9uIChpbmRleCwgZmlsZSkg
			ewogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBmaWxlLnNpemUgPyBmaWxlLnNpemUg
			OiAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAg
			ICAgICAgICAgICAgICAgICB0b3RhbCA9IGZpbGVzW2luZGV4XS5zaXplID8gZmlsZXNbaW5kZXhd
			LnNpemUgOiAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJvZ3Jlc3NFdmVu
			dCA9IGNyZWF0ZVByb2dyZXNzRXZlbnQodHJ1ZSwgdG90YWwsIHRvdGFsKTsKICAgICAgICAgICAg
			ICAgIHNldHRpbmdzLnByb2dyZXNzTG9hZGVkID0gdG90YWw7CiAgICAgICAgICAgICAgICBoYW5k
			bGVHbG9iYWxQcm9ncmVzcyhwcm9ncmVzc0V2ZW50LCBmaWxlcywgaW5kZXgsIGlmcmFtZSwgc2V0
			dGluZ3MpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgbGVnYWN5VXBsb2FkRm9ybURhdGFJ
			bml0ID0gZnVuY3Rpb24gKGlucHV0LCBmb3JtLCBzZXR0aW5ncykgewogICAgICAgICAgICAgICAg
			dmFyIGZvcm1EYXRhID0gZ2V0Rm9ybURhdGEoc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgZm9y
			bS5maW5kKCc6aW5wdXQnKS5ub3QoJzpkaXNhYmxlZCcpCiAgICAgICAgICAgICAgICAgICAgLmF0
			dHIoJ2Rpc2FibGVkJywgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGlu
			Z3MubmFtZXNwYWNlICsgJ19kaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgJC5lYWNoKGZvcm1E
			YXRhLCBmdW5jdGlvbiAoaW5kZXgsIGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnPGlu
			cHV0IHR5cGU9ImhpZGRlbiIvPicpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCduYW1l
			JywgZmllbGQubmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgLnZhbChmaWVsZC52YWx1ZSkK
			ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKHNldHRpbmdzLm5hbWVzcGFjZSArICdf
			Zm9ybV9kYXRhJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKGZvcm0pOwogICAg
			ICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpbnB1dAogICAgICAgICAgICAgICAgICAg
			IC5hdHRyKCduYW1lJywgZ2V0RmllbGROYW1lKHNldHRpbmdzKSkKICAgICAgICAgICAgICAgICAg
			ICAuYXBwZW5kVG8oZm9ybSk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBsZWdhY3lVcGxv
			YWRGb3JtRGF0YVJlc2V0ID0gZnVuY3Rpb24gKGlucHV0LCBmb3JtLCBzZXR0aW5ncykgewogICAg
			ICAgICAgICAgICAgaW5wdXQuZGV0YWNoKCk7CiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJy4n
			ICsgc2V0dGluZ3MubmFtZXNwYWNlICsgJ19kaXNhYmxlZCcpCiAgICAgICAgICAgICAgICAgICAg
			LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykKICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3Mo
			c2V0dGluZ3MubmFtZXNwYWNlICsgJ19kaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgZm9ybS5m
			aW5kKCcuJyArIHNldHRpbmdzLm5hbWVzcGFjZSArICdfZm9ybV9kYXRhJykucmVtb3ZlKCk7CiAg
			ICAgICAgICAgIH0sCgogICAgICAgICAgICBsZWdhY3lVcGxvYWQgPSBmdW5jdGlvbiAoZXZlbnQs
			IGZpbGVzLCBpbnB1dCwgZm9ybSwgaWZyYW1lLCBzZXR0aW5ncywgaW5kZXgpIHsKICAgICAgICAg
			ICAgICAgIHZhciBzZW5kOwogICAgICAgICAgICAgICAgc2VuZCA9IGZ1bmN0aW9uICgpIHsKICAg
			ICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uU2VuZCA9PT0gZnVuYyAmJiBz
			ZXR0aW5ncy5vblNlbmQoZXZlbnQsIGZpbGVzLCBpbmRleCwgaWZyYW1lLCBzZXR0aW5ncykgPT09
			IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlTmV4dCgpOwogICAgICAg
			ICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg
			ICAgICAgICAgIHZhciBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB7CiAgICAgICAgICAgICAgICAgICAg
			ICAgICdhY3Rpb24nOiBmb3JtLmF0dHIoJ2FjdGlvbicpLAogICAgICAgICAgICAgICAgICAgICAg
			ICAnbWV0aG9kJzogZm9ybS5hdHRyKCdtZXRob2QnKSwKICAgICAgICAgICAgICAgICAgICAgICAg
			J3RhcmdldCc6IGZvcm0uYXR0cigndGFyZ2V0JyksCiAgICAgICAgICAgICAgICAgICAgICAgICdl
			bmN0eXBlJzogZm9ybS5hdHRyKCdlbmN0eXBlJykKICAgICAgICAgICAgICAgICAgICB9OwogICAg
			ICAgICAgICAgICAgICAgIGlmcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAudW5iaW5kKCdh
			Ym9ydCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKCdhYm9ydCcsIGZ1bmN0aW9uIChl
			KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUucmVhZHlTdGF0ZSA9IDA7CiAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqYXZhc2NyaXB0OmZhbHNlIGFzIGlmcmFtZSBz
			cmMgcHJldmVudHMgd2FybmluZyBwb3B1cHMgb24gSFRUUFMgaW4gSUU2CiAgICAgICAgICAgICAg
			ICAgICAgICAgICAgICAvLyBjb25jYXQgaXMgdXNlZCBoZXJlIHRvIHByZXZlbnQgdGhlICJTY3Jp
			cHQgVVJMIiBKU0xpbnQgZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUu
			dW5iaW5kKCdsb2FkJykuYXR0cignc3JjJywgJ2phdmFzY3JpcHQnLmNvbmNhdCgnOmZhbHNlOycp
			KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUxlZ2FjeUdsb2JhbFByb2dyZXNz
			KGUsIGZpbGVzLCBpbmRleCwgaWZyYW1lLCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uQWJvcnQgPT09IGZ1bmMpIHsKICAgICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkFib3J0KGUsIGZpbGVzLCBpbmRleCwg
			aWZyYW1lLCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg
			ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZU5leHQoKTsKICAgICAgICAgICAgICAgICAgICAg
			ICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLnVuYmluZCgnbG9hZCcpCiAgICAgICAgICAg
			ICAgICAgICAgICAgIC5iaW5kKCdsb2FkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgIGlmcmFtZS5yZWFkeVN0YXRlID0gNDsKICAgICAgICAgICAgICAgICAgICAg
			ICAgICAgIGhhbmRsZUxlZ2FjeUdsb2JhbFByb2dyZXNzKGUsIGZpbGVzLCBpbmRleCwgaWZyYW1l
			LCBzZXR0aW5ncyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRp
			bmdzLm9uTG9hZCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNl
			dHRpbmdzLm9uTG9hZChlLCBmaWxlcywgaW5kZXgsIGlmcmFtZSwgc2V0dGluZ3MpOwogICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4
			IGZvciBJRSBlbmRsZXNzIHByb2dyZXNzIGJhciBhY3Rpdml0eSBidWcKICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgIC8vIChoYXBwZW5zIG9uIGZvcm0gc3VibWl0cyB0byBpZnJhbWUgdGFyZ2V0
			cyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8aWZyYW1lIHNyYz0iamF2YXNjcmlw
			dDpmYWxzZTsiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48L2lmcmFtZT4nKQogICAgICAgICAgICAg
			ICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhmb3JtKS5yZW1vdmUoKTsKICAgICAgICAgICAg
			ICAgICAgICAgICAgICAgIGNvbXBsZXRlTmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9
			KTsKICAgICAgICAgICAgICAgICAgICBmb3JtCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRy
			KCdhY3Rpb24nLCBnZXRVcmwoc2V0dGluZ3MpKQogICAgICAgICAgICAgICAgICAgICAgICAuYXR0
			cignbWV0aG9kJywgZ2V0TWV0aG9kKHNldHRpbmdzKSkKICAgICAgICAgICAgICAgICAgICAgICAg
			LmF0dHIoJ3RhcmdldCcsIGlmcmFtZS5hdHRyKCduYW1lJykpCiAgICAgICAgICAgICAgICAgICAg
			ICAgIC5hdHRyKCdlbmN0eXBlJywgJ211bHRpcGFydC9mb3JtLWRhdGEnKTsKICAgICAgICAgICAg
			ICAgICAgICBsZWdhY3lVcGxvYWRGb3JtRGF0YUluaXQoaW5wdXQsIGZvcm0sIHNldHRpbmdzKTsK
			ICAgICAgICAgICAgICAgICAgICBpZnJhbWUucmVhZHlTdGF0ZSA9IDI7CiAgICAgICAgICAgICAg
			ICAgICAgZm9ybS5nZXQoMCkuc3VibWl0KCk7CiAgICAgICAgICAgICAgICAgICAgbGVnYWN5VXBs
			b2FkRm9ybURhdGFSZXNldChpbnB1dCwgZm9ybSwgc2V0dGluZ3MpOwogICAgICAgICAgICAgICAg
			ICAgICQuZWFjaChvcmlnaW5hbEF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewog
			ICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAg
			ICAgICAgIGZvcm0uYXR0cihuYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0g
			ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnJlbW92ZUF0dHIobmFtZSk7
			CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAg
			ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBtdWx0aUxvYWRlci5wdXNoKFtmaWxlcywgaW5k
			ZXgsIGlmcmFtZSwgc2V0dGluZ3NdKTsKICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zZXF1
			ZW50aWFsVXBsb2FkcykgewogICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlSGFuZGxlci5wdXNo
			KHNlbmQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZW5k
			KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBub3JtYWxp
			emVGaWxlID0gZnVuY3Rpb24gKGluZGV4LCBmaWxlKSB7CiAgICAgICAgICAgICAgICBpZiAodHlw
			ZW9mIGZpbGUubmFtZSA9PT0gdW5kZWYgJiYgdHlwZW9mIGZpbGUuc2l6ZSA9PT0gdW5kZWYpIHsK
			ICAgICAgICAgICAgICAgICAgICBmaWxlLm5hbWUgPSBmaWxlLmZpbGVOYW1lOwogICAgICAgICAg
			ICAgICAgICAgIGZpbGUuc2l6ZSA9IGZpbGUuZmlsZVNpemU7CiAgICAgICAgICAgICAgICB9CiAg
			ICAgICAgICAgIH0sCgogICAgICAgICAgICBoYW5kbGVMZWdhY3lVcGxvYWQgPSBmdW5jdGlvbiAo
			ZXZlbnQsIGlucHV0LCBmb3JtLCBpbmRleCkgewogICAgICAgICAgICAgICAgaWYgKCEoZXZlbnQg
			JiYgaW5wdXQgJiYgZm9ybSkpIHsKICAgICAgICAgICAgICAgICAgICAkLmVycm9yKCdJZnJhbWUg
			YmFzZWQgRmlsZSBVcGxvYWQgcmVxdWlyZXMgYSBmaWxlIGlucHV0IGNoYW5nZSBldmVudCcpOwog
			ICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
			ICAgIC8vIGphdmFzY3JpcHQ6ZmFsc2UgYXMgaWZyYW1lIHNyYyBwcmV2ZW50cyB3YXJuaW5nIHBv
			cHVwcyBvbiBIVFRQUyBpbiBJRTY6CiAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gJCgnPGlm
			cmFtZSBzcmM9ImphdmFzY3JpcHQ6ZmFsc2U7IiBzdHlsZT0iZGlzcGxheTpub25lOyIgbmFtZT0i
			aWZyYW1lXycgKwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm5hbWVzcGFjZSArICdfJyAr
			IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAnIj48L2lmcmFtZT4nKSwKICAgICAgICAgICAgICAg
			ICAgICB1cGxvYWRTZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBzZXR0aW5ncyksCiAgICAgICAgICAg
			ICAgICAgICAgZmlsZXMgPSBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmZpbGVzOwogICAg
			ICAgICAgICAgICAgZmlsZXMgPSBmaWxlcyA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZp
			bGVzLCAwKSA6IFt7bmFtZTogaW5wdXQudmFsKCksIHR5cGU6IG51bGwsIHNpemU6IG51bGx9XTsK
			ICAgICAgICAgICAgICAgICQuZWFjaChmaWxlcywgbm9ybWFsaXplRmlsZSk7CiAgICAgICAgICAg
			ICAgICBpbmRleCA9IGZpbGVzLmxlbmd0aCA9PT0gMSA/IDAgOiBpbmRleDsKICAgICAgICAgICAg
			ICAgIHVwbG9hZFNldHRpbmdzLmZpbGVJbnB1dCA9IGlucHV0OwogICAgICAgICAgICAgICAgdXBs
			b2FkU2V0dGluZ3MudXBsb2FkRm9ybSA9IGZvcm07CiAgICAgICAgICAgICAgICBpZnJhbWUucmVh
			ZHlTdGF0ZSA9IDA7CiAgICAgICAgICAgICAgICBpZnJhbWUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7
			CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnRyaWdnZXIoJ2Fib3J0Jyk7CiAgICAgICAgICAg
			ICAgICB9OwogICAgICAgICAgICAgICAgaWZyYW1lLmJpbmQoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7
			CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnVuYmluZCgnbG9hZCcpOwogICAgICAgICAgICAg
			ICAgICAgIGlmICh0eXBlb2YgdXBsb2FkU2V0dGluZ3MuaW5pdFVwbG9hZCA9PT0gZnVuYykgewog
			ICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRTZXR0aW5ncy5pbml0VXBsb2FkKAogICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgZXZlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBm
			aWxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LAogICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgaWZyYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkU2V0
			dGluZ3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5VXBsb2FkKGV2ZW50LCBmaWxlcywgaW5wdXQs
			IGZvcm0sIGlmcmFtZSwgdXBsb2FkU2V0dGluZ3MsIGluZGV4KTsKICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAg
			ICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZWdhY3lVcGxvYWQoZXZlbnQsIGZp
			bGVzLCBpbnB1dCwgZm9ybSwgaWZyYW1lLCB1cGxvYWRTZXR0aW5ncywgaW5kZXgpOwogICAgICAg
			ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKGZvcm0pOwogICAgICAg
			ICAgICB9LAoKICAgICAgICAgICAgY2FuSGFuZGxlWEhSVXBsb2FkU2l6ZSA9IGZ1bmN0aW9uIChm
			aWxlcykgewogICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gMCwKICAgICAgICAgICAgICAgICAg
			ICB0b3RhbEJ5dGVzID0gMCwKICAgICAgICAgICAgICAgICAgICBpOwogICAgICAgICAgICAgICAg
			aWYgKHNldHRpbmdzLm11bHRpcGFydCAmJiB0eXBlb2YgRm9ybURhdGEgPT09IHVuZGVmKSB7CiAg
			ICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSArPSAxKSB7
			CiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzID0gZmlsZXNbaV0uc2l6ZTsKICAgICAgICAg
			ICAgICAgICAgICAgICAgaWYgKGJ5dGVzID4gc2V0dGluZ3MubWF4RmlsZVJlYWRlclNpemUpIHsK
			ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAg
			ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzICs9IGJ5dGVzOwog
			ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MubXVs
			dGlGaWxlUmVxdWVzdCAmJiB0b3RhbEJ5dGVzID4gc2V0dGluZ3MubWF4RmlsZVJlYWRlclNpemUp
			IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAg
			ICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAg
			ICAgICAgICB9LAoKICAgICAgICAgICAgaGFuZGxlRmlsZXMgPSBmdW5jdGlvbiAoZXZlbnQsIGZp
			bGVzLCBpbnB1dCwgZm9ybSkgewogICAgICAgICAgICAgICAgaWYgKCFjYW5IYW5kbGVYSFJVcGxv
			YWRTaXplKGZpbGVzKSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZUxlZ2FjeVVwbG9hZChl
			dmVudCwgaW5wdXQsIGZvcm0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAg
			ICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICAgICAgZmlsZXMgPSBB
			cnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmaWxlcywgMCk7CiAgICAgICAgICAgICAgICAkLmVh
			Y2goZmlsZXMsIG5vcm1hbGl6ZUZpbGUpOwogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLm11
			bHRpRmlsZVJlcXVlc3QgJiYgc2V0dGluZ3MubXVsdGlwYXJ0ICYmIGZpbGVzLmxlbmd0aCkgewog
			ICAgICAgICAgICAgICAgICAgIGhhbmRsZVVwbG9hZChldmVudCwgZmlsZXMsIGlucHV0LCBmb3Jt
			KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0g
			MDsgaSA8IGZpbGVzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhh
			bmRsZVVwbG9hZChldmVudCwgZmlsZXMsIGlucHV0LCBmb3JtLCBpKTsKICAgICAgICAgICAgICAg
			ICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIAogICAg
			ICAgICAgICBpbml0VXBsb2FkRm9ybSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHVw
			bG9hZEZvcm0gPSAoY29udGFpbmVyLmlzKCdmb3JtJykgPyBjb250YWluZXIgOiBjb250YWluZXIu
			ZmluZCgnZm9ybScpKQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoc2V0dGluZ3MudXBsb2Fk
			Rm9ybUZpbHRlcik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICBpbml0
			RmlsZUlucHV0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlsZUlucHV0ID0gKHVw
			bG9hZEZvcm0ubGVuZ3RoID8gdXBsb2FkRm9ybSA6IGNvbnRhaW5lcikuZmluZCgnaW5wdXQ6Zmls
			ZScpCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihzZXR0aW5ncy5maWxlSW5wdXRGaWx0ZXIp
			OwogICAgICAgICAgICB9LAogICAgICAgICAgICAKICAgICAgICAgICAgcmVwbGFjZUZpbGVJbnB1
			dCA9IGZ1bmN0aW9uIChpbnB1dCkgewogICAgICAgICAgICAgICAgdmFyIGlucHV0Q2xvbmUgPSBp
			bnB1dC5jbG9uZSh0cnVlKTsKICAgICAgICAgICAgICAgICQoJzxmb3JtLz4nKS5hcHBlbmQoaW5w
			dXRDbG9uZSkuZ2V0KDApLnJlc2V0KCk7CiAgICAgICAgICAgICAgICBpbnB1dC5hZnRlcihpbnB1
			dENsb25lKS5kZXRhY2goKTsKICAgICAgICAgICAgICAgIGluaXRGaWxlSW5wdXQoKTsKICAgICAg
			ICAgICAgfTsKCiAgICAgICAgdGhpcy5vbkRvY3VtZW50RHJhZ092ZXIgPSBmdW5jdGlvbiAoZSkg
			ewogICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uRG9jdW1lbnREcmFnT3ZlciA9PT0g
			ZnVuYyAmJgogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRG9jdW1lbnREcmFnT3Zlcihl
			KSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAg
			fQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfTsKICAgICAgICAKICAg
			ICAgICB0aGlzLm9uRG9jdW1lbnREcm9wID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYg
			KHR5cGVvZiBzZXR0aW5ncy5vbkRvY3VtZW50RHJvcCA9PT0gZnVuYyAmJgogICAgICAgICAgICAg
			ICAgICAgIHNldHRpbmdzLm9uRG9jdW1lbnREcm9wKGUpID09PSBmYWxzZSkgewogICAgICAgICAg
			ICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGUucHJldmVudERl
			ZmF1bHQoKTsKICAgICAgICB9OwoKICAgICAgICB0aGlzLm9uRHJhZ092ZXIgPSBmdW5jdGlvbiAo
			ZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm9uRHJhZ092ZXIgPT09IGZ1bmMg
			JiYKICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkRyYWdPdmVyKGUpID09PSBmYWxzZSkg
			ewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAg
			IHZhciBkYXRhVHJhbnNmZXIgPSBlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyOwogICAgICAg
			ICAgICBpZiAoZGF0YVRyYW5zZmVyICYmIGRhdGFUcmFuc2Zlci5maWxlcykgewogICAgICAgICAg
			ICAgICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dl
			ZCA9ICdjb3B5JzsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAg
			ICAgfQogICAgICAgIH07CgogICAgICAgIHRoaXMub25Ecm9wID0gZnVuY3Rpb24gKGUpIHsKICAg
			ICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5vbkRyb3AgPT09IGZ1bmMgJiYKICAgICAgICAg
			ICAgICAgICAgICBzZXR0aW5ncy5vbkRyb3AoZSkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAg
			ICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2Zl
			ciA9IGUub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7CiAgICAgICAgICAgIGlmIChkYXRhVHJh
			bnNmZXIgJiYgZGF0YVRyYW5zZmVyLmZpbGVzICYmIGlzWEhSVXBsb2FkQ2FwYWJsZSgpKSB7CiAg
			ICAgICAgICAgICAgICBoYW5kbGVGaWxlcyhlLCBkYXRhVHJhbnNmZXIuZmlsZXMpOwogICAgICAg
			ICAgICB9CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9OwogICAgICAg
			IAogICAgICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAo
			dHlwZW9mIHNldHRpbmdzLm9uQ2hhbmdlID09PSBmdW5jICYmCiAgICAgICAgICAgICAgICAgICAg
			c2V0dGluZ3Mub25DaGFuZ2UoZSkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4g
			ZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGlucHV0ID0gJChlLnRhcmdldCks
			CiAgICAgICAgICAgICAgICBmb3JtID0gJChlLnRhcmdldC5mb3JtKTsKICAgICAgICAgICAgaWYg
			KGZvcm0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MucmVwbGFj
			ZUZpbGVJbnB1dCkgewogICAgICAgICAgICAgICAgICAgIGlucHV0LmRhdGEoZGVmYXVsdE5hbWVz
			cGFjZSArICdfZm9ybScsIGZvcm0pOwogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VGaWxlSW5w
			dXQoaW5wdXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAg
			ICAgICAgICAgZm9ybSA9IGlucHV0LmRhdGEoZGVmYXVsdE5hbWVzcGFjZSArICdfZm9ybScpOwog
			ICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc2V0dGluZ3MuZm9yY2VJZnJhbWVVcGxvYWQg
			JiYgZS50YXJnZXQuZmlsZXMgJiYgaXNYSFJVcGxvYWRDYXBhYmxlKCkpIHsKICAgICAgICAgICAg
			ICAgIGhhbmRsZUZpbGVzKGUsIGUudGFyZ2V0LmZpbGVzLCBpbnB1dCwgZm9ybSk7CiAgICAgICAg
			ICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBoYW5kbGVMZWdhY3lVcGxvYWQoZSwgaW5wdXQs
			IGZvcm0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVu
			Y3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHsKICAgICAgICAgICAg
			ICAgICQuZXh0ZW5kKHNldHRpbmdzLCBvcHRpb25zKTsKICAgICAgICAgICAgICAgIG9wdGlvbnNS
			ZWZlcmVuY2UgPSBvcHRpb25zOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGluaXRVcGxvYWRG
			b3JtKCk7CiAgICAgICAgICAgIGluaXRGaWxlSW5wdXQoKTsKICAgICAgICAgICAgaWYgKGNvbnRh
			aW5lci5kYXRhKHNldHRpbmdzLm5hbWVzcGFjZSkpIHsKICAgICAgICAgICAgICAgICQuZXJyb3Io
			J0ZpbGVVcGxvYWQgd2l0aCBuYW1lc3BhY2UgIicgKyBzZXR0aW5ncy5uYW1lc3BhY2UgKyAnIiBh
			bHJlYWR5IGFzc2lnbmVkIHRvIHRoaXMgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgcmV0dXJu
			OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnRhaW5lcgogICAgICAgICAgICAgICAgLmRh
			dGEoc2V0dGluZ3MubmFtZXNwYWNlLCBmaWxlVXBsb2FkKQogICAgICAgICAgICAgICAgLmFkZENs
			YXNzKHNldHRpbmdzLmNzc0NsYXNzKTsKICAgICAgICAgICAgc2V0dGluZ3MuZHJvcFpvbmUubm90
			KGNvbnRhaW5lcikuYWRkQ2xhc3Moc2V0dGluZ3MuY3NzQ2xhc3MpOwogICAgICAgICAgICBpbml0
			RXZlbnRIYW5kbGVycygpOwogICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLmluaXQgPT09
			IGZ1bmMpIHsKICAgICAgICAgICAgICAgIHNldHRpbmdzLmluaXQoKTsKICAgICAgICAgICAgfQog
			ICAgICAgIH07CgogICAgICAgIHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAg
			ICAgICAgICAgIHZhciBvbGRDc3NDbGFzcywKICAgICAgICAgICAgICAgIG9sZERyb3Bab25lLAog
			ICAgICAgICAgICAgICAgdXBsb2FkRm9ybUZpbHRlclVwZGF0ZSwKICAgICAgICAgICAgICAgIGZp
			bGVJbnB1dEZpbHRlclVwZGF0ZTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSB1
			bmRlZikgewogICAgICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBzZXR0aW5ncyk7CiAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG9wdGlvbnNSZWZlcmVuY2UpIHsKICAgICAgICAg
			ICAgICAgICQuZXh0ZW5kKG9wdGlvbnNSZWZlcmVuY2UsIG9wdGlvbnMpOwogICAgICAgICAgICB9
			CiAgICAgICAgICAgIHJlbW92ZUV2ZW50SGFuZGxlcnMoKTsKICAgICAgICAgICAgJC5lYWNoKG9w
			dGlvbnMsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChu
			YW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlICduYW1lc3BhY2UnOgogICAgICAgICAgICAgICAg
			ICAgICQuZXJyb3IoJ1RoZSBGaWxlVXBsb2FkIG5hbWVzcGFjZSBjYW5ub3QgYmUgdXBkYXRlZC4n
			KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICBjYXNlICd1cGxv
			YWRGb3JtRmlsdGVyJzoKICAgICAgICAgICAgICAgICAgICB1cGxvYWRGb3JtRmlsdGVyVXBkYXRl
			ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBmaWxlSW5wdXRGaWx0ZXJVcGRhdGUgPSB0cnVl
			OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnZmlsZUlu
			cHV0RmlsdGVyJzoKICAgICAgICAgICAgICAgICAgICBmaWxlSW5wdXRGaWx0ZXJVcGRhdGUgPSB0
			cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnY3Nz
			Q2xhc3MnOgogICAgICAgICAgICAgICAgICAgIG9sZENzc0NsYXNzID0gc2V0dGluZ3MuY3NzQ2xh
			c3M7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdkcm9w
			Wm9uZSc6CiAgICAgICAgICAgICAgICAgICAgb2xkRHJvcFpvbmUgPSBzZXR0aW5ncy5kcm9wWm9u
			ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAg
			ICAgICAgIHNldHRpbmdzW25hbWVdID0gdmFsdWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAg
			ICBpZiAodXBsb2FkRm9ybUZpbHRlclVwZGF0ZSkgewogICAgICAgICAgICAgICAgaW5pdFVwbG9h
			ZEZvcm0oKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZmlsZUlucHV0RmlsdGVyVXBk
			YXRlKSB7CiAgICAgICAgICAgICAgICBpbml0RmlsZUlucHV0KCk7CiAgICAgICAgICAgIH0KICAg
			ICAgICAgICAgaWYgKHR5cGVvZiBvbGRDc3NDbGFzcyAhPT0gdW5kZWYpIHsKICAgICAgICAgICAg
			ICAgIGNvbnRhaW5lcgogICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhvbGRDc3NDbGFz
			cykKICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MuY3NzQ2xhc3MpOwogICAg
			ICAgICAgICAgICAgKG9sZERyb3Bab25lID8gb2xkRHJvcFpvbmUgOiBzZXR0aW5ncy5kcm9wWm9u
			ZSkubm90KGNvbnRhaW5lcikKICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3Mob2xkQ3Nz
			Q2xhc3MpOwogICAgICAgICAgICAgICAgc2V0dGluZ3MuZHJvcFpvbmUubm90KGNvbnRhaW5lciku
			YWRkQ2xhc3Moc2V0dGluZ3MuY3NzQ2xhc3MpOwogICAgICAgICAgICB9IGVsc2UgaWYgKG9sZERy
			b3Bab25lKSB7CiAgICAgICAgICAgICAgICBvbGREcm9wWm9uZS5ub3QoY29udGFpbmVyKS5yZW1v
			dmVDbGFzcyhzZXR0aW5ncy5jc3NDbGFzcyk7CiAgICAgICAgICAgICAgICBzZXR0aW5ncy5kcm9w
			Wm9uZS5ub3QoY29udGFpbmVyKS5hZGRDbGFzcyhzZXR0aW5ncy5jc3NDbGFzcyk7CiAgICAgICAg
			ICAgIH0KICAgICAgICAgICAgaW5pdEV2ZW50SGFuZGxlcnMoKTsKICAgICAgICB9OwogICAgICAg
			IAogICAgICAgIHRoaXMub3B0aW9uID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAg
			ICAgIHZhciBvcHRpb25zOwogICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSB1bmRlZikg
			ewogICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzW25hbWVdOwogICAgICAgICAgICB9CiAg
			ICAgICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgICAgICAgb3B0aW9uc1tuYW1lXSA9IHZhbHVl
			OwogICAgICAgICAgICBmaWxlVXBsb2FkLm9wdGlvbnMob3B0aW9ucyk7CiAgICAgICAgfTsKICAg
			ICAgICAKICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlm
			ICh0eXBlb2Ygc2V0dGluZ3MuZGVzdHJveSA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgc2V0
			dGluZ3MuZGVzdHJveSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlbW92ZUV2ZW50SGFu
			ZGxlcnMoKTsKICAgICAgICAgICAgY29udGFpbmVyCiAgICAgICAgICAgICAgICAucmVtb3ZlRGF0
			YShzZXR0aW5ncy5uYW1lc3BhY2UpCiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3Moc2V0dGlu
			Z3MuY3NzQ2xhc3MpOwogICAgICAgICAgICBzZXR0aW5ncy5kcm9wWm9uZS5ub3QoY29udGFpbmVy
			KS5yZW1vdmVDbGFzcyhzZXR0aW5ncy5jc3NDbGFzcyk7CiAgICAgICAgfTsKICAgICAgICAKICAg
			ICAgICB0aGlzLnVwbG9hZCA9IGZ1bmN0aW9uIChmaWxlcykgewogICAgICAgICAgICBpZiAodHlw
			ZW9mIGZpbGVzLmxlbmd0aCA9PT0gdW5kZWYpIHsKICAgICAgICAgICAgICAgIGZpbGVzID0gW2Zp
			bGVzXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBoYW5kbGVGaWxlcyhudWxsLCBmaWxlcyk7
			CiAgICAgICAgfTsKICAgIH07CgogICAgbWV0aG9kcyA9IHsKICAgICAgICBpbml0IDogZnVuY3Rp
			b24gKG9wdGlvbnMpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7
			CiAgICAgICAgICAgICAgICAobmV3IEZpbGVVcGxvYWQoJCh0aGlzKSkpLmluaXQob3B0aW9ucyk7
			CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgb3B0aW9uOiBmdW5j
			dGlvbiAob3B0aW9uLCB2YWx1ZSwgbmFtZXNwYWNlKSB7CiAgICAgICAgICAgIG5hbWVzcGFjZSA9
			IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSA6IGRlZmF1bHROYW1lc3BhY2U7CiAgICAgICAgICAgIHZh
			ciBmaWxlVXBsb2FkID0gJCh0aGlzKS5kYXRhKG5hbWVzcGFjZSk7CiAgICAgICAgICAgIGlmIChm
			aWxlVXBsb2FkKSB7CiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbikgewogICAgICAgICAgICAg
			ICAgICAgIHJldHVybiBmaWxlVXBsb2FkLm9wdGlvbnMoKTsKICAgICAgICAgICAgICAgIH0gZWxz
			ZSBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlID09PSB1bmRl
			ZikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlVXBsb2FkLm9wdGlvbihvcHRpb24p
			OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAg
			JC5lcnJvcignTm8gRmlsZVVwbG9hZCB3aXRoIG5hbWVzcGFjZSAiJyArIG5hbWVzcGFjZSArICci
			IGFzc2lnbmVkIHRvIHRoaXMgZWxlbWVudCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJl
			dHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGZ1ID0gJCh0
			aGlzKS5kYXRhKG5hbWVzcGFjZSk7CiAgICAgICAgICAgICAgICBpZiAoZnUpIHsKICAgICAgICAg
			ICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAg
			ICAgICAgICAgICAgZnUub3B0aW9uKG9wdGlvbiwgdmFsdWUpOwogICAgICAgICAgICAgICAgICAg
			IH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1Lm9wdGlvbnMob3B0aW9uKTsKICAg
			ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAg
			ICAgICAgICQuZXJyb3IoJ05vIEZpbGVVcGxvYWQgd2l0aCBuYW1lc3BhY2UgIicgKyBuYW1lc3Bh
			Y2UgKyAnIiBhc3NpZ25lZCB0byB0aGlzIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgIH0KICAg
			ICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAgICAgICAgIAogICAgICAgIGRlc3Ryb3k6
			IGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsKICAgICAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNl
			ID8gbmFtZXNwYWNlIDogZGVmYXVsdE5hbWVzcGFjZTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMu
			ZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZCA9ICQodGhp
			cykuZGF0YShuYW1lc3BhY2UpOwogICAgICAgICAgICAgICAgaWYgKGZpbGVVcGxvYWQpIHsKICAg
			ICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgIH0g
			ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJC5lcnJvcignTm8gRmlsZVVwbG9hZCB3aXRoIG5h
			bWVzcGFjZSAiJyArIG5hbWVzcGFjZSArICciIGFzc2lnbmVkIHRvIHRoaXMgZWxlbWVudCcpOwog
			ICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIAogICAg
			ICAgIHVwbG9hZDogZnVuY3Rpb24gKGZpbGVzLCBuYW1lc3BhY2UpIHsKICAgICAgICAgICAgbmFt
			ZXNwYWNlID0gbmFtZXNwYWNlID8gbmFtZXNwYWNlIDogZGVmYXVsdE5hbWVzcGFjZTsKICAgICAg
			ICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIg
			ZmlsZVVwbG9hZCA9ICQodGhpcykuZGF0YShuYW1lc3BhY2UpOwogICAgICAgICAgICAgICAgaWYg
			KGZpbGVVcGxvYWQpIHsKICAgICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkLnVwbG9hZChmaWxl
			cyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICQuZXJyb3Io
			J05vIEZpbGVVcGxvYWQgd2l0aCBuYW1lc3BhY2UgIicgKyBuYW1lc3BhY2UgKyAnIiBhc3NpZ25l
			ZCB0byB0aGlzIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAg
			ICAgICAgfQogICAgfTsKICAgIAogICAgJC5mbi5maWxlVXBsb2FkID0gZnVuY3Rpb24gKG1ldGhv
			ZCkgewogICAgICAgIGlmIChtZXRob2RzW21ldGhvZF0pIHsKICAgICAgICAgICAgcmV0dXJuIG1l
			dGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1
			bWVudHMsIDEpKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3Qn
			IHx8ICFtZXRob2QpIHsKICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlz
			LCBhcmd1bWVudHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQuZXJyb3IoJ01ldGhv
			ZCAiJyArIG1ldGhvZCArICciIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5maWxlVXBsb2FkJyk7
			CiAgICAgICAgfQogICAgfTsKICAgIAp9KGpRdWVyeSkpOwoKCi8qCiAqIGpRdWVyeSBGaWxlIFVw
			bG9hZCBVc2VyIEludGVyZmFjZSBQbHVnaW4gNC40LjEKICogaHR0cHM6Ly9naXRodWIuY29tL2Js
			dWVpbXAvalF1ZXJ5LUZpbGUtVXBsb2FkCiAqCiAqIENvcHlyaWdodCAyMDEwLCBTZWJhc3RpYW4g
			VHNjaGFuCiAqIGh0dHBzOi8vYmx1ZWltcC5uZXQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIE1J
			VCBsaWNlbnNlOgogKiBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9NSVQvCiAq
			LwoKLypqc2xpbnQgYnJvd3NlcjogdHJ1ZSwgdW5wYXJhbTogdHJ1ZSAqLwovKmdsb2JhbCBqUXVl
			cnksIEZpbGVSZWFkZXIsIFVSTCwgd2Via2l0VVJMICovCgooZnVuY3Rpb24gKCQpIHsKICAgICd1
			c2Ugc3RyaWN0JzsKCiAgICB2YXIgdW5kZWYgPSAndW5kZWZpbmVkJywKICAgICAgICBmdW5jID0g
			J2Z1bmN0aW9uJywKICAgICAgICBVcGxvYWRIYW5kbGVyLAogICAgICAgIG1ldGhvZHMsCgogICAg
			ICAgIE11bHRpTG9hZGVyID0gZnVuY3Rpb24gKGNhbGxCYWNrKSB7CiAgICAgICAgICAgIHZhciBs
			b2FkZWQgPSAwLAogICAgICAgICAgICAgICAgbGlzdCA9IFtdOwogICAgICAgICAgICB0aGlzLmNv
			bXBsZXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbG9hZGVkICs9IDE7CiAgICAg
			ICAgICAgICAgICBpZiAobG9hZGVkID09PSBsaXN0Lmxlbmd0aCArIDEpIHsKICAgICAgICAgICAg
			ICAgICAgICAvLyBsaXN0Lmxlbmd0aCAqIG9uQ29tcGxldGUgKyAxICogb25Mb2FkQWxsCiAgICAg
			ICAgICAgICAgICAgICAgY2FsbEJhY2sobGlzdCk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGVk
			ID0gMDsKICAgICAgICAgICAgICAgICAgICBsaXN0ID0gW107CiAgICAgICAgICAgICAgICB9CiAg
			ICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChpdGVtKSB7CiAg
			ICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAg
			IHRoaXMuZ2V0TGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBsaXN0
			OwogICAgICAgICAgICB9OwogICAgICAgIH07CiAgICAgICAgCiAgICBVcGxvYWRIYW5kbGVyID0g
			ZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykgewogICAgICAgIHZhciB1cGxvYWRIYW5kbGVy
			ID0gdGhpcywKICAgICAgICAgICAgZHJhZ092ZXJUaW1lb3V0LAogICAgICAgICAgICBpc0Ryb3Ba
			b25lRW5sYXJnZWQsCiAgICAgICAgICAgIG11bHRpTG9hZGVyID0gbmV3IE11bHRpTG9hZGVyKGZ1
			bmN0aW9uIChsaXN0KSB7CiAgICAgICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmhpZGVQcm9ncmVz
			c0JhckFsbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5y
			ZXNldFByb2dyZXNzQmFyQWxsKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGxv
			YWRIYW5kbGVyLm9uQ29tcGxldGVBbGwgPT09IGZ1bmMpIHsKICAgICAgICAgICAgICAgICAgICAg
			ICAgdXBsb2FkSGFuZGxlci5vbkNvbXBsZXRlQWxsKGxpc3QpOwogICAgICAgICAgICAgICAgICAg
			IH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgZ2V0VXBs
			b2FkVGFibGUgPSBmdW5jdGlvbiAoaGFuZGxlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIHR5
			cGVvZiBoYW5kbGVyLnVwbG9hZFRhYmxlID09PSBmdW5jID8KICAgICAgICAgICAgICAgICAgICBo
			YW5kbGVyLnVwbG9hZFRhYmxlKGhhbmRsZXIpIDogaGFuZGxlci51cGxvYWRUYWJsZTsKICAgICAg
			ICAgICAgfSwKICAgICAgICAgICAgZ2V0RG93bmxvYWRUYWJsZSA9IGZ1bmN0aW9uIChoYW5kbGVy
			KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGhhbmRsZXIuZG93bmxvYWRUYWJsZSA9
			PT0gZnVuYyA/CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5kb3dubG9hZFRhYmxlKGhhbmRs
			ZXIpIDogaGFuZGxlci5kb3dubG9hZFRhYmxlOwogICAgICAgICAgICB9OwogICAgICAgIAogICAg
			ICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSB7J0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0
			ZXh0L2phdmFzY3JpcHQsICovKjsgcT0wLjAxJ307CiAgICAgICAgdGhpcy5kcm9wWm9uZSA9IGNv
			bnRhaW5lcjsKICAgICAgICB0aGlzLmltYWdlVHlwZXMgPSAvXmltYWdlXC8oZ2lmfGpwZWd8cG5n
			KSQvOwogICAgICAgIHRoaXMucHJldmlld01heFdpZHRoID0gdGhpcy5wcmV2aWV3TWF4SGVpZ2h0
			ID0gODA7CiAgICAgICAgdGhpcy5wcmV2aWV3TG9hZERlbGF5ID0gMTAwOwogICAgICAgIHRoaXMu
			cHJldmlld0FzQ2FudmFzID0gdHJ1ZTsKICAgICAgICB0aGlzLnByZXZpZXdTZWxlY3RvciA9ICcu
			ZmlsZV91cGxvYWRfcHJldmlldyc7CiAgICAgICAgdGhpcy5wcm9ncmVzc1NlbGVjdG9yID0gJy5m
			aWxlX3VwbG9hZF9wcm9ncmVzcyBkaXYnOwogICAgICAgIHRoaXMuY2FuY2VsU2VsZWN0b3IgPSAn
			LmZpbGVfdXBsb2FkX2NhbmNlbCBidXR0b24nOwogICAgICAgIHRoaXMuY3NzQ2xhc3NTbWFsbCA9
			ICdmaWxlX3VwbG9hZF9zbWFsbCc7CiAgICAgICAgdGhpcy5jc3NDbGFzc0xhcmdlID0gJ2ZpbGVf
			dXBsb2FkX2xhcmdlJzsKICAgICAgICB0aGlzLmNzc0NsYXNzSGlnaGxpZ2h0ID0gJ2ZpbGVfdXBs
			b2FkX2hpZ2hsaWdodCc7CiAgICAgICAgdGhpcy5kcm9wRWZmZWN0ID0gJ2hpZ2hsaWdodCc7CiAg
			ICAgICAgdGhpcy51cGxvYWRUYWJsZSA9IHRoaXMuZG93bmxvYWRUYWJsZSA9IG51bGw7CiAgICAg
			ICAgdGhpcy5idWlsZFVwbG9hZFJvdyA9IHRoaXMuYnVpbGREb3dubG9hZFJvdyA9IG51bGw7CiAg
			ICAgICAgdGhpcy5wcm9ncmVzc0FsbE5vZGUgPSBudWxsOwoKICAgICAgICB0aGlzLmxvYWRJbWFn
			ZSA9IGZ1bmN0aW9uIChmaWxlLCBjYWxsQmFjaywgbWF4V2lkdGgsIG1heEhlaWdodCwgaW1hZ2VU
			eXBlcywgbm9DYW52YXMpIHsKICAgICAgICAgICAgdmFyIGltZywKICAgICAgICAgICAgICAgIHNj
			YWxlSW1hZ2UsCiAgICAgICAgICAgICAgICB1cmxBUEksCiAgICAgICAgICAgICAgICBmaWxlUmVh
			ZGVyOwogICAgICAgICAgICBpZiAoaW1hZ2VUeXBlcyAmJiAhaW1hZ2VUeXBlcy50ZXN0KGZpbGUu
			dHlwZSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAg
			ICAgICAgIHNjYWxlSW1hZ2UgPSBmdW5jdGlvbiAoaW1nKSB7CiAgICAgICAgICAgICAgICB2YXIg
			Y2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksCiAgICAgICAgICAgICAg
			ICAgICAgc2NhbGUgPSBNYXRoLm1pbigKICAgICAgICAgICAgICAgICAgICAgICAgKG1heFdpZHRo
			IHx8IGltZy53aWR0aCkgLyBpbWcud2lkdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIChtYXhI
			ZWlnaHQgfHwgaW1nLmhlaWdodCkgLyBpbWcuaGVpZ2h0CiAgICAgICAgICAgICAgICAgICAgKTsK
			ICAgICAgICAgICAgICAgIGlmIChzY2FsZSA+IDEpIHsKICAgICAgICAgICAgICAgICAgICBzY2Fs
			ZSA9IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbWcud2lkdGggPSBwYXJz
			ZUludChpbWcud2lkdGggKiBzY2FsZSwgMTApOwogICAgICAgICAgICAgICAgaW1nLmhlaWdodCA9
			IHBhcnNlSW50KGltZy5oZWlnaHQgKiBzY2FsZSwgMTApOwogICAgICAgICAgICAgICAgaWYgKG5v
			Q2FudmFzIHx8IHR5cGVvZiBjYW52YXMuZ2V0Q29udGV4dCAhPT0gZnVuYykgewogICAgICAgICAg
			ICAgICAgICAgIHJldHVybiBpbWc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBj
			YW52YXMud2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0g
			aW1nLmhlaWdodDsKICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJ
			bWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7CiAgICAgICAgICAgICAgICBy
			ZXR1cm4gY2FudmFzOwogICAgICAgICAgICB9OwogICAgICAgICAgICBpbWcgPSBkb2N1bWVudC5j
			cmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgICAgICAgdXJsQVBJID0gdHlwZW9mIFVSTCAhPT0g
			dW5kZWYgPyBVUkwgOiB0eXBlb2Ygd2Via2l0VVJMICE9PSB1bmRlZiA/IHdlYmtpdFVSTCA6IG51
			bGw7CiAgICAgICAgICAgIGlmICh1cmxBUEkgJiYgdHlwZW9mIHVybEFQSS5jcmVhdGVPYmplY3RV
			UkwgPT09IGZ1bmMpIHsKICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7
			CiAgICAgICAgICAgICAgICAgICAgdXJsQVBJLnJldm9rZU9iamVjdFVSTCh0aGlzLnNyYyk7CiAg
			ICAgICAgICAgICAgICAgICAgY2FsbEJhY2soc2NhbGVJbWFnZShpbWcpKTsKICAgICAgICAgICAg
			ICAgIH07CiAgICAgICAgICAgICAgICBpbWcuc3JjID0gdXJsQVBJLmNyZWF0ZU9iamVjdFVSTChm
			aWxlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgRmlsZVJlYWRlciAhPT0gdW5kZWYg
			JiYKICAgICAgICAgICAgICAgICAgICB0eXBlb2YgRmlsZVJlYWRlci5wcm90b3R5cGUucmVhZEFz
			RGF0YVVSTCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9u
			ICgpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhzY2FsZUltYWdlKGltZykpOwogICAg
			ICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRl
			cigpOwogICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewog
			ICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAg
			ICAgICB9OwogICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwog
			ICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbEJhY2sobnVsbCk7CiAgICAg
			ICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB0aGlzLmFkZE5vZGUgPSBmdW5jdGlvbiAocGFy
			ZW50Tm9kZSwgbm9kZSwgY2FsbEJhY2spIHsKICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYg
			cGFyZW50Tm9kZS5sZW5ndGggJiYgbm9kZSAmJiBub2RlLmxlbmd0aCkgewogICAgICAgICAgICAg
			ICAgbm9kZS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpLmFwcGVuZFRvKHBhcmVudE5vZGUpLmZhZGVJ
			bihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9
			PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgY2FsbEJhY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAo
			ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IGVuZGxlc3MgZXhjZXB0aW9u
			IGxvb3A6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0b3AoKTsKICAgICAgICAg
			ICAgICAgICAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAg
			ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNl
			IGlmICh0eXBlb2YgY2FsbEJhY2sgPT09IGZ1bmMpIHsKICAgICAgICAgICAgICAgIGNhbGxCYWNr
			KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB0aGlzLnJlbW92ZU5vZGUgPSBm
			dW5jdGlvbiAobm9kZSwgY2FsbEJhY2spIHsKICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5s
			ZW5ndGgpIHsKICAgICAgICAgICAgICAgIG5vZGUuZmFkZU91dChmdW5jdGlvbiAoKSB7CiAgICAg
			ICAgICAgICAgICAgICAgbm9kZS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAodHlw
			ZW9mIGNhbGxCYWNrID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjaygpOwogICAgICAgICAgICAgICAgICAg
			ICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXggZW5k
			bGVzcyBleGNlcHRpb24gbG9vcDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3Rv
			cCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICAgICAgICAg
			ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAg
			ICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gZnVuYykgewogICAgICAgICAg
			ICAgICAgY2FsbEJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgCiAgICAg
			ICAgdGhpcy5yZXBsYWNlTm9kZSA9IGZ1bmN0aW9uIChvbGROb2RlLCBuZXdOb2RlLCBjYWxsQmFj
			aykgewogICAgICAgICAgICBpZiAoIShuZXdOb2RlICYmIG5ld05vZGUubGVuZ3RoKSkgewogICAg
			ICAgICAgICAgICAgcmV0dXJuIHVwbG9hZEhhbmRsZXIucmVtb3ZlTm9kZShvbGROb2RlLCBjYWxs
			QmFjayk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG9sZE5vZGUgJiYgb2xkTm9kZS5s
			ZW5ndGgpIHsKICAgICAgICAgICAgICAgIG9sZE5vZGUuZmFkZU91dChmdW5jdGlvbiAoKSB7CiAg
			ICAgICAgICAgICAgICAgICAgbmV3Tm9kZS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAg
			ICAgICAgICAgICAgIG9sZE5vZGUucmVwbGFjZVdpdGgobmV3Tm9kZSk7CiAgICAgICAgICAgICAg
			ICAgICAgbmV3Tm9kZS5mYWRlSW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAg
			ICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgICAg
			ICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKCk7CiAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgICAgLy8gRml4IGVuZGxlc3MgZXhjZXB0aW9uIGxvb3A6CiAgICAgICAgICAg
			ICAgICAgICAgICAgICAgICAgICAgb2xkTm9kZS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgbmV3Tm9kZS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
			ICAgdGhyb3cgZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg
			ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAg
			ICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxCYWNrID09PSBmdW5jKSB7CiAgICAgICAg
			ICAgICAgICBjYWxsQmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGhp
			cy5yZXNldFByb2dyZXNzQmFyQWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAodXBs
			b2FkSGFuZGxlci5wcm9ncmVzc2JhckFsbCkgewogICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxl
			ci5wcm9ncmVzc2JhckFsbC5wcm9ncmVzc2JhcigKICAgICAgICAgICAgICAgICAgICAndmFsdWUn
			LAogICAgICAgICAgICAgICAgICAgIDAKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0K
			ICAgICAgICB9OwoKICAgICAgICB0aGlzLmhpZGVQcm9ncmVzc0JhckFsbCA9IGZ1bmN0aW9uIChj
			YWxsQmFjaykgewogICAgICAgICAgICBpZiAodXBsb2FkSGFuZGxlci5wcm9ncmVzc2JhckFsbCAm
			JiAhJChnZXRVcGxvYWRUYWJsZSh1cGxvYWRIYW5kbGVyKSkKICAgICAgICAgICAgICAgICAgICAu
			ZmluZCh1cGxvYWRIYW5kbGVyLnByb2dyZXNzU2VsZWN0b3IgKyAnOnZpc2libGU6Zmlyc3QnKS5s
			ZW5ndGgpIHsKICAgICAgICAgICAgICAgIHVwbG9hZEhhbmRsZXIucHJvZ3Jlc3NiYXJBbGwuZmFk
			ZU91dChjYWxsQmFjayk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxCYWNrID09
			PSBmdW5jKSB7CiAgICAgICAgICAgICAgICBjYWxsQmFjaygpOwogICAgICAgICAgICB9CiAgICAg
			ICAgfTsKCiAgICAgICAgdGhpcy5vbkFib3J0ID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5k
			ZXgsIHhociwgaGFuZGxlcikgewogICAgICAgICAgICBoYW5kbGVyLnJlbW92ZU5vZGUoaGFuZGxl
			ci51cGxvYWRSb3csIGhhbmRsZXIuaGlkZVByb2dyZXNzQmFyQWxsKTsKICAgICAgICB9OwogICAg
			ICAgIAogICAgICAgIHRoaXMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywg
			aW5kZXgsIHhociwgaGFuZGxlcikgewogICAgICAgICAgICB2YXIgcmVhZHlTdGF0ZSA9IHhoci5y
			ZWFkeVN0YXRlOwogICAgICAgICAgICB4aHIuYWJvcnQoKTsKICAgICAgICAgICAgLy8gSWYgcmVh
			ZHlTdGF0ZSBpcyBiZWxvdyAyLCBhYm9ydCgpIGhhcyBubyBlZmZlY3Q6CiAgICAgICAgICAgIGlm
			ICh0eXBlb2YgcmVhZHlTdGF0ZSAhPT0gJ251bWJlcicgfHwgcmVhZHlTdGF0ZSA8IDIpIHsKICAg
			ICAgICAgICAgICAgIGhhbmRsZXIub25BYm9ydChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhh
			bmRsZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlzLmlu
			aXRQcm9ncmVzc0JhciA9IGZ1bmN0aW9uIChub2RlLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAo
			IW5vZGUgfHwgIW5vZGUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAg
			ICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUucHJvZ3Jlc3NiYXIgPT09IGZ1
			bmMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnByb2dyZXNzYmFyKHsKICAgICAgICAg
			ICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9
			IGVsc2UgewogICAgICAgICAgICAgICAgbm9kZS5hZGRDbGFzcygncHJvZ3Jlc3NiYXInKQogICAg
			ICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdi8+JykuY3NzKCd3aWR0aCcsIHZhbHVlICsg
			JyUnKSkKICAgICAgICAgICAgICAgICAgICAucHJvZ3Jlc3NiYXIgPSBmdW5jdGlvbiAoa2V5LCB2
			YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9u
			ICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdkZXN0cm95Jykg
			ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3By
			b2dyZXNzYmFyJykuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7
			CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmNzcygn
			d2lkdGgnLCB2YWx1ZSArICclJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAg
			ICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAg
			ICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgCiAgICAg
			ICAgdGhpcy5kZXN0cm95UHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAg
			ICBpZiAoIW5vZGUgfHwgIW5vZGUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVs
			bDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbm9kZS5wcm9ncmVzc2JhcignZGVz
			dHJveScpOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5pbml0VXBsb2FkUHJvZ3Jl
			c3MgPSBmdW5jdGlvbiAoeGhyLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIGlmICgheGhyLnVwbG9h
			ZCAmJiBoYW5kbGVyLnByb2dyZXNzYmFyKSB7CiAgICAgICAgICAgICAgICBoYW5kbGVyLnByb2dy
			ZXNzYmFyLnByb2dyZXNzYmFyKAogICAgICAgICAgICAgICAgICAgICd2YWx1ZScsCiAgICAgICAg
			ICAgICAgICAgICAgMTAwIC8vIGluZGV0ZXJtaW5hdGUgcHJvZ3Jlc3MgZGlzcGxheWVkIGJ5IGEg
			ZnVsbCBhbmltYXRlZCBwcm9ncmVzcyBiYXIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAg
			IH0KICAgICAgICB9OwoKICAgICAgICB0aGlzLmluaXRVcGxvYWRQcm9ncmVzc0FsbCA9IGZ1bmN0
			aW9uICgpIHsKICAgICAgICAgICAgaWYgKHVwbG9hZEhhbmRsZXIucHJvZ3Jlc3NiYXJBbGwgJiYg
			dXBsb2FkSGFuZGxlci5wcm9ncmVzc2JhckFsbC5pcygnOmhpZGRlbicpKSB7CiAgICAgICAgICAg
			ICAgICB1cGxvYWRIYW5kbGVyLnByb2dyZXNzYmFyQWxsLmZhZGVJbigpOwogICAgICAgICAgICB9
			CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5vblNlbmQgPSBmdW5jdGlvbiAoZXZlbnQsIGZpbGVz
			LCBpbmRleCwgeGhyLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIGhhbmRsZXIuaW5pdFVwbG9hZFBy
			b2dyZXNzKHhociwgaGFuZGxlcik7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5vblByb2dyZXNz
			ID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlcikgewogICAgICAg
			ICAgICBpZiAoaGFuZGxlci5wcm9ncmVzc2JhciAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7
			CiAgICAgICAgICAgICAgICBoYW5kbGVyLnByb2dyZXNzYmFyLnByb2dyZXNzYmFyKAogICAgICAg
			ICAgICAgICAgICAgICd2YWx1ZScsCiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoZXZlbnQu
			bG9hZGVkIC8gZXZlbnQudG90YWwgKiAxMDAsIDEwKQogICAgICAgICAgICAgICAgKTsKICAgICAg
			ICAgICAgfQogICAgICAgIH07CgogICAgICAgIHRoaXMub25Qcm9ncmVzc0FsbCA9IGZ1bmN0aW9u
			IChldmVudCwgbGlzdCkgewogICAgICAgICAgICBpZiAodXBsb2FkSGFuZGxlci5wcm9ncmVzc2Jh
			ckFsbCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAgICAgICAgICAgICB1cGxvYWRI
			YW5kbGVyLnByb2dyZXNzYmFyQWxsLnByb2dyZXNzYmFyKAogICAgICAgICAgICAgICAgICAgICd2
			YWx1ZScsCiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoZXZlbnQubG9hZGVkIC8gZXZlbnQu
			dG90YWwgKiAxMDAsIDEwKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAg
			IH07CgogICAgICAgIHRoaXMub25Mb2FkQWxsID0gZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgICAg
			ICAgbXVsdGlMb2FkZXIuY29tcGxldGUoKTsKICAgICAgICB9OwoKICAgICAgICB0aGlzLmluaXRQ
			cm9ncmVzc0JhckFsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCF1cGxvYWRIYW5k
			bGVyLnByb2dyZXNzYmFyQWxsKSB7CiAgICAgICAgICAgICAgICB1cGxvYWRIYW5kbGVyLnByb2dy
			ZXNzYmFyQWxsID0gdXBsb2FkSGFuZGxlci5pbml0UHJvZ3Jlc3NCYXIoCiAgICAgICAgICAgICAg
			ICAgICAgKHR5cGVvZiB1cGxvYWRIYW5kbGVyLnByb2dyZXNzQWxsTm9kZSA9PT0gZnVuYyA/CiAg
			ICAgICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5wcm9ncmVzc0FsbE5vZGUodXBsb2FkSGFu
			ZGxlcikgOiB1cGxvYWRIYW5kbGVyLnByb2dyZXNzQWxsTm9kZSksCiAgICAgICAgICAgICAgICAg
			ICAgMAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAg
			CiAgICAgICAgdGhpcy5kZXN0cm95UHJvZ3Jlc3NCYXJBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAg
			ICAgICAgIHVwbG9hZEhhbmRsZXIuZGVzdHJveVByb2dyZXNzQmFyKHVwbG9hZEhhbmRsZXIucHJv
			Z3Jlc3NiYXJBbGwpOwogICAgICAgIH07CgogICAgICAgIHRoaXMubG9hZFByZXZpZXdJbWFnZSA9
			IGZ1bmN0aW9uIChmaWxlcywgaW5kZXgsIGhhbmRsZXIpIHsKICAgICAgICAgICAgaW5kZXggPSBp
			bmRleCB8fCAwOwogICAgICAgICAgICBoYW5kbGVyLnVwbG9hZFJvdy5maW5kKGhhbmRsZXIucHJl
			dmlld1NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBwcmV2
			aWV3Tm9kZSA9ICQodGhpcyksCiAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGZpbGVzW2luZGV4
			XTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAg
			ICAgICAgIGhhbmRsZXIubG9hZEltYWdlKAogICAgICAgICAgICAgICAgICAgICAgICBmaWxlLAog
			ICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaW1nKSB7CiAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICBoYW5kbGVyLmFkZE5vZGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
			ICAgcHJldmlld05vZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpbWcpCiAg
			ICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB9LAog
			ICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnByZXZpZXdNYXhXaWR0aCwKICAgICAgICAg
			ICAgICAgICAgICAgICAgaGFuZGxlci5wcmV2aWV3TWF4SGVpZ2h0LAogICAgICAgICAgICAgICAg
			ICAgICAgICBoYW5kbGVyLmltYWdlVHlwZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICFoYW5k
			bGVyLnByZXZpZXdBc0NhbnZhcwogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAg
			ICB9LCBoYW5kbGVyLnByZXZpZXdMb2FkRGVsYXkpOwogICAgICAgICAgICAgICAgaW5kZXggKz0g
			MTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5pbml0VXBsb2FkUm93
			ID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlcikgewogICAgICAg
			ICAgICB2YXIgdXBsb2FkUm93ID0gaGFuZGxlci51cGxvYWRSb3cgPSAodHlwZW9mIGhhbmRsZXIu
			YnVpbGRVcGxvYWRSb3cgPT09IGZ1bmMgPwogICAgICAgICAgICAgICAgaGFuZGxlci5idWlsZFVw
			bG9hZFJvdyhmaWxlcywgaW5kZXgsIGhhbmRsZXIpIDogbnVsbCk7CiAgICAgICAgICAgIGlmICh1
			cGxvYWRSb3cpIHsKICAgICAgICAgICAgICAgIGhhbmRsZXIucHJvZ3Jlc3NiYXIgPSBoYW5kbGVy
			LmluaXRQcm9ncmVzc0JhcigKICAgICAgICAgICAgICAgICAgICB1cGxvYWRSb3cuZmluZChoYW5k
			bGVyLnByb2dyZXNzU2VsZWN0b3IpLAogICAgICAgICAgICAgICAgICAgIDAKICAgICAgICAgICAg
			ICAgICk7CiAgICAgICAgICAgICAgICB1cGxvYWRSb3cuZmluZChoYW5kbGVyLmNhbmNlbFNlbGVj
			dG9yKS5jbGljayhmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2Fu
			Y2VsVXBsb2FkKGUsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyKTsKICAgICAgICAgICAgICAg
			ICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAg
			ICAgIGhhbmRsZXIubG9hZFByZXZpZXdJbWFnZShmaWxlcywgaW5kZXgsIGhhbmRsZXIpOwogICAg
			ICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlzLmluaXRVcGxvYWQgPSBm
			dW5jdGlvbiAoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyLCBjYWxsQmFjaykgewog
			ICAgICAgICAgICBoYW5kbGVyLmluaXRVcGxvYWRSb3coZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhy
			LCBoYW5kbGVyKTsKICAgICAgICAgICAgaGFuZGxlci5hZGROb2RlKAogICAgICAgICAgICAgICAg
			Z2V0VXBsb2FkVGFibGUoaGFuZGxlciksCiAgICAgICAgICAgICAgICBoYW5kbGVyLnVwbG9hZFJv
			dywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAo
			dHlwZW9mIGhhbmRsZXIuYmVmb3JlU2VuZCA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAg
			ICAgICBoYW5kbGVyLmJlZm9yZVNlbmQoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVy
			LCBjYWxsQmFjayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg
			ICAgICAgICAgY2FsbEJhY2soKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg
			ICB9CiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGhhbmRsZXIuaW5pdFVwbG9hZFByb2dyZXNz
			QWxsKCk7CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlzLnBhcnNlUmVzcG9uc2UgPSBm
			dW5jdGlvbiAoeGhyLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgeGhyLnJlc3Bv
			bnNlVGV4dCAhPT0gdW5kZWYpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkLnBhcnNlSlNPTih4
			aHIucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8v
			IEluc3RlYWQgb2YgYW4gWEhSIG9iamVjdCwgYW4gaWZyYW1lIGlzIHVzZWQgZm9yIGxlZ2FjeSBi
			cm93c2VyczoKICAgICAgICAgICAgICAgIHJldHVybiAkLnBhcnNlSlNPTih4aHIuY29udGVudHMo
			KS50ZXh0KCkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlz
			LmluaXREb3dubG9hZFJvdyA9IGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhh
			bmRsZXIpIHsKICAgICAgICAgICAgdmFyIGpzb24sIGRvd25sb2FkUm93OwogICAgICAgICAgICB0
			cnkgewogICAgICAgICAgICAgICAganNvbiA9IGhhbmRsZXIucmVzcG9uc2UgPSBoYW5kbGVyLnBh
			cnNlUmVzcG9uc2UoeGhyLCBoYW5kbGVyKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAg
			ICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyLm9uRXJyb3IgPT09IGZ1bmMpIHsKICAgICAg
			ICAgICAgICAgICAgICBoYW5kbGVyLm9yaWdpbmFsRXZlbnQgPSBldmVudDsKICAgICAgICAgICAg
			ICAgICAgICBoYW5kbGVyLm9uRXJyb3IoZSwgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIpOwog
			ICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAg
			ICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvd25sb2FkUm93ID0gaGFu
			ZGxlci5kb3dubG9hZFJvdyA9ICh0eXBlb2YgaGFuZGxlci5idWlsZERvd25sb2FkUm93ID09PSBm
			dW5jID8KICAgICAgICAgICAgICAgIGhhbmRsZXIuYnVpbGREb3dubG9hZFJvdyhqc29uLCBoYW5k
			bGVyKSA6IG51bGwpOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5vbkxvYWQgPSBm
			dW5jdGlvbiAoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyKSB7CiAgICAgICAgICAg
			IHZhciB1cGxvYWRUYWJsZSA9IGdldFVwbG9hZFRhYmxlKGhhbmRsZXIpLAogICAgICAgICAgICAg
			ICAgZG93bmxvYWRUYWJsZSA9IGdldERvd25sb2FkVGFibGUoaGFuZGxlciksCiAgICAgICAgICAg
			ICAgICBjYWxsQmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodHlw
			ZW9mIGhhbmRsZXIub25Db21wbGV0ZSA9PT0gZnVuYykgewogICAgICAgICAgICAgICAgICAgICAg
			ICBoYW5kbGVyLm9uQ29tcGxldGUoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyKTsK
			ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbXVsdGlMb2FkZXIuY29t
			cGxldGUoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIG11bHRpTG9hZGVyLnB1c2go
			QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgICAgICAgICAgIGhh
			bmRsZXIuaW5pdERvd25sb2FkUm93KGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlcik7
			CiAgICAgICAgICAgIGlmICh1cGxvYWRUYWJsZSAmJiBoYW5kbGVyLnVwbG9hZFJvdyAmJiBoYW5k
			bGVyLnVwbG9hZFJvdy5sZW5ndGggJiYKICAgICAgICAgICAgICAgICAgICAoIWRvd25sb2FkVGFi
			bGUgfHwgdXBsb2FkVGFibGUuZ2V0KDApID09PSBkb3dubG9hZFRhYmxlLmdldCgwKSkpIHsKICAg
			ICAgICAgICAgICAgIGhhbmRsZXIucmVwbGFjZU5vZGUoaGFuZGxlci51cGxvYWRSb3csIGhhbmRs
			ZXIuZG93bmxvYWRSb3csIGNhbGxCYWNrKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg
			ICAgICAgIGhhbmRsZXIucmVtb3ZlTm9kZShoYW5kbGVyLnVwbG9hZFJvdywgZnVuY3Rpb24gKCkg
			ewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYWRkTm9kZSgKICAgICAgICAgICAgICAgICAg
			ICAgICAgZG93bmxvYWRUYWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5kb3du
			bG9hZFJvdywKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2sKICAgICAgICAgICAgICAg
			ICAgICApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAg
			ICAgICB0aGlzLmRyb3Bab25lRW5sYXJnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYg
			KCFpc0Ryb3Bab25lRW5sYXJnZWQpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBsb2Fk
			SGFuZGxlci5kcm9wWm9uZS5zd2l0Y2hDbGFzcyA9PT0gZnVuYykgewogICAgICAgICAgICAgICAg
			ICAgIHVwbG9hZEhhbmRsZXIuZHJvcFpvbmUuc3dpdGNoQ2xhc3MoCiAgICAgICAgICAgICAgICAg
			ICAgICAgIHVwbG9hZEhhbmRsZXIuY3NzQ2xhc3NTbWFsbCwKICAgICAgICAgICAgICAgICAgICAg
			ICAgdXBsb2FkSGFuZGxlci5jc3NDbGFzc0xhcmdlCiAgICAgICAgICAgICAgICAgICAgKTsKICAg
			ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5k
			cm9wWm9uZS5hZGRDbGFzcyh1cGxvYWRIYW5kbGVyLmNzc0NsYXNzTGFyZ2UpOwogICAgICAgICAg
			ICAgICAgICAgIHVwbG9hZEhhbmRsZXIuZHJvcFpvbmUucmVtb3ZlQ2xhc3ModXBsb2FkSGFuZGxl
			ci5jc3NDbGFzc1NtYWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlzRHJv
			cFpvbmVFbmxhcmdlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIAog
			ICAgICAgIHRoaXMuZHJvcFpvbmVSZWR1Y2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlm
			ICh0eXBlb2YgdXBsb2FkSGFuZGxlci5kcm9wWm9uZS5zd2l0Y2hDbGFzcyA9PT0gZnVuYykgewog
			ICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5kcm9wWm9uZS5zd2l0Y2hDbGFzcygKICAgICAg
			ICAgICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmNzc0NsYXNzTGFyZ2UsCiAgICAgICAgICAgICAg
			ICAgICAgdXBsb2FkSGFuZGxlci5jc3NDbGFzc1NtYWxsCiAgICAgICAgICAgICAgICApOwogICAg
			ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5kcm9wWm9uZS5h
			ZGRDbGFzcyh1cGxvYWRIYW5kbGVyLmNzc0NsYXNzU21hbGwpOwogICAgICAgICAgICAgICAgdXBs
			b2FkSGFuZGxlci5kcm9wWm9uZS5yZW1vdmVDbGFzcyh1cGxvYWRIYW5kbGVyLmNzc0NsYXNzTGFy
			Z2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzRHJvcFpvbmVFbmxhcmdlZCA9IGZhbHNl
			OwogICAgICAgIH07CgogICAgICAgIHRoaXMub25Eb2N1bWVudERyYWdFbnRlciA9IGZ1bmN0aW9u
			IChldmVudCkgewogICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmRyb3Bab25lRW5sYXJnZSgpOwog
			ICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5vbkRvY3VtZW50RHJhZ092ZXIgPSBmdW5j
			dGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGRyYWdPdmVyVGltZW91dCkgewogICAgICAg
			ICAgICAgICAgY2xlYXJUaW1lb3V0KGRyYWdPdmVyVGltZW91dCk7CiAgICAgICAgICAgIH0KICAg
			ICAgICAgICAgZHJhZ092ZXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAg
			ICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmRyb3Bab25lUmVkdWNlKCk7CiAgICAgICAgICAgIH0s
			IDIwMCk7CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlzLm9uRHJhZ0VudGVyID0gdGhp
			cy5vbkRyYWdMZWF2ZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICB1cGxvYWRIYW5k
			bGVyLmRyb3Bab25lLnRvZ2dsZUNsYXNzKHVwbG9hZEhhbmRsZXIuY3NzQ2xhc3NIaWdobGlnaHQp
			OwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5vbkRyb3AgPSBmdW5jdGlvbiAoZXZl
			bnQpIHsKICAgICAgICAgICAgaWYgKGRyYWdPdmVyVGltZW91dCkgewogICAgICAgICAgICAgICAg
			Y2xlYXJUaW1lb3V0KGRyYWdPdmVyVGltZW91dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg
			aWYgKHVwbG9hZEhhbmRsZXIuZHJvcEVmZmVjdCAmJiB0eXBlb2YgdXBsb2FkSGFuZGxlci5kcm9w
			Wm9uZS5lZmZlY3QgPT09IGZ1bmMpIHsKICAgICAgICAgICAgICAgIHVwbG9hZEhhbmRsZXIuZHJv
			cFpvbmUuZWZmZWN0KHVwbG9hZEhhbmRsZXIuZHJvcEVmZmVjdCwgZnVuY3Rpb24gKCkgewogICAg
			ICAgICAgICAgICAgICAgIHVwbG9hZEhhbmRsZXIuZHJvcFpvbmUucmVtb3ZlQ2xhc3ModXBsb2Fk
			SGFuZGxlci5jc3NDbGFzc0hpZ2hsaWdodCk7CiAgICAgICAgICAgICAgICAgICAgdXBsb2FkSGFu
			ZGxlci5kcm9wWm9uZVJlZHVjZSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0g
			ZWxzZSB7CiAgICAgICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmRyb3Bab25lLnJlbW92ZUNsYXNz
			KHVwbG9hZEhhbmRsZXIuY3NzQ2xhc3NIaWdobGlnaHQpOwogICAgICAgICAgICAgICAgdXBsb2Fk
			SGFuZGxlci5kcm9wWm9uZVJlZHVjZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAg
			ICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmlu
			aXRQcm9ncmVzc0JhckFsbCgpOwogICAgICAgICAgICBpZiAodHlwZW9mIHVwbG9hZEhhbmRsZXIu
			aW5pdEV4dGVuZGVkID09PSBmdW5jKSB7CiAgICAgICAgICAgICAgICB1cGxvYWRIYW5kbGVyLmlu
			aXRFeHRlbmRlZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0
			aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBsb2Fk
			SGFuZGxlci5kZXN0cm95RXh0ZW5kZWQgPT09IGZ1bmMpIHsKICAgICAgICAgICAgICAgIHVwbG9h
			ZEhhbmRsZXIuZGVzdHJveUV4dGVuZGVkKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdXBs
			b2FkSGFuZGxlci5kZXN0cm95UHJvZ3Jlc3NCYXJBbGwoKTsKICAgICAgICB9OwoKICAgICAgICAk
			LmV4dGVuZCh0aGlzLCBvcHRpb25zKTsKICAgIH07CgogICAgbWV0aG9kcyA9IHsKICAgICAgICBp
			bml0IDogZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChm
			dW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbGVVcGxvYWQobmV3IFVwbG9h
			ZEhhbmRsZXIoJCh0aGlzKSwgb3B0aW9ucykpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAog
			ICAgICAgIAogICAgICAgIG9wdGlvbjogZnVuY3Rpb24gKG9wdGlvbiwgdmFsdWUsIG5hbWVzcGFj
			ZSkgewogICAgICAgICAgICBpZiAoIW9wdGlvbiB8fCAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmlu
			ZycgJiYgdHlwZW9mIHZhbHVlID09PSB1bmRlZikpIHsKICAgICAgICAgICAgICAgIHJldHVybiAk
			KHRoaXMpLmZpbGVVcGxvYWQoJ29wdGlvbicsIG9wdGlvbiwgdmFsdWUsIG5hbWVzcGFjZSk7CiAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAg
			ICAgICAgICAgICAgICAkKHRoaXMpLmZpbGVVcGxvYWQoJ29wdGlvbicsIG9wdGlvbiwgdmFsdWUs
			IG5hbWVzcGFjZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgICAgIAogICAg
			ICAgIGRlc3Ryb3kgOiBmdW5jdGlvbiAobmFtZXNwYWNlKSB7CiAgICAgICAgICAgIHJldHVybiB0
			aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCh0aGlzKS5maWxlVXBsb2Fk
			KCdkZXN0cm95JywgbmFtZXNwYWNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAg
			ICAKICAgICAgICB1cGxvYWQ6IGZ1bmN0aW9uIChmaWxlcywgbmFtZXNwYWNlKSB7CiAgICAgICAg
			ICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCh0aGlz
			KS5maWxlVXBsb2FkKCd1cGxvYWQnLCBmaWxlcywgbmFtZXNwYWNlKTsKICAgICAgICAgICAgfSk7
			CiAgICAgICAgfQogICAgfTsKICAgIAogICAgJC5mbi5maWxlVXBsb2FkVUkgPSBmdW5jdGlvbiAo
			bWV0aG9kKSB7CiAgICAgICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkgewogICAgICAgICAgICByZXR1
			cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxs
			KGFyZ3VtZW50cywgMSkpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29i
			amVjdCcgfHwgIW1ldGhvZCkgewogICAgICAgICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5
			KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJC5lcnJvcign
			TWV0aG9kICInICsgbWV0aG9kICsgJyIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LmZpbGVVcGxv
			YWRVSScpOwogICAgICAgIH0KICAgIH07CiAgICAKfShqUXVlcnkpKTsKCgovKgogKiBqUXVlcnkg
			RmlsZSBVcGxvYWQgVXNlciBJbnRlcmZhY2UgRXh0ZW5kZWQgUGx1Z2luIDQuNgogKiBodHRwczov
			L2dpdGh1Yi5jb20vYmx1ZWltcC9qUXVlcnktRmlsZS1VcGxvYWQKICoKICogQ29weXJpZ2h0IDIw
			MTAsIFNlYmFzdGlhbiBUc2NoYW4KICogaHR0cHM6Ly9ibHVlaW1wLm5ldAogKgogKiBMaWNlbnNl
			ZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6CiAqIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xp
			Y2Vuc2VzL01JVC8KICovCgovKmpzbGludCByZWdleHA6IGZhbHNlLCB1bnBhcmFtOiB0cnVlICov
			Ci8qZ2xvYmFsIGpRdWVyeSAqLwoKKGZ1bmN0aW9uICgkKSB7CiAgICAndXNlIHN0cmljdCc7Cgog
			ICAgdmFyIFVwbG9hZEhhbmRsZXIsCiAgICAgICAgbWV0aG9kczsKCiAgICAvLyBFbXVsYXRlIGpR
			dWVyeSBVSSBidXR0b24gKHdpdGhvdXQgc3RhdGVzKSBpZiBub3QgYXZhaWxhYmxlOgogICAgaWYg
			KHR5cGVvZiAkKCkuYnV0dG9uICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgJC5mbi5idXR0b24g
			PSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0
			aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zID09PSAnZGVzdHJveScpIHsKICAg
			ICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKAogICAgICAgICAgICAgICAgICAg
			ICAgICAndWktYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwn
			ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgdWktYnV0dG9uLWljb24tb25seSB1aS1i
			dXR0b24tdGV4dC1pY29uLXByaW1hcnknCiAgICAgICAgICAgICAgICAgICAgKS5odG1sKCQodGhp
			cykudGV4dCgpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAg
			JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3VpLWJ1dHRvbiB1aS13
			aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsJykKICAgICAgICAgICAgICAgICAg
			ICAgICAgLmFkZENsYXNzKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50ZXh0
			ID09PSBmYWxzZSA/ICd1aS1idXR0b24taWNvbi1vbmx5JyA6CiAgICAgICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgJ3VpLWJ1dHRvbi10ZXh0LWljb24tcHJpbWFyeScKICAgICAgICAgICAgICAg
			ICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAuaHRtbCgkKCc8c3BhbiBjbGFzcz0i
			dWktYnV0dG9uLXRleHQiLz4nKS50ZXh0KCQodGhpcykudGV4dCgpKSkKICAgICAgICAgICAgICAg
			ICAgICAgICAgLnByZXBlbmQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3BhbiBj
			bGFzcz0idWktYnV0dG9uLWljb24tcHJpbWFyeSB1aS1pY29uIi8+JykKICAgICAgICAgICAgICAg
			ICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy5wcmltYXJ5KQogICAgICAg
			ICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAg
			ICAgICB9OwogICAgfQogICAgICAgIAogICAgVXBsb2FkSGFuZGxlciA9IGZ1bmN0aW9uIChjb250
			YWluZXIsIG9wdGlvbnMpIHsKICAgICAgICB2YXIgdXBsb2FkSGFuZGxlciA9IHRoaXM7CgogICAg
			ICAgIHRoaXMubG9jYWxlID0ge307CiAgICAgICAgdGhpcy5tYXhGaWxlU2l6ZSA9IG51bGw7CiAg
			ICAgICAgdGhpcy5taW5GaWxlU2l6ZSA9IDE7CiAgICAgICAgdGhpcy5tYXhOdW1iZXJPZkZpbGVz
			ID0gbnVsbDsKICAgICAgICB0aGlzLmFjY2VwdEZpbGVUeXBlcyA9IC8uKyQvaTsKICAgICAgICB0
			aGlzLmF1dG9VcGxvYWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmZvcmNlSWZyYW1lRG93bmxvYWQg
			PSB0cnVlOwogICAgICAgIHRoaXMudXJsID0gY29udGFpbmVyLmZpbmQoJ2Zvcm06Zmlyc3QnKS5h
			dHRyKCdhY3Rpb24nKTsKICAgICAgICB0aGlzLmRyb3Bab25lID0gY29udGFpbmVyLmZpbmQoJ2Zv
			cm06Zmlyc3QnKTsKICAgICAgICB0aGlzLnVwbG9hZFRhYmxlID0gY29udGFpbmVyLmZpbmQoJy5m
			aWxlczpmaXJzdCcpOwogICAgICAgIHRoaXMuZG93bmxvYWRUYWJsZSA9IHRoaXMudXBsb2FkVGFi
			bGU7CiAgICAgICAgdGhpcy5wcm9ncmVzc0FsbE5vZGUgPSBjb250YWluZXIuZmluZCgnLmZpbGVf
			dXBsb2FkX292ZXJhbGxfcHJvZ3Jlc3MgZGl2OmZpcnN0Jyk7CiAgICAgICAgdGhpcy51cGxvYWRU
			ZW1wbGF0ZSA9IHRoaXMudXBsb2FkVGFibGUuZmluZCgnLmZpbGVfdXBsb2FkX3RlbXBsYXRlOmZp
			cnN0Jyk7CiAgICAgICAgdGhpcy5kb3dubG9hZFRlbXBsYXRlID0gdGhpcy51cGxvYWRUYWJsZS5m
			aW5kKCcuZmlsZV9kb3dubG9hZF90ZW1wbGF0ZTpmaXJzdCcpOwogICAgICAgIHRoaXMubXVsdGlC
			dXR0b25zID0gY29udGFpbmVyLmZpbmQoJy5maWxlX3VwbG9hZF9idXR0b25zOmZpcnN0Jyk7CiAg
			ICAgICAgCiAgICAgICAgdGhpcy5hZGp1c3RNYXhOdW1iZXJPZkZpbGVzID0gZnVuY3Rpb24gKG9w
			ZXJhbmQpIHsKICAgICAgICAgICAgdmFyIG51bWJlciA9IGNvbnRhaW5lci5maWxlVXBsb2FkVUlY
			KCdvcHRpb24nLCAnbWF4TnVtYmVyT2ZGaWxlcycpOwogICAgICAgICAgICBpZiAodHlwZW9mIG51
			bWJlciA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maWxlVXBsb2Fk
			VUlYKCdvcHRpb24nLCAnbWF4TnVtYmVyT2ZGaWxlcycsIG51bWJlciArIG9wZXJhbmQpOwogICAg
			ICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlzLmZvcm1hdEZpbGVTaXpl
			ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgIT09ICdu
			dW1iZXInIHx8IGJ5dGVzID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGJ5dGVzID49IDEwMDAwMDAwMDApIHsKICAgICAg
			ICAgICAgICAgIHJldHVybiAoYnl0ZXMgLyAxMDAwMDAwMDAwKS50b0ZpeGVkKDIpICsgJyBHQic7
			CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGJ5dGVzID49IDEwMDAwMDApIHsKICAgICAg
			ICAgICAgICAgIHJldHVybiAoYnl0ZXMgLyAxMDAwMDAwKS50b0ZpeGVkKDIpICsgJyBNQic7CiAg
			ICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIChieXRlcyAvIDEwMDApLnRvRml4ZWQoMikg
			KyAnIEtCJzsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIHRoaXMuZm9ybWF0RmlsZU5hbWUg
			PSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICd1bmRl
			ZmluZWQnKSByZXR1cm4gJyc7CiAgICAgICAgICAgIHJldHVybiBuYW1lLnJlcGxhY2UoL14uKltc
			L1xcXS8sICcnKTsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIHRoaXMuZW5hYmxlRHJhZ1Rv
			RGVza3RvcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpLAog
			ICAgICAgICAgICAgICAgdXJsID0gbGluay5nZXQoMCkuaHJlZiwKICAgICAgICAgICAgICAgIG5h
			bWUgPSBkZWNvZGVVUklDb21wb25lbnQodXJsLnNwbGl0KCcvJykucG9wKCkpLnJlcGxhY2UoLzov
			ZywgJy0nKSwKICAgICAgICAgICAgICAgIHR5cGUgPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFt
			JzsKICAgICAgICAgICAgbGluay5iaW5kKCdkcmFnc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHsK
			ICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxF
			dmVudC5kYXRhVHJhbnNmZXIKICAgICAgICAgICAgICAgICAgICAgICAgLnNldERhdGEoJ0Rvd25s
			b2FkVVJMJywgW3R5cGUsIG5hbWUsIHVybF0uam9pbignOicpKTsKICAgICAgICAgICAgICAgIH0g
			Y2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIHRoaXMuYnVp
			bGRNdWx0aVVwbG9hZFJvdyA9IGZ1bmN0aW9uIChmaWxlcywgaGFuZGxlcikgewogICAgICAgICAg
			ICB2YXIgcm93cyA9ICQoJzx0Ym9keSBzdHlsZT0iZGlzcGxheTpub25lOyIvPicpOwogICAgICAg
			ICAgICAkLmVhY2goZmlsZXMsIGZ1bmN0aW9uIChpbmRleCwgZmlsZSkgewogICAgICAgICAgICAg
			ICAgdmFyIHJvdyA9IGhhbmRsZXIuYnVpbGRVcGxvYWRSb3coZmlsZXMsIGluZGV4LCBoYW5kbGVy
			KS5zaG93KCksCiAgICAgICAgICAgICAgICAgICAgY2VsbHMgPSByb3cuZmluZCgKICAgICAgICAg
			ICAgICAgICAgICAgICAgJy5maWxlX3VwbG9hZF9wcm9ncmVzcywgLmZpbGVfdXBsb2FkX3N0YXJ0
			LCAuZmlsZV91cGxvYWRfY2FuY2VsJwogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAg
			ICAgICBpZiAoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBjZWxscy5yZW1vdmUoKTsKICAg
			ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbHMuYXR0cigncm93
			c3BhbicsIGZpbGVzLmxlbmd0aCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBy
			b3dzLmFwcGVuZChyb3cpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJvd3M7
			CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5idWlsZFVwbG9hZFJvdyA9IGZ1bmN0aW9uIChmaWxl
			cywgaW5kZXgsIGhhbmRsZXIpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251
			bWJlcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmJ1aWxkTXVsdGlVcGxvYWRS
			b3coZmlsZXMsIGhhbmRsZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmaWxlID0g
			ZmlsZXNbaW5kZXhdLAogICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBoYW5kbGVyLmZvcm1hdEZp
			bGVOYW1lKGZpbGUubmFtZSksCiAgICAgICAgICAgICAgICB1cGxvYWRSb3cgPSBoYW5kbGVyLnVw
			bG9hZFRlbXBsYXRlCiAgICAgICAgICAgICAgICAgICAgLmNsb25lKCkucmVtb3ZlQXR0cignaWQn
			KTsKICAgICAgICAgICAgdXBsb2FkUm93LmZpbmQoJy5maWxlX25hbWUnKQogICAgICAgICAgICAg
			ICAgLnRleHQoZmlsZU5hbWUpOwogICAgICAgICAgICB1cGxvYWRSb3cuZmluZCgnLmZpbGVfc2l6
			ZScpCiAgICAgICAgICAgICAgICAudGV4dChoYW5kbGVyLmZvcm1hdEZpbGVTaXplKGZpbGUuc2l6
			ZSkpOwogICAgICAgICAgICBpZiAoaGFuZGxlci5hdXRvVXBsb2FkKSB7CiAgICAgICAgICAgICAg
			ICB1cGxvYWRSb3cuZmluZCgnLmZpbGVfdXBsb2FkX3N0YXJ0IGJ1dHRvbicpLmhpZGUoKTsKICAg
			ICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVwbG9hZFJvdy5maW5kKCcuZmlsZV91
			cGxvYWRfc3RhcnQgYnV0dG9uJykKICAgICAgICAgICAgICAgICAgICAuYnV0dG9uKHtpY29uczog
			e3ByaW1hcnk6ICd1aS1pY29uLWNpcmNsZS1hcnJvdy1lJ30sIHRleHQ6IGZhbHNlfSk7CiAgICAg
			ICAgICAgIH0KICAgICAgICAgICAgdXBsb2FkUm93LmZpbmQoJy5maWxlX3VwbG9hZF9jYW5jZWwg
			YnV0dG9uJykKICAgICAgICAgICAgICAgIC5idXR0b24oe2ljb25zOiB7cHJpbWFyeTogJ3VpLWlj
			b24tY2FuY2VsJ30sIHRleHQ6IGZhbHNlfSk7CiAgICAgICAgICAgIHJldHVybiB1cGxvYWRSb3c7
			CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGUsIGhh
			bmRsZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGZpbGUudXJsOwogICAgICAgIH07CiAgICAgICAg
			CiAgICAgICAgdGhpcy5nZXRUaHVtYm5haWxVcmwgPSBmdW5jdGlvbiAoZmlsZSwgaGFuZGxlcikg
			ewogICAgICAgICAgICByZXR1cm4gZmlsZS50aHVtYm5haWw7CiAgICAgICAgfTsKCiAgICAgICAg
			dGhpcy5idWlsZE11bHRpRG93bmxvYWRSb3cgPSBmdW5jdGlvbiAoZmlsZXMsIGhhbmRsZXIpIHsK
			ICAgICAgICAgICAgdmFyIHJvd3MgPSAkKCc8dGJvZHkgc3R5bGU9ImRpc3BsYXk6bm9uZTsiLz4n
			KTsKICAgICAgICAgICAgJC5lYWNoKGZpbGVzLCBmdW5jdGlvbiAoaW5kZXgsIGZpbGUpIHsKICAg
			ICAgICAgICAgICAgIHJvd3MuYXBwZW5kKGhhbmRsZXIuYnVpbGREb3dubG9hZFJvdyhmaWxlLCBo
			YW5kbGVyKS5zaG93KCkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJvd3M7
			CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5idWlsZERvd25sb2FkUm93ID0gZnVuY3Rpb24gKGZp
			bGUsIGhhbmRsZXIpIHsKICAgICAgICAgICAgaWYgKCQuaXNBcnJheShmaWxlKSkgewogICAgICAg
			ICAgICAgICAgcmV0dXJuIGhhbmRsZXIuYnVpbGRNdWx0aURvd25sb2FkUm93KGZpbGUsIGhhbmRs
			ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IGhhbmRsZXIuZm9y
			bWF0RmlsZU5hbWUoZmlsZS5uYW1lKSwKICAgICAgICAgICAgICAgIGZpbGVVcmwgPSBoYW5kbGVy
			LmdldEZpbGVVcmwoZmlsZSwgaGFuZGxlciksCiAgICAgICAgICAgICAgICB0aHVtYm5haWxVcmwg
			PSBoYW5kbGVyLmdldFRodW1ibmFpbFVybChmaWxlLCBoYW5kbGVyKSwKICAgICAgICAgICAgICAg
			IGRvd25sb2FkUm93ID0gaGFuZGxlci5kb3dubG9hZFRlbXBsYXRlCiAgICAgICAgICAgICAgICAg
			ICAgLmNsb25lKCkucmVtb3ZlQXR0cignaWQnKTsKICAgICAgICAgICAgZG93bmxvYWRSb3cuYXR0
			cignZGF0YS1pZCcsIGZpbGUuaWQgfHwgZmlsZS5uYW1lKTsKICAgICAgICAgICAgZG93bmxvYWRS
			b3cuZmluZCgnLmZpbGVfbmFtZSBhJykKICAgICAgICAgICAgICAgIC50ZXh0KGZpbGVOYW1lKTsK
			ICAgICAgICAgICAgZG93bmxvYWRSb3cuZmluZCgnLmZpbGVfc2l6ZScpCiAgICAgICAgICAgICAg
			ICAudGV4dChoYW5kbGVyLmZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpOwogICAgICAgICAgICBp
			ZiAodGh1bWJuYWlsVXJsKSB7CiAgICAgICAgICAgICAgICBkb3dubG9hZFJvdy5maW5kKCcuZmls
			ZV9kb3dubG9hZF9wcmV2aWV3JykuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxhLz4n
			KS5hcHBlbmQoJCgnPGltZy8+JykuYXR0cignc3JjJywgdGh1bWJuYWlsVXJsKSkKICAgICAgICAg
			ICAgICAgICk7CiAgICAgICAgICAgICAgICBkb3dubG9hZFJvdy5maW5kKCdhJykuYXR0cigndGFy
			Z2V0JywgJ19ibGFuaycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvd25sb2FkUm93LmZp
			bmQoJ2EnKQogICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCBmaWxlVXJsIHx8IG51bGwpCiAg
			ICAgICAgICAgICAgICAuZWFjaChoYW5kbGVyLmVuYWJsZURyYWdUb0Rlc2t0b3ApOwogICAgICAg
			ICAgICBkb3dubG9hZFJvdy5maW5kKCcuZmlsZV9kb3dubG9hZF9kZWxldGUgYnV0dG9uJykKICAg
			ICAgICAgICAgICAgIC5idXR0b24oe2ljb25zOiB7cHJpbWFyeTogJ3VpLWljb24tdHJhc2gnfSwg
			dGV4dDogZmFsc2V9KTsKICAgICAgICAgICAgcmV0dXJuIGRvd25sb2FkUm93OwogICAgICAgIH07
			CiAgICAgICAgCiAgICAgICAgdGhpcy5vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywg
			aW5kZXgsIHhociwgaGFuZGxlcikgewogICAgICAgICAgICBoYW5kbGVyLnVwbG9hZFJvdy5hZGRD
			bGFzcygnZmlsZV91cGxvYWRfZXJyb3InKQogICAgICAgICAgICAgICAgLmZpbmQoJy5maWxlX3Vw
			bG9hZF9wcm9ncmVzcycpLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPSJlcnJvciIvPicpLmFwcGVuZCgK
			ICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmxvY2FsZVtldmVudF0gfHwgZXZlbnQKICAgICAg
			ICAgICAgICAgICkpOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy52YWxpZGF0ZSA9
			IGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIpIHsKICAgICAgICAg
			ICAgdmFyIGlzVmFsaWQgPSB0cnVlLAogICAgICAgICAgICAgICAgZmlsZTsKICAgICAgICAgICAg
			aWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgICQuZWFjaChm
			aWxlcywgZnVuY3Rpb24gKGluZGV4LCBmaWxlKSB7CiAgICAgICAgICAgICAgICAgICAgaXNWYWxp
			ZCA9IGhhbmRsZXIudmFsaWRhdGUoZXZlbnQsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyKTsK
			ICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAg
			ZmlsZSA9IGZpbGVzW2luZGV4XTsKICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLm1heEZpbGVT
			aXplICYmIGZpbGUuc2l6ZSA+IGhhbmRsZXIubWF4RmlsZVNpemUpIHsKICAgICAgICAgICAgICAg
			ICAgICBoYW5kbGVyLm9uRXJyb3IoJ0ZpbGUgaXMgdG9vIGJpZycsIGZpbGVzLCBpbmRleCwgeGhy
			LCBoYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAg
			ICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlLnNpemUgPT09ICdudW1iZXInICYmIGZpbGUu
			c2l6ZSA8IGhhbmRsZXIubWluRmlsZVNpemUpIHsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVy
			Lm9uRXJyb3IoJ0ZpbGUgaXMgdG9vIHNtYWxsJywgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIp
			OwogICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0K
			ICAgICAgICAgICAgICAgIGlmICghKGhhbmRsZXIuYWNjZXB0RmlsZVR5cGVzLnRlc3QoZmlsZS50
			eXBlKSB8fAogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmFjY2VwdEZpbGVUeXBlcy50
			ZXN0KGZpbGUubmFtZSkpKSB7CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5vbkVycm9yKCdG
			aWxldHlwZSBub3QgYWxsb3dlZCcsIGZpbGVzLCBpbmRleCwgeGhyLCBoYW5kbGVyKTsKICAgICAg
			ICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAg
			ICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIubWF4TnVtYmVyT2ZGaWxlcyA9PT0gJ251bWJlcicg
			JiYKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5tYXhOdW1iZXJPZkZpbGVzIDwgaW5k
			ZXggKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5vbkVycm9yKCdNYXggbnVtYmVy
			IGV4Y2VlZGVkJywgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIpOwogICAgICAgICAgICAgICAg
			ICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAg
			ICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgICAgICB9OwoKICAgICAgICB0aGlzLnVwbG9hZENh
			bGxCYWNrID0gZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgaW5kZXgsIHhociwgaGFuZGxlciwgY2Fs
			bEJhY2spIHsKICAgICAgICAgICAgY2FsbEJhY2soKTsKICAgICAgICB9OwogICAgICAgIAogICAg
			ICAgIHRoaXMuYmVmb3JlU2VuZCA9IGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGluZGV4LCB4aHIs
			IGhhbmRsZXIsIGNhbGxCYWNrKSB7CiAgICAgICAgICAgIGlmICghaGFuZGxlci52YWxpZGF0ZShl
			dmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhhbmRsZXIpKSB7CiAgICAgICAgICAgICAgICByZXR1
			cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG51bWJlciA9IHR5cGVvZiBpbmRleCA9
			PT0gJ251bWJlcicgPyAxIDogZmlsZXMubGVuZ3RoOwogICAgICAgICAgICBoYW5kbGVyLmFkanVz
			dE1heE51bWJlck9mRmlsZXMoLW51bWJlcik7CiAgICAgICAgICAgIGhhbmRsZXIudXBsb2FkUm93
			LmZpbmQoaGFuZGxlci5jYW5jZWxTZWxlY3RvcikuY2xpY2soZnVuY3Rpb24gKGUpIHsKICAgICAg
			ICAgICAgICAgIGhhbmRsZXIuYWRqdXN0TWF4TnVtYmVyT2ZGaWxlcyhudW1iZXIpOwogICAgICAg
			ICAgICB9KTsKICAgICAgICAgICAgaWYgKGhhbmRsZXIuYXV0b1VwbG9hZCkgewogICAgICAgICAg
			ICAgICAgaGFuZGxlci51cGxvYWRDYWxsQmFjayhldmVudCwgZmlsZXMsIGluZGV4LCB4aHIsIGhh
			bmRsZXIsIGNhbGxCYWNrKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGhh
			bmRsZXIudXBsb2FkUm93LmZpbmQoJy5maWxlX3VwbG9hZF9zdGFydCBidXR0b24nKS5jbGljayhm
			dW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZU91dCgpOwogICAg
			ICAgICAgICAgICAgICAgIGhhbmRsZXIudXBsb2FkQ2FsbEJhY2soZXZlbnQsIGZpbGVzLCBpbmRl
			eCwgeGhyLCBoYW5kbGVyLCBjYWxsQmFjayk7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50
			RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoK
			ICAgICAgICB0aGlzLmRvd25sb2FkSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAg
			IGlmICh1cGxvYWRIYW5kbGVyLmZvcmNlSWZyYW1lRG93bmxvYWQpIHsKICAgICAgICAgICAgICAg
			IC8vIE9wZW4gZG93bmxvYWQgZGlhbG9ncyB2aWEgaWZyYW1lcywgdG8gcHJldmVudCBhYm9ydGlu
			ZyBjdXJyZW50IHVwbG9hZHM6CiAgICAgICAgICAgICAgICAkKCc8aWZyYW1lIHN0eWxlPSJkaXNw
			bGF5Om5vbmU7Ii8+JykKICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgdGhpcy5ocmVm
			KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjb250YWluZXIpOwogICAgICAgICAgICAg
			ICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAg
			dGhpcy5kZWxldGVIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHJvdyA9
			ICQodGhpcykuY2xvc2VzdCgndHInKTsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAg
			ICAgIHVybDogdXBsb2FkSGFuZGxlci51cmwgKyAnP2ZpbGU9JyArIGVuY29kZVVSSUNvbXBvbmVu
			dCgKICAgICAgICAgICAgICAgICAgICByb3cuYXR0cignZGF0YS1pZCcpCiAgICAgICAgICAgICAg
			ICApLAogICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgICAgICAgICAgICBzdWNj
			ZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5hZGp1
			c3RNYXhOdW1iZXJPZkZpbGVzKDEpOwogICAgICAgICAgICAgICAgICAgIHJvdy5mYWRlT3V0KGZ1
			bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcm93LnJlbW92ZSgpOwogICAgICAg
			ICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAg
			ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhp
			cy5pbml0RXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdXBsb2FkSGFu
			ZGxlci5kb3dubG9hZFRhYmxlLmZpbmQoJ2E6bm90KFt0YXJnZXQ9Il9ibGFuayJdKScpCiAgICAg
			ICAgICAgICAgICAubGl2ZSgnY2xpY2snLCB1cGxvYWRIYW5kbGVyLmRvd25sb2FkSGFuZGxlcik7
			CiAgICAgICAgICAgIHVwbG9hZEhhbmRsZXIuZG93bmxvYWRUYWJsZS5maW5kKCcuZmlsZV9kb3du
			bG9hZF9kZWxldGUgYnV0dG9uJykKICAgICAgICAgICAgICAgIC5saXZlKCdjbGljaycsIHVwbG9h
			ZEhhbmRsZXIuZGVsZXRlSGFuZGxlcik7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5kZXN0cm95
			RXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5k
			b3dubG9hZFRhYmxlLmZpbmQoJ2E6bm90KFt0YXJnZXQ9Il9ibGFuayJdKScpCiAgICAgICAgICAg
			ICAgICAuZGllKCdjbGljaycsIHVwbG9hZEhhbmRsZXIuZG93bmxvYWRIYW5kbGVyKTsKICAgICAg
			ICAgICAgdXBsb2FkSGFuZGxlci5kb3dubG9hZFRhYmxlLmZpbmQoJy5maWxlX2Rvd25sb2FkX2Rl
			bGV0ZSBidXR0b24nKQogICAgICAgICAgICAgICAgLmRpZSgnY2xpY2snLCB1cGxvYWRIYW5kbGVy
			LmRlbGV0ZUhhbmRsZXIpOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5tdWx0aUJ1
			dHRvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB1cGxvYWRIYW5kbGVyLnVw
			bG9hZFRhYmxlLmZpbmQoZS5kYXRhLnNlbGVjdG9yICsgJyBidXR0b246dmlzaWJsZScpLmNsaWNr
			KCk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9OwogICAgICAgIAog
			ICAgICAgIHRoaXMuaW5pdE11bHRpQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAg
			aWYgKHVwbG9hZEhhbmRsZXIuYXV0b1VwbG9hZCkgewogICAgICAgICAgICAgICAgdXBsb2FkSGFu
			ZGxlci5tdWx0aUJ1dHRvbnMuZmluZCgnLmZpbGVfdXBsb2FkX3N0YXJ0OmZpcnN0JykuaGlkZSgp
			OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5tdWx0
			aUJ1dHRvbnMuZmluZCgnLmZpbGVfdXBsb2FkX3N0YXJ0OmZpcnN0JykKICAgICAgICAgICAgICAg
			ICAgICAuYnV0dG9uKHtpY29uczoge3ByaW1hcnk6ICd1aS1pY29uLWNpcmNsZS1hcnJvdy1lJ319
			KQogICAgICAgICAgICAgICAgICAgIC5iaW5kKCdjbGljaycsIHtzZWxlY3RvcjogJy5maWxlX3Vw
			bG9hZF9zdGFydCd9LCB1cGxvYWRIYW5kbGVyLm11bHRpQnV0dG9uSGFuZGxlcik7CiAgICAgICAg
			ICAgIH0KICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5tdWx0aUJ1dHRvbnMuZmluZCgnLmZpbGVf
			dXBsb2FkX2NhbmNlbDpmaXJzdCcpCiAgICAgICAgICAgICAgICAuYnV0dG9uKHtpY29uczoge3By
			aW1hcnk6ICd1aS1pY29uLWNhbmNlbCd9fSkKICAgICAgICAgICAgICAgIC5iaW5kKCdjbGljaycs
			IHtzZWxlY3RvcjogJy5maWxlX3VwbG9hZF9jYW5jZWwnfSwgdXBsb2FkSGFuZGxlci5tdWx0aUJ1
			dHRvbkhhbmRsZXIpOwogICAgICAgICAgICB1cGxvYWRIYW5kbGVyLm11bHRpQnV0dG9ucy5maW5k
			KCcuZmlsZV9kb3dubG9hZF9kZWxldGU6Zmlyc3QnKQogICAgICAgICAgICAgICAgLmJ1dHRvbih7
			aWNvbnM6IHtwcmltYXJ5OiAndWktaWNvbi10cmFzaCd9fSkKICAgICAgICAgICAgICAgIC5iaW5k
			KCdjbGljaycsIHtzZWxlY3RvcjogJy5maWxlX2Rvd25sb2FkX2RlbGV0ZSd9LCB1cGxvYWRIYW5k
			bGVyLm11bHRpQnV0dG9uSGFuZGxlcik7CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB0aGlz
			LmRlc3Ryb3lNdWx0aUJ1dHRvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHVwbG9hZEhh
			bmRsZXIubXVsdGlCdXR0b25zLmZpbmQoCiAgICAgICAgICAgICAgICAnLmZpbGVfdXBsb2FkX3N0
			YXJ0OmZpcnN0LCAuZmlsZV91cGxvYWRfY2FuY2VsOmZpcnN0LCAuZmlsZV9kb3dubG9hZF9kZWxl
			dGU6Zmlyc3QnCiAgICAgICAgICAgICkudW5iaW5kKCdjbGljaycsIHVwbG9hZEhhbmRsZXIubXVs
			dGlCdXR0b25IYW5kbGVyKS5idXR0b24oJ2Rlc3Ryb3knKS5zaG93KCk7CiAgICAgICAgfTsKCiAg
			ICAgICAgdGhpcy5pbml0RXh0ZW5kZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHVwbG9h
			ZEhhbmRsZXIuaW5pdEV2ZW50SGFuZGxlcnMoKTsKICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5p
			bml0TXVsdGlCdXR0b25zKCk7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5kZXN0cm95RXh0ZW5k
			ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHVwbG9hZEhhbmRsZXIuZGVzdHJveUV2ZW50
			SGFuZGxlcnMoKTsKICAgICAgICAgICAgdXBsb2FkSGFuZGxlci5kZXN0cm95TXVsdGlCdXR0b25z
			KCk7CiAgICAgICAgfTsKCiAgICAgICAgJC5leHRlbmQodGhpcywgb3B0aW9ucyk7CiAgICB9OwoK
			ICAgIG1ldGhvZHMgPSB7CiAgICAgICAgaW5pdCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICAg
			ICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCh0
			aGlzKS5maWxlVXBsb2FkVUkobmV3IFVwbG9hZEhhbmRsZXIoJCh0aGlzKSwgb3B0aW9ucykpOwog
			ICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIAogICAgICAgIG9wdGlvbjogZnVuY3Rp
			b24gKG9wdGlvbiwgdmFsdWUsIG5hbWVzcGFjZSkgewogICAgICAgICAgICBpZiAoIW9wdGlvbiB8
			fCAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlID09PSAndW5kZWZp
			bmVkJykpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmZpbGVVcGxvYWQoJ29wdGlv
			bicsIG9wdGlvbiwgdmFsdWUsIG5hbWVzcGFjZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg
			cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLmZp
			bGVVcGxvYWRVSSgnb3B0aW9uJywgb3B0aW9uLCB2YWx1ZSwgbmFtZXNwYWNlKTsKICAgICAgICAg
			ICAgfSk7CiAgICAgICAgfSwKICAgICAgICAgICAgCiAgICAgICAgZGVzdHJveSA6IGZ1bmN0aW9u
			IChuYW1lc3BhY2UpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7
			CiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbGVVcGxvYWRVSSgnZGVzdHJveScsIG5hbWVzcGFj
			ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgdXBsb2FkOiBm
			dW5jdGlvbiAoZmlsZXMsIG5hbWVzcGFjZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNo
			KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQodGhpcykuZmlsZVVwbG9hZFVJKCd1cGxv
			YWQnLCBmaWxlcywgbmFtZXNwYWNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsK
			ICAgIAogICAgJC5mbi5maWxlVXBsb2FkVUlYID0gZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAg
			IGlmIChtZXRob2RzW21ldGhvZF0pIHsKICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9k
			XS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsK
			ICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2Qp
			IHsKICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMp
			OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQuZXJyb3IoJ01ldGhvZCAiJyArIG1ldGhv
			ZCArICciIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5maWxlVXBsb2FkVUlYJyk7CiAgICAgICAg
			fQogICAgfTsKICAgIAp9KGpRdWVyeSkpOwo=
		</Resource>
	</Resources>
	<SourceCode>
<![CDATA[#!/usr/bin/env python

import re

from xml.dom.minidom import parseString

from utils.csrf import create_csrf_token, csrf_token_arg_name


# RegExp to remove <script> section in XML
RE_REMOVE_SCRIPT = re.compile(r"(?si)<(script)[^<>]*>.*?</\1>")

# Placeholder for default value
_DEFAULT = []

# Boolean values map
BOOL_MAP = {
    "0": False,
    "false": False,
    "1": True,
    "true": True
}

# Sort by key lambda function
sort_by_key = lambda pair: pair[0]

# Sort by value lambda function
sort_by_val = lambda pair: pair[1]

# Sorting map
SORT_MAP = {
    "0": "default",
    "1": sort_by_key,
    "2": sort_by_val,
    "key": sort_by_key,
    "value": sort_by_val
}

# Sorting order map
SORT_ORDER_MAP = {
    "0": "default",
    "1": "asc",
    "2": "desc",
    "asc": "asc",
    "desc": "desc"
}

# Components CSS classes map
COMPONENTS_CSS_MAP = {
    "heading" : "heading",
    "textbox" : "textbox",
    "password" : "password",
    "dropdown" : "dropdown",
    "radiobutton" : "radio",
    "checkbox" : "checkbox",
    "textarea" : "textarea",
    "hypertext" : "hypertext",
    "button" : "button",
    "container": "container",
    "livesearch": "livesearch",
    "richtextarea": "richtextarea",
    "fileupload" : "fileupload",
    "codeeditor": "codeeditor",
}


# def set_attr(app_id, object_id, param):
def on_update(object, attributes):
    """
    """
    xmldata = attributes.get("xmldata")
    # if "xmldata" in param:
    if xmldata:
        # obj = application.objects.search(object_id)

        # attr = (param["xmldata"]["value"]).replace('<![CDATA[', '<!--[CDATA[')
        # obj.attributes.xmldata = attr.replace(']'+']>', ']]-->')
        attributes["xmldata"] = xmldata.replace("<![CDATA[", "<!--[CDATA[").replace("]]]]><![CDATA[>", "]]-->")

    # return ""


def parse_int(value, default):
    """
    Parse str to int
    """
    try:
        return int(value)

    except Exception:
        return default


def to_bool(value, default):
    """
    Convert string value to boolean
    """
    return BOOL_MAP.get(value, default)


def escape_quote(text):
    """
    Quote escape
    """
    return text.replace('"', '&quot;')


def get_elem_attr(elem, attr, default):
    """
    Return attribute of element
    """
    value = elem.getAttribute(attr.lower()).strip()
    if not value:
        return default

    if isinstance(default, bool):
        value = BOOL_MAP.get(value, default)

    return value


def get_elem_attrs(elem):
    """
    Return dictionary of element attributes
    """
    return {attr.lower(): value for attr, value in elem.attributes.items()}


def get_elem_props(elem):
    """
    Return dictionary of element Property section
    """
    props = {}

    properties = None
    for child in elem.childNodes:
        if child .nodeType == child.ELEMENT_NODE and \
           child.localName.lower() == "properties":
            
            properties = child
            break

    if not properties:
        return props

    is_property_node = lambda node: node.nodeType == node.ELEMENT_NODE and \
                                    node.localName == 'Property' and \
                                    node.childNodes

    for node in properties.childNodes:
        if not is_property_node(node):
            continue

        name = get_elem_attr(node, "name", "").lower()
        if name == "options":
            data = [child for child in node.childNodes if child.nodeType == child.ELEMENT_NODE]

        else:
            data = node.childNodes[0].nodeValue.strip()

        if data and name:
            props[name] = data

    return props


def is_disabled(elem):
    """
    Check is element disabled or not
    """
    return u"""disabled="disabled\"""" if get_elem_attr(elem, "disabled", False) else u""


def is_readonly(elem):
    """
    Check is element readonly or not
    """
    return u"""readonly="readonly\"""" if get_elem_attr(elem, "readonly", False) else u""


def is_multiple(elem):
    """
    Check is element readonly or not
    """
    return u"""multiple="multiple\"""" if get_elem_attr(elem, "multiple", False) else u""


def is_visible(elem):
    """
    Check element's visibility
    """
    return u"" if get_elem_attr(elem, "visible", True) else u"""style="display: none\""""


def is_fullsize(elem):
    """
    Check is element fullsize or not
    """
    return "fullsize" if get_elem_attr(elem, "fullsize", False) else u""


def get_elem_options(options):
    """
    Get Options section of elemet
    """
    if not options:
        return []

    result = []
    for option in options:
        key = get_elem_attr(option, "id", "")
        value = option.childNodes[0].nodeValue.strip()

        if key and value:
            result.append((key, value))

    return result
    

def make_div_row(html, elem, label):
    """
    Wraps HTML data to DIV
    """
    return (u"""<div class="row {fullsize} {classes}" {visibility}>"""
            u"""<label class="title">{label}</label>"""
            u"""<div class="item {elem_type}">{html}</div>"""
            u"""<br style="clear: both" />"""
            u"""</div>""").format(
                fullsize=is_fullsize(elem),
                classes=get_elem_attr(elem, "class", ""),
                visibility=is_visible(elem),
                label=label,
                elem_type=COMPONENTS_CSS_MAP[elem.localName.lower()],
                html=html
            ) 


def render_heading(elem):
    """
    Render Heading component

    Example:

    <Heading id='headingName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 level='1 | 2 | 3 | 4 | 5 | 6'>

        <Properties>
            <Property name='text'><!--[CDATA[Heading text]]--></Property>
        </Properties>
    </Heading>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    level = parse_int(attrs.get("level", "3"), 3)
    if not (6 >= level >= 1):
        level = 3

    return u"""<h{level} class="{classes}" id="{attr_id}" {visibility}>{text}</h{level}>""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        classes=attrs.get("class", ""),
        level=level,
        text=props.get("text", ""),
        visibility=is_visible(elem),
    )

    return html


def render_textbox(elem):
    """
    Render TextBox component

    Example:

    <TextBox id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Label]]--></Property>
            <Property name='defaultValue'><!--[CDATA[Test]]--></Property>
        </Properties>
    </TextBox>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    html = u"""<input type="text" name="{attr_id}" value="{value}" {disabled} {readonly} />""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        value=escape_quote(props.get("defaultvalue", "")),
        disabled=is_disabled(elem),
        readonly=is_readonly(elem)
    )

    return make_div_row(html, elem, props.get("label", ""))


def render_password(elem):
    """
    Render Password component

    Example:

    <Password id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Label]]--></Property>
            <Property name='defaultValue'><!--[CDATA[Test]]--></Property>
        </Properties>
    </Password>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    html = u"""<input type="password" name="{attr_id}" value="{value}" {disabled} {readonly} />""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        value=escape_quote(props.get("defaultvalue", "")),
        disabled=is_disabled(elem),
        readonly=is_readonly(elem)
    )

    return make_div_row(html, elem, props.get("label", ""))


def render_dropdown(elem):
    """
    Render DropDown component

    Example:

    <DropDown id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 sort='0 | 1 | 2 | key | value'
                 order='0 | 1 | 2 | asc | desc'
                 multiple='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Test]]--></Property>
            <Property name='rows'><!--[CDATA[10]]--></Property>
            <Property name='selected'><!--[CDATA[key1,key3]]--></Property>
            <Property name='disabled'><!--[CDATA[key1,key2]]--></Property>
            <Property name='options'>
                <option id='key2'>val2</option>
                <option id='key1'>val1</option>
                <option id='key3'>val3</option>
            </Property>
        </Properties>
    </DropDown>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    rows = parse_int(props.get("rows", "0"), 0)
    options = get_elem_options(props.get("options", []))
    sort_type = SORT_MAP.get(attrs.get("sort", "0"), "default")
    sort_order = SORT_ORDER_MAP.get(attrs.get("order", "0"), "default")

    if sort_type != "default":
        options = sorted(options, key=sort_type)

        if sort_order == "desc":
            options = reversed(options)

    selected_keys = [key.strip() for key in props.get("selected", "").split(",")]
    disabled_keys = [key.strip() for key in props.get("disabled", "").split(",")]

    multiple = is_multiple(elem)
    if not multiple and len(selected_keys) > 1:
        selected_keys = selected_keys[-1:]

    options_html = []
    for key, value in options:
        selected = u"""selected="selected\"""" if key in selected_keys and not (key in disabled_keys) else u""
        disabled = u"""disabled="disabled\"""" if key in disabled_keys else u""

        options_html.append(u"""<option value="{key}" {selected} {disabled}>{value}</option>""".format(
            key=escape_quote(key),
            value=value,
            selected=selected,
            disabled=disabled
        ))

    html = u"""<select name="{attr_id}" {size} {multiple} {disabled}>{options}</select>""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        size=u"""size="{}\"""".format(rows) if rows else u"",
        multiple=multiple,
        disabled=is_disabled(elem),
        options=u"".join(options_html)
    )

    return make_div_row(html, elem, props.get("label", ""))


def render_radiobutton(elem):
    """
    Render RadioButton component

    Example:

    <RadioButton id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'
                 sort='0 | 1 | 2 | key | value'
                 order='0 | 1 | 2 | asc | desc'
                 breakline='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Test]]--></Property>
            <Property name='selected'><!--[CDATA[key1]]--></Property>
            <Property name='options'>
                <option id='key2'>val2</option>
                <option id='key1'>val1</option>
                <option id='key3'>val3</option>
            </Property>
        </Properties>
    </RadioButton>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    disabled = is_disabled(elem)
    selected_key = props.get("selected", "").strip()
    options = get_elem_options(props.get("options", []))
    sort_type = SORT_MAP.get(attrs.get("sort", "0"), "default")
    sort_order = SORT_ORDER_MAP.get(attrs.get("order", "0"), "default")
    breakline = u"<br/>" if to_bool(attrs.get("breakline", "0"), False) else u""

    if sort_type != "default":
        options = sorted(options, key=sort_type)

        if sort_order == "desc":
            options = reversed(options)

    elem_id = escape_quote(attrs.get("id", ""))
    options_html = []
    for key, value in options:
        selected = u"""checked="checked\"""" if key == selected_key else u""
        
        options_html.append(u"""<label><input autocomplete="off" type="radio" name="{attr_id}" value="{key}" {selected} {disabled} />&nbsp;{label}</label>{breakline}""".format(
            attr_id=elem_id,
            selected=selected,
            disabled=disabled,
            label=value,
            key=escape_quote(key),
            breakline=breakline
        ))

    return make_div_row(u"".join(options_html), elem, props.get("label", ""))


def render_checkbox(elem):
    """
    Render CheckBox component

    Example:

    <CheckBox id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 sort='0 | 1 | 2 | key | value'
                 order='0 | 1 | 2 | asc | desc'
                 breakline='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Test]]--></Property>
            <Property name='selected'><!--[CDATA[key1,key2]]--></Property>
            <Property name='disabled'><!--[CDATA[key1,key3]]--></Property>
            <Property name='options'>
                <option id='key2'>val2</option>
                <option id='key1'>val1</option>
                <option id='key3'>val3</option>
            </Property>
        </Properties>
    </CheckBox>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    disabled = is_disabled(elem)
    options = get_elem_options(props.get("options", []))
    sort_type = SORT_MAP.get(attrs.get("sort", "0"), "default")
    sort_order = SORT_ORDER_MAP.get(attrs.get("order", "0"), "default")
    breakline = u"<br/>" if to_bool(attrs.get("breakline", "0"), False) else u""

    if sort_type != "default":
        options = sorted(options, key=sort_type)

        if sort_order == "desc":
            options = reversed(options)

    selected_keys = [key.strip() for key in props.get("selected", "").split(",")]
    disabled_keys = [key.strip() for key in props.get("disabled", "").split(",")]

    options_html = []
    elem_id = escape_quote(attrs.get("id", ""))

    for key, value in options:
        selected = u"""checked="checked\"""" if key in selected_keys else u""
        inactive = u"""disabled="disabled\"""" if disabled or key in disabled_keys else u""
        
        options_html.append(u"""<label><input autocomplete="off" type="checkbox" name="{attr_id}[{key}]" {selected} {disabled} />&nbsp;{label}</label>{breakline}""".format(
            attr_id=elem_id,
            selected=selected,
            disabled=inactive,
            label=value,
            key=escape_quote(key),
            breakline=breakline
        ))

    return make_div_row(u"".join(options_html), elem, props.get("label", ""))


def render_textarea(elem):
    """
    Render TextArea component

    Example:

    <TextArea id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Label]]--></Property>
            <Property name='defaultValue'><!--[CDATA[Test]]--></Property>
            <Property name='width'><!--[CDATA[400]]--></Property>
            <Property name='height'><!--[CDATA[500]]--></Property>
        </Properties>
    </TextArea>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    width = parse_int(props.get("width", "0"), 0)
    height = parse_int(props.get("height", "0"), 0)

    style = u"""style="{width}{height}\"""".format( 
        width=u"width: {}px;".format(width) if width else u"", 
        height=u"height: {}px;".format(height) if height else u""
    )
        
    html = u"""<textarea name="{attr_id}" {disabled} {readonly} {style}>{value}</textarea>""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        disabled=is_disabled(elem),
        readonly=is_readonly(elem),
        style=style,
        value=props.get("defaultvalue", "")
    )       
    
    return make_div_row(html, elem, props.get("label", ""))

def render_hypertext(elem):
    """
    Render Hypertext component

    Example:

    <Hypertext id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'>

        <Properties>
            <Property name='value'><!--[CDATA[<span>blabla</span>]]--></Property>
        </Properties>
    </Hypertext>
    """
    props = get_elem_props(elem) 
    return make_div_row(props.get("value", ""), elem, props.get("label", ""))


def render_button(elem):
    """
    Render Button component

    Example:

    <Button id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 disabled='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Label]]--></Property>
            <Property name='buttonAlign'><!--[CDATA[center | justify | left | right | start | end]]--></Property>
            <Property name='buttonImage'><!--[CDATA[/path/to/image.png]]--></Property>
        </Properties>
    </Button>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    align = props.get("buttonalign", "").strip().replace("'",'&acute;')
    image = props.get("buttonimage", "").strip().replace("'",'&acute;')
    label = props.get("label", "").replace("'",'&acute;')

    if image:
        button = u"""<input type="image" alt="{label}" title="{label}" src="{img}" {disabled} />""".format( 
            label=label,
            img=image,
            disabled=is_disabled(elem)
        )

    else:
        button = u"""<input type="submit" value="{label}" {disabled} />""".format(
            label=label,
            disabled=is_disabled(elem)
        )

    return (u"""<div class="row" {visible}>"""
            u"""<div id='{attr_id}' class="submit {classes}" style="text-align: {align}">"""
            u"""{button}"""
            u"""</div>"""
            u"""</div>""").format(
                visible=is_visible(elem),
                align=align,
                button=button,
                classes=attrs.get('class', ''),
                attr_id=escape_quote(attrs.get('id', ''))
            )


def render_default_button():
    """
    Render default form button
    """
    return u"""<div class="submit"><input type="submit" /></div>"""


def render_container(elem):
    """
    Render Container component

    Example:

    <Container id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'>
        <Properties>
            <Property name='width'><!--[CDATA[400px | 100%]]--></Property>
            <Property name='height'><!--[CDATA[500px | 100%]]--></Property>
        </Properties>  
        <Components>
            <Button>...
            <DropDown>...
            <Container>...
        </Components>
    </Container>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    width = props.get("width", "")
    height = props.get("height", "")

    style = u"""style="{width}{height}{visibility}\"""".format( 
        width=u"width: {};".format(width) if width else u"", 
        height=u"height: {};".format(height) if height else u"",
        visibility=u"display: none;" if is_visible(elem) else u"" ,
    )

    components = elem.getElementsByTagName('Components')
    components = render_components(components[0], elem.form_id) if components else u""    

    return (u"""<div id="{attr_id}" class="row fullsize {classes}" {style}>"""
            u"""<div class="item">"""
            u"""{components}"""
            u"""</div>"""
            u"""</div>""").format(
                attr_id=escape_quote(attrs.get("id", "")),
                classes=attrs.get("classes", ""),
                style=style,
                components=components
            )    


def render_livesearch(elem):
    """
    Render LiveSearch component

    Example:

    <LiveSearch id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>
        <Properties>
            <Property name='label'><!--[CDATA[LiveSearch]]--></Property>
            <Property name='sourceURI'><!--[CDATA[/blabla/livesearch]]--></Property>
            <Property name='sourceEvent'><!--[CDATA[something or empty]]--></Property>
            <Property name='sourceData'><!--[CDATA[["key1", "key2", "key3", "key4"] | [{label: '', value: ''}, {label: '', value: ''}]]]--></Property>                   
        </Properties>  
    </LiveSearch>

    If sourceEvent presented: callback 'liveSearch' will be executed, so do not forget register it.
    Params are:
        textarea - textarea object
        term - search query

    You need return data in format presented in sourceData
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    html = u"""<div id="xml-dialog-lvs-{attr_id}-data">{sourceData}</div><input id="xml-dialog-lvs-{attr_id}" name="{attr_id}" {disabled} {readonly} sourceuri="{sourceURI}" sourceevent="{sourceEvent}" value="{value}" />""".format(

        attr_id=escape_quote(attrs.get("id", "")),
        value=escape_quote(props.get("defaultvalue", "")),
        disabled=is_disabled(elem),
        readonly=is_readonly(elem),
        sourceURI=escape_quote(props.get("sourceuri", "")),
        sourceEvent=escape_quote(props.get("sourceevent", "")),
        sourceData=props.get("sourcedata", "").replace("&", "&amp;").replace("<", "&lt;")
    )

    return make_div_row(html, elem, props.get("label", ""))


def render_richtextarea(elem):
    """
    Render RichTextAreat component

    Example:

    <RichTextArea id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>
        <Properties>
            <Property name='label'><!--[CDATA[Rich Text Area]]--></Property>
            <Property name='defaultValue'><!--[CDATA[default value]]--></Property>
            <Property name='height'><!--[CDATA[500]]--></Property>
        </Properties>  
    </RichTextArea>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    html = u"""<textarea id="xml-dialog-rte-{attr_id}" name="{attr_id}" {disabled} {readonly} eheight="{height}">{value}</textarea>""".format(
        attr_id=escape_quote(attrs.get("id", "")),
        value=escape_quote(props.get("defaultvalue", "")),
        disabled=is_disabled(elem),
        readonly=is_readonly(elem),
        height=props.get("height", ""),
    )

    return make_div_row(html, elem, props.get("label", ""))


def render_fileupload(elem):
    """
    Render FileUpload component

    Example:

    <FileUpload id='uploadName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 fullsize='1 | 0 | true | false'>

        <Properties>
            <Property name='label'><!--[CDATA[Label]]--></Property>
        </Properties>
    </FileUpload>
    """
    attrs = get_elem_attrs(elem)
    props = get_elem_props(elem)

    code = u"""<script type="text/javascript">
        var max_fileupload_size = 15 * 1024 * 1024;
        var fileupload_next = 1;
        var fileupload_progress = 0;
        var update_selected_files = function() {{
            var val = "";
            $(".{attr_id}-guid").each(function(i) {{
                if (val != "") val = val + ",";
                val = val + $(this)[0].value;
            }});
            $("#{attr_id}")[0].value = val;
        }}
        var add_uploaded_file = function(filename, guid) {{
                var newelem = '<input type="text" id="{attr_id}_' + fileupload_next + '_name" name="{attr_id}_' + fileupload_next + '_name" readonly="readonly" disabled="disabled" />';
                var newelement = $(newelem);
                newelement[0].value = filename;
                var removebtn = '<button id="{attr_id}_remove_' + fileupload_next + '" class="{attr_id}-remove-me">x</button></div><div id="{attr_id}_div">';
                var removebutton = $(removebtn);
                var guidelem = '<input type="hidden" id="{attr_id}_' + fileupload_next + '" name="{attr_id}_' + fileupload_next + '" class="{attr_id}-guid" disabled="disabled" />';
                var guidelement = $(guidelem);
                guidelement[0].value = guid;
                $("#{attr_id}_input").before(newelement);
                $(newelement).after(guidelement);
                $(guidelement).after(removebutton);
                fileupload_next = fileupload_next + 1;
                $(".{attr_id}-remove-me").click(function(e) {{
                    e.preventDefault();
                    var fieldnum = this.id.substring("{attr_id}".length + 8);
                    $(this).remove();
                    $("#{attr_id}_" + fieldnum + "_name").remove();
                    $("#{attr_id}_" + fieldnum).remove();
                    update_selected_files();
                }});
                update_selected_files();
        }}
        var fileupload_started = function() {{
            if (fileupload_progress == 0) $('input[type="submit"]', $("#{form_id}")).attr("disabled", true);
            fileupload_progress = fileupload_progress + 1;
        }}
        var fileupload_ended = function() {{
            if (fileupload_progress > 0) fileupload_progress = fileupload_progress - 1;
            if (fileupload_progress == 0) {{
                $("#{attr_id}_progress")[0].innerHTML = "";
                $('input[type="submit"]', $("#{form_id}")).attr("disabled", false);
            }}
        }}
        var init_file_upload = function() {{
            $("#{form_id}").fileUploadUI({{
                url: "/upload.py",
                dataType: "json",
                dropZone: $("#{form_id}"),
                autoUpload: true,
                replaceFileInput: false,
                onComplete: function (event, files, index, xhr, handler) {{
                    var resp = xhr.response.trim();
                    if (xhr.status == 200 && resp.length == 36) add_uploaded_file(files[0].name, resp);
                    else {{
                        if (xhr.status != 200) alert("Upload error: " + xhr.statusText);
                        else alert("Upload error");
                    }}
                    fileupload_ended();
                }},
                onSend: function (event, files, index, xhr, handler) {{
                    if (!xhr.upload && handler.progressbar) handler.progressbar.progressbar("value", 100);
                    if (event.target.type == "file") event.target.value = "";
                    if (files[0].size <= max_fileupload_size) fileupload_started();
                    else alert("File is too big");
                }},
                onError: function (event, files, index, xhr, handler) {{
                }},
                onProgressAll: function (event, list) {{
                    if (fileupload_progress > 0) {{
                        var percent = parseInt(event.loaded / event.total * 100, 10);
                        $("#{attr_id}_progress")[0].innerHTML = "Uploading " + fileupload_progress + " file(s)... " + percent + "%";
                    }}
                }},
                onProgress: function (progressEvent, files, index, xhr, settings) {{
                    if (files[0].size > max_fileupload_size) xhr.abort();
                }},
            }});
        }}
        $(document).ready(function(){{
            init_file_upload();
        }});
    </script>""".format(attr_id=escape_quote(attrs.get("id", "")), form_id=escape_quote(elem.form_id))

    html = """<div id="{attr_id}_div"><input id="{attr_id}_input" name="{attr_id}_input" type="file"/><div id="{attr_id}_progress"></div><input id="{attr_id}" name="{attr_id}" type="hidden"/></div>""".format(attr_id=escape_quote(attrs.get("id", "")))

    return make_div_row(html, elem, props.get("label", "")) + code
    
    
def render_codeeditor(elem):
	"""
	Render CodeEditor component

	Example:

    <CodeEditor id='inputName'
                 class='css class'
                 visible= '1 | 0 | true | false'
                 disabled='1 | 0 | true | false'
                 readonly='1 | 0 | true | false'>
        <Properties>
            <Property name='label'><!--[CDATA[Code Editor Label]]--></Property>
            <Property name='value'><!--[CDATA[default value]]--></Property>
            <Property name='width'><!--[CDATA[360]]--></Property>
            <Property name='height'><!--[CDATA[130]]--></Property>
            <Property name='syntax'><!--[CDATA[python]]--></Property>
        </Properties>..
    </CodeEditor>
    """

	attrs = get_elem_attrs(elem)
	props = get_elem_props(elem)

	style = u"""overflow: visible; width: {width}px; height: {height}px; padding: 2px 5px 2px 5px; font: 14px tahoma""".format(width = props.get("width", ""), height = props.get("height", ""))
	style_area = u"""width:{width}px; height:{height}px""".format(width = props.get("width", ""), height = props.get("height", ""))

	html = u"""
<style type="text/css">#{id} .CodeMirror-scroll {{ height: {height}px; }}</style>
<div id="{id}" style="{style}">
	<textarea name="{name}" style="{style_area}">{value}</textarea>
</div>
<script type="text/javascript">$(document).bind('dialog.loaded', function(){{
	if (typeof window.{id}_codeeditor !== 'undefined') {{
		window.{id}_codeeditor.toTextArea();
		delete(window.{id}_codeeditor);
	}}
	window.{id}_codeeditor = CodeMirror.fromTextArea($('#{id}>textarea').get(0), {{
		mode: '{mode}',
		lineNumbers: true,
		styleActiveLine: true,
		onCursorActivity: function() {{ window.{id}_codeeditor.matchHighlight("CodeMirror-matchhighlight"); }}
	}})
	$('#{id}').parents('form:first').submit(function(){{
		window.{id}_codeeditor.save()
	}})
	window.{id}_codeeditor.refresh()
}});</script>
""".format(
		id	 = u"xml_dialog_ce_" + escape_quote(attrs.get("id", "")),
		name   = escape_quote(attrs.get("id", "")),
		mode   = props.get("syntax", ""),
		style  = style,
		style_area = style_area,
		value  = unicode(props.get("value", "")).replace('&', '&amp;').replace('<', '&lt;').replace('>', '&gt;').replace('"', '&quot;'),
		width  = props.get("width", ""),
		height = props.get("height", ""),
	)
	return html
#	return make_div_row(html, elem, props.get("label", ""))


COMPONENTS_MAP = {
    "heading" : render_heading,
    "textbox" : render_textbox,
    "password" : render_password,
    "dropdown" : render_dropdown,
    "radiobutton" : render_radiobutton,
    "checkbox" : render_checkbox,
    "textarea" : render_textarea,
    "hypertext" : render_hypertext,
    "button" : render_button,
    "livesearch": render_livesearch,
    "container": render_container,
    "fileupload" : render_fileupload,
    "richtextarea": render_richtextarea,
    "codeeditor": render_codeeditor,
}


def render_components(components, form_id):
    """
    Render XML components to HTML
    """
    result = []

    for elem in components.childNodes:
        if elem.nodeType != elem.ELEMENT_NODE:
            continue

        render = COMPONENTS_MAP.get(elem.localName.lower(), None)
        if render:
            elem.form_id = form_id
            result.append(render(elem))

    return "".join(result)


# try:
#     parent_class = VDOM_object

# except Exception as ex:
#     parent_class = object

#     VDOM_CONFIG_1 = {
#         "ENABLE-PAGE-DEBUG": "1",
#         "DEBUG": "1"
#     }


class VDOM_xmldialog(VDOM_object):
    """
    XML Dialog class
    """
        
    def exception_to_str(self, error, is_wysiwyg=False):
        """
        Exception to string
        """
        err_str = u""
        
        if is_wysiwyg or VDOM_CONFIG_1["ENABLE-PAGE-DEBUG"] == "1":
            err_str = u"""<p style="color:#ff0000;"><b>Error:</b> {0}</p>""".format(error)

        else:
            if VDOM_CONFIG_1["DEBUG"]=="1" :
                err_str = u"""<!--<p>Error: {0}</p>-->""".format(error)
                
        return err_str
    
    def xml_to_html(self, is_wysiwyg=False):
        """
        Conver XML data to HTML
        """
        if not self.xmldata:
            return u""

        try:
            xml_data = self.xmldata.encode("utf8")

        except Exception as ex:
            raise
            return self.exception_to_str(ex, is_wysiwyg=is_wysiwyg)

        xml_data = xml_data.replace('<!--[CDATA[', '<![CDATA[')\
                           .replace(']]-->', ']'+']>')

        if is_wysiwyg:
            # if WYSIWYG render - remove <script></script> from XML
            xml_data = RE_REMOVE_SCRIPT.sub("", xml_data)

        try:
            dom = parseString(xml_data)

        except Exception as ex:
            raise
            return self.exception_to_str(ex, is_wysiwyg=is_wysiwyg)

        form_id = u'xml_form_' + (self.id).replace('-', '_')

        components = dom.getElementsByTagName('Components')

        try:
            output = render_components(components[0], form_id) if components else u""

        except Exception as ex:
            raise
            return self.exception_to_str(ex, is_wysiwyg=is_wysiwyg)

        if not dom.getElementsByTagName("Button"):
            output += render_default_button()
        csrftoken = '<input type="hidden" name="%s" value="%s">' % (csrf_token_arg_name, create_csrf_token())
        return self.parse_dialog_title(dom), u"""<form id="{}" action="" method="post" enctype="multipart/form-data" class="xml-dialog-form">{} {}</form>""".format(form_id, output, csrftoken)


    def parse_dialog_title(self, elem):
        """
        Parse title value from DOM
        """
        default_title = self.title

        vdomf = elem.getElementsByTagName("VDOMFormContainer")
        if not vdomf:
            return default_title

        props = get_elem_props(vdomf[0])
        return props["label"] if "label" in props else default_title

    def render(self, contents=""):
        """
        VDOM Object render
        """
        idn = (self.id).replace('-', '_')
        oid = u'o_' + idn

        show = "false" if self.show == "0" else "true"
        modal = "false" if self.modal == "0" else "true"
        
        render_result = self.xml_to_html()
        if isinstance(render_result, (list, tuple)):
            title, html = render_result

        else:
            title, html = '', render_result
        
        if VDOM_CONFIG_1["DEBUG"] == "1":
            debug_info = u"objtype='xmldialog' objname='%s' ver='%s'" % (self.name, self.type.version)
        else:
            debug_info = u""

        result = """
<div style='display:none' %(debug_info)s><div id='%(id)s'>%(data)s</div></div>
<script type='text/javascript'>$(function(){
	$.widget("ui.dialog", $.extend({}, $.ui.dialog.prototype, {
		_title: function(title) {
			if (!this.options.title) {
				title.html("&#160;");
			} else {
				title.html(this.options.title);
			}
		}
	}));

    dialog = $("#%(id)s")
    var dialogScripts = $("#%(id)s").find("script");
    dialogScripts.remove();
    $("#%(id)s").data('ev','1');
    $("#%(id)s:ui-dialog").dialog("destroy");
    $("#%(id)s").dialog({
        title: "%(title)s",
        width: %(width)s,
        height: %(height)s,
        modal: %(modal)s,
        draggable: !%(modal)s,
        resizable: false,
        autoOpen: %(show)s,
        open: function(e,u) {
            var dialog = $("#%(id)s");
            if (dialog.data('ev')=='1') execEventBinded('%(idn)s', "show", {});

            vdom_xd_create_richtextarea(dialog);
            vdom_xd_create_livesearch(dialog);

            $.datepicker.setDefaults($.datepicker.regional['fr']);
            $('#%(id)s input.date, #%(id)s .date input').datepicker('destroy').datepicker({
                dateFormat: 'dd/mm/yy', showButtonPanel: true
            }).blur();
        },
        close: function(e,u) {
            $('#ui-datepicker-div,#ColorDropdown_selector').fadeOut();
            if ($("#%(id)s").data('ev')=='1') execEventBinded('%(idn)s', "hide", {});
        }
    });
    
    $("#%(id)s form.xml-dialog-form").on('submit',function(e){
        function escapeXml(s) {
            return s.replace(/[<>&'"]/g, function (c) {
                switch (c) {
                    case '<': return '&lt;';
                    case '>': return '&gt;';
                    case '&': return '&amp;';
                    case "'": return '&apos;';
                    case '"': return '&quot;';
                }
            });
        }
        e.preventDefault;
        for (var i in window["xmlDialogTinyEditors"])
            window["xmlDialogTinyEditors"][i].post();

        var x=[], a=$(this).serializeArray();
        for (var k of a) if(typeof k.name !== 'undefined' && typeof k.value !== 'undefined') x[escapeXml(k.name)]=k.value;
        execEventBinded('%(idn)s', "submit", x);
        return false;
    });
    
    $(document).trigger('dialog.loaded')
    var dialogContainer = document.getElementById('%(id)s');
    dialogScripts.each(function() { dialogContainer.appendChild(this); });
});</script>""" % {
            "data":   html,
            "id":     oid,
            "idn":    idn,
            "width":  self.width,
            "height": self.height,
            "title":  title.replace('"','&quot;'),
            "show":   show,
            "modal":  modal,
            "debug_info": debug_info
        }

        return  VDOM_object.render(self, contents=result)

    def wysiwyg(self, contents=""):
        """
        WYSIWYG render
        """
        dialog_width = int(self.width) if int(self.width) >= 150 else 150
        dialog_height = int(self.height) if int(self.height) >= 50 else 50
        
        render_result = self.xml_to_html(True)
        if isinstance(render_result, (list, tuple)):
            title, html = render_result

        else:
            title, html = '', render_result

        title = title.replace('"','&quot;')

        result= \
            u"""<container name="{name}" id="{id}" hierarchy="{hierarchy}" order="{order}" 
                            top="{top}" left="{left}" width="{width}" height="{height}" overflow="visible">
                    <svg>
                        <rect x="0" y="0" rx="7" ry="5" width="{width}" height="{height}" fill="#eeeeee"/>
                        <rect x="3" y="3" rx="7" ry="5" width="{rect_width}" height="30" fill="#333333"/>
                        <line x1="{line_x1}"  y1="14" x2="{line_x2}"   y2="22" style="stroke:#eeeeee; stroke-width:3;"/>
                        <line x1="{line_x1}"  y1="22" x2="{line_x2}"   y2="14" style="stroke:#eeeeee; stroke-width:3;"/>
                        <text x="13" y="22" width="{title_width}" fill="#eeeeee" font-size="14">{dlg_title}</text>
                    </svg>
                    
                    <htmltext top="35" left="10" width="{content_width}" height="{content_height}">
                        <div>{xmldata}</div>
                    </htmltext>
                </container>
            """.format( 
                id=self.id,
                hierarchy=self.hierarchy,
                order=self.order, 
                top=self.top,
                left=self.left, 
                width=self.width,
                height=self.height,
                rect_width=dialog_width-6,
                line_x1=dialog_width-20,
                line_x2=dialog_width-12,
                title_width=dialog_width-25,
                content_height=dialog_height-40,
                content_width=dialog_width-20,
                xmldata=html,
                dlg_title=title,
                name=self.name
            )

        return VDOM_object.wysiwyg(self, contents=result)


# if __name__ == "__main__":

#     xml_dialog = VDOM_xmldialog()
#     xml_dialog.title = "Default title"
#     xml_dialog.id = "9f1c05cd-fee2-6055-2ef4-16fae6375ed7"
#     xml_dialog.show = "1"
#     xml_dialog.modal = "1"
#     xml_dialog.width = "300"
#     xml_dialog.height = "300"
#     xml_dialog.top = "0"
#     xml_dialog.left = "0"
#     xml_dialog.hierarchy = "0"
#     xml_dialog.order = "0"
#     xml_dialog.name = "xmldialog"

#     xml_dialog.xmldata = \
# u"""<?xml version='1.0' encoding='utf-8'?>
# <VDOMFormContainer>
#     <Properties>
#         <Property name='label'><!--[CDATA[Default Email Composer]]--></Property>
#     </Properties>
#     <Components>
#     <RichTextArea id='inputName'
#                  class='css class'
#                  visible= '1 | 0 | true | false'
#                  fullsize='1 | 0 | true | false'
#                  disabled='1 | 0 | true | false'
#                  readonly='1 | 0 | true | false'>
#         <Properties>
#             <Property name='label'><!--[CDATA[Rich Text Area]]--></Property>
#             <Property name='defaultValue'><!--[CDATA[default value]]--></Property>
#         </Properties>  
#     </RichTextArea>
#     </Components>
# </VDOMFormContainer>"""

#     print xml_dialog.wysiwyg('', '')
#     print xml_dialog.render('', '')]]>
	</SourceCode>
	<Libraries>
		<Library Target="html"><![CDATA[
			<link rel="preload" href="/9f1c05cd-fee2-6055-2ef4-16fae66214c8.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
			<noscript><link rel="stylesheet" href="/9f1c05cd-fee2-6055-2ef4-16fae66214c8.css"></noscript>
			]]>
		</Library>
		<Library Target="html"><![CDATA[
			<link rel="preload" href="/97bb6c7e-baa0-43e7-b4c9-1d78cf916efe.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
			<noscript><link rel="stylesheet" href="/97bb6c7e-baa0-43e7-b4c9-1d78cf916efe.css"></noscript>
			]]>
		</Library>
		<Library Target="html"><![CDATA[<script defer type="text/javascript" src="/9f1c05cd-fee2-6055-2ef4-16fae32145d0.res?v1.02"></script>]]></Library>
		<Library Target="html"><![CDATA[<script defer type="text/javascript" src="/9f1c05cd-fee2-6055-2ef4-16fae32bafe5.res"></script>]]></Library>
		
		<!-- CODE MIRROR LIB -->
		<Library Target="html"><![CDATA[<script defer type="text/javascript" src="/064add91-8595-0f40-10ea-09d38022edee.js"></script>]]></Library>
		
		<Library Target="html"><![CDATA[<script defer type="text/javascript" src="/5cd10fee-6e10-5253-24ea-3edb0a87f9ec.res?match"></script>]]></Library>
		<Library Target="html"><![CDATA[<script defer type="text/javascript" src="/95be4415-7ccb-b87b-f50f-77c8485f6bd9.res?syntaxes"></script>]]></Library>
		<Library Target="html"><![CDATA[<script defer type='text/javascript' src='/b4993ec8-6d66-8240-22a7-48fbbedfe371.res'></script>]]></Library>
	</Libraries>
	<E2VDOM>
		<Events>
			<UserInterfaceEvents>
				<Event Name="customEvent" Description="#Lang(509)">
					<Parameters>
						<Parameter Name="macros_id" Description="#Lang(902)" Order="0"/>
					</Parameters>
				</Event>
				<Event Name="hide" Description="#Lang(506)"/>
				<Event Name="submit" Description="#Lang(508)">
					<Parameters>
						<Parameter Name="params" Description="#Lang(901)" Order="0"/>
					</Parameters>
				</Event>
				<Event Name="show" Description="#Lang(507)"/>
			</UserInterfaceEvents>
		</Events>
		<Actions>
			<Container ID="2330fe83-8cd6-4ed5-907d-11874e7ebcf4">
				<Action Name="resizeTo" DisplayName="#Lang(603)" Description="#Lang(503)">
					<Parameters>
						<Parameter Name="width" DisplayName="#Lang(703)" Description="#Lang(803)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
						<Parameter Name="height" DisplayName="#Lang(704)" Description="#Lang(804)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
					</Parameters>
					<SourceCode>
<![CDATA[$("#"+this.domCont.id).dialog("option",{width:parseInt(width,10),height:parseInt(height,10)});]]>
					</SourceCode>
				</Action>
				<Action Name="hide" DisplayName="#Lang(601)" Description="#Lang(501)">
					<Parameters>
						<Parameter Name="fade" DisplayName="#Lang(701)" Description="#Lang(801)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
					</Parameters>
					<SourceCode>
<![CDATA[$("#"+this.domCont.id).dialog('close');]]>
					</SourceCode>
				</Action>
				<Action Name="show" DisplayName="#Lang(602)" Description="#Lang(502)">
					<Parameters>
						<Parameter Name="fade" DisplayName="#Lang(702)" Description="#Lang(802)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
					</Parameters>
					<SourceCode>
<![CDATA[$("#"+this.domCont.id).dialog('open');]]>
					</SourceCode>
				</Action>
				<Action Name="executeCallback" DisplayName="#Lang(605)" Description="#Lang(505)">
					<Parameters>
						<Parameter Name="callbackName" DisplayName="#Lang(706)" Description="#Lang(806)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
						<Parameter Name="params" DisplayName="#Lang(707)" Description="#Lang(807)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
					</Parameters>
					<SourceCode>
<![CDATA[$("#"+this.domCont.id).dialog('executeCallback', callbackName, params);]]>
					</SourceCode>
				</Action>
				<Action Name="loadData" DisplayName="#Lang(604)" Description="#Lang(504)">
					<Parameters>
						<Parameter Name="xmldata" DisplayName="#Lang(705)" Description="#Lang(805)" DefaultValue="0" RegularExpressionValidation=".*" Interface="" />
					</Parameters>
					<SourceCode>
<![CDATA[vdom_xd_load("#"+this.domCont.id,xmldata);]]>
					</SourceCode>
				</Action>
			</Container>
		</Actions>
	</E2VDOM>
</Type>
